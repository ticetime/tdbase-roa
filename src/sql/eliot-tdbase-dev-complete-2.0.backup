--
-- PostgreSQL database dump
--

-- Dumped from database version 9.1.4
-- Dumped by pg_dump version 9.1.4
-- Started on 2013-09-26 14:41:15 CEST

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 6 (class 2615 OID 666248)
-- Name: aaf; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA aaf;


ALTER SCHEMA aaf OWNER TO eliot_scolarite;

--
-- TOC entry 7 (class 2615 OID 666249)
-- Name: annuaire_interface; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA annuaire_interface;


ALTER SCHEMA annuaire_interface OWNER TO eliot_scolarite;

--
-- TOC entry 8 (class 2615 OID 666250)
-- Name: backoffice; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA backoffice;


ALTER SCHEMA backoffice OWNER TO eliot_scolarite;

--
-- TOC entry 9 (class 2615 OID 666251)
-- Name: bascule_annee; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA bascule_annee;


ALTER SCHEMA bascule_annee OWNER TO eliot_scolarite;

--
-- TOC entry 10 (class 2615 OID 666252)
-- Name: emaeval_interface; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA emaeval_interface;


ALTER SCHEMA emaeval_interface OWNER TO eliot_scolarite;

--
-- TOC entry 11 (class 2615 OID 666253)
-- Name: ent; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA ent;


ALTER SCHEMA ent OWNER TO eliot_scolarite;

--
-- TOC entry 12 (class 2615 OID 666254)
-- Name: ent_2011_2012; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA ent_2011_2012;


ALTER SCHEMA ent_2011_2012 OWNER TO eliot_scolarite;

--
-- TOC entry 13 (class 2615 OID 666255)
-- Name: entcdt; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA entcdt;


ALTER SCHEMA entcdt OWNER TO eliot_scolarite;

--
-- TOC entry 14 (class 2615 OID 666256)
-- Name: entdemon; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA entdemon;


ALTER SCHEMA entdemon OWNER TO eliot_scolarite;

--
-- TOC entry 15 (class 2615 OID 666257)
-- Name: entnotes; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA entnotes;


ALTER SCHEMA entnotes OWNER TO eliot_scolarite;

--
-- TOC entry 16 (class 2615 OID 666258)
-- Name: entnotes_2011_2012; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA entnotes_2011_2012;


ALTER SCHEMA entnotes_2011_2012 OWNER TO eliot_scolarite;

--
-- TOC entry 17 (class 2615 OID 666259)
-- Name: enttemps; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA enttemps;


ALTER SCHEMA enttemps OWNER TO eliot_scolarite;

--
-- TOC entry 18 (class 2615 OID 666260)
-- Name: enttemps_2011_2012; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA enttemps_2011_2012;


ALTER SCHEMA enttemps_2011_2012 OWNER TO eliot_scolarite;

--
-- TOC entry 19 (class 2615 OID 666261)
-- Name: forum; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA forum;


ALTER SCHEMA forum OWNER TO eliot_scolarite;

--
-- TOC entry 20 (class 2615 OID 666262)
-- Name: impression; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA impression;


ALTER SCHEMA impression OWNER TO eliot_scolarite;

--
-- TOC entry 21 (class 2615 OID 666263)
-- Name: notification; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA notification;


ALTER SCHEMA notification OWNER TO eliot_scolarite;

--
-- TOC entry 28 (class 2615 OID 671844)
-- Name: parametrage_classe; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA parametrage_classe;


ALTER SCHEMA parametrage_classe OWNER TO eliot_scolarite;

--
-- TOC entry 22 (class 2615 OID 666264)
-- Name: securite; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA securite;


ALTER SCHEMA securite OWNER TO eliot_scolarite;

--
-- TOC entry 23 (class 2615 OID 666265)
-- Name: synchro; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA synchro;


ALTER SCHEMA synchro OWNER TO eliot_scolarite;

--
-- TOC entry 24 (class 2615 OID 666266)
-- Name: td; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA td;


ALTER SCHEMA td OWNER TO eliot_scolarite;

--
-- TOC entry 25 (class 2615 OID 666267)
-- Name: tice; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA tice;


ALTER SCHEMA tice OWNER TO eliot_scolarite;

--
-- TOC entry 26 (class 2615 OID 666268)
-- Name: udt; Type: SCHEMA; Schema: -; Owner: eliot_scolarite
--

CREATE SCHEMA udt;


ALTER SCHEMA udt OWNER TO eliot_scolarite;

--
-- TOC entry 640 (class 3079 OID 11907)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 5821 (class 0 OID 0)
-- Dependencies: 640
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 641 (class 3079 OID 666269)
-- Dependencies: 27
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- TOC entry 5822 (class 0 OID 0)
-- Dependencies: 641
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 656 (class 1255 OID 666276)
-- Dependencies: 2056 7
-- Name: insertion_interdite(); Type: FUNCTION; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE FUNCTION insertion_interdite() RETURNS trigger
    LANGUAGE plpgsql
    AS $$ BEGIN
        RAISE EXCEPTION 'L''insertion des données dans la table ''%.%'' est interdite', TG_TABLE_SCHEMA, TG_TABLE_NAME;
      END;
      $$;


ALTER FUNCTION annuaire_interface.insertion_interdite() OWNER TO eliot_scolarite;

SET search_path = enttemps, pg_catalog;

--
-- TOC entry 658 (class 1255 OID 666277)
-- Dependencies: 2056 17
-- Name: agenda_before_insert(); Type: FUNCTION; Schema: enttemps; Owner: eliot_scolarite
--

CREATE FUNCTION agenda_before_insert() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
      DECLARE
      code_type_agenda varchar(30); 
      agenda_id bigint; 

      BEGIN
      select code into code_type_agenda
      from enttemps.type_agenda as ta
      where ta.id = NEW.type_agenda_id; 

      -- Agenda de type calendrier scolaire
      IF code_type_agenda ='CSE' THEN
      select agenda_id into agenda_id
      from enttemps.agenda as a
      join enttemps.type_agenda as t on (a.type_agenda_id = t.id)
      where t.code = 'CSE'
      and NEW.etablissement_id = a.etablissement_id; 

      IF FOUND THEN
      RAISE EXCEPTION 'Le calendrier scolaire existe déjà pour cet
      établissement'; 
      END IF; 

      ELSE
      --Agenda de type Structure d'enseignement
      IF code_type_agenda ='ETS' THEN
      select agenda_id into agenda_id
      from enttemps.agenda as a
      join enttemps.type_agenda as t on (a.type_agenda_id = t.id)
      join ent.structure_enseignement as struct on (a.structure_enseignement_id
      = struct.id)
      where t.code = 'ETS'
      and NEW.structure_enseignement_id = a.structure_enseignement_id; 

      IF FOUND THEN
      RAISE EXCEPTION 'Agenda de structure existe déjà'; 
      END IF; 

      ELSE
      -- Agenda de type enseignant
      IF code_type_agenda ='ETE' THEN
      select agenda_id into agenda_id
      from enttemps.agenda as a
      join enttemps.type_agenda as t on (a.type_agenda_id = t.id)
      join securite.autorite as aut on (a.enseignant_id = aut.id)
      where t.code = 'ETE'
      and NEW.etablissement_id = a.etablissement_id
      and NEW.enseignant_id = a.enseignant_id; 

      IF FOUND THEN
      RAISE EXCEPTION 'Agenda enseignant existe déjà'; 
      END IF; 

      END IF; 
      END IF; 
      END IF; 

      RETURN NEW; 
      END; 
      $$;


ALTER FUNCTION enttemps.agenda_before_insert() OWNER TO eliot_scolarite;

SET search_path = aaf, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 185 (class 1259 OID 666278)
-- Dependencies: 6
-- Name: import; Type: TABLE; Schema: aaf; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE import (
    id bigint NOT NULL,
    type_import character varying(32) NOT NULL,
    type_fichier character varying(32) NOT NULL,
    nom_fichier character varying(1024) NOT NULL,
    code_annee_scolaire character varying(16) NOT NULL,
    stats text,
    indice_fichier bigint,
    date_export_fichier timestamp without time zone,
    date_import timestamp without time zone NOT NULL,
    porteur character varying(128),
    academie character varying(128),
    demande_import_id bigint
);


ALTER TABLE aaf.import OWNER TO eliot_scolarite;

--
-- TOC entry 186 (class 1259 OID 666284)
-- Dependencies: 6
-- Name: import_id_seq; Type: SEQUENCE; Schema: aaf; Owner: eliot_scolarite
--

CREATE SEQUENCE import_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE aaf.import_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5823 (class 0 OID 0)
-- Dependencies: 186
-- Name: import_id_seq; Type: SEQUENCE SET; Schema: aaf; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('import_id_seq', 1, false);


--
-- TOC entry 187 (class 1259 OID 666286)
-- Dependencies: 3687 6
-- Name: import_verrou; Type: TABLE; Schema: aaf; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE import_verrou (
    id bigint NOT NULL,
    verrou boolean DEFAULT false,
    import_id bigint,
    date_pose_verrou timestamp without time zone
);


ALTER TABLE aaf.import_verrou OWNER TO eliot_scolarite;

SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 188 (class 1259 OID 666290)
-- Dependencies: 3688 3689 3690 7
-- Name: entite; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE entite (
    id bigint NOT NULL,
    demande_import_id bigint NOT NULL,
    execution_id bigint,
    type_requete character varying(20) NOT NULL,
    statut character varying(10) NOT NULL,
    type_erreur_id bigint,
    CONSTRAINT chk_en_erreur CHECK ((((statut)::text <> 'EN_ERREUR'::text) OR (type_erreur_id IS NOT NULL))),
    CONSTRAINT chk_entite_statut CHECK (((((statut)::text = 'EN_ATTENTE'::text) OR ((statut)::text = 'EN_ERREUR'::text)) OR ((statut)::text = 'TERMINE'::text))),
    CONSTRAINT chk_entite_type_requete CHECK (((((type_requete)::text = 'AJOUT'::text) OR ((type_requete)::text = 'MODIFICATION'::text)) OR ((type_requete)::text = 'SUPPRESSION'::text)))
);


ALTER TABLE annuaire_interface.entite OWNER TO eliot_scolarite;

--
-- TOC entry 189 (class 1259 OID 666296)
-- Dependencies: 3691 3692 3693 188 7
-- Name: admin_local; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE admin_local (
    autorite_id_externe character varying(128),
    etablissement_id_externe character varying(128)
)
INHERITS (entite);


ALTER TABLE annuaire_interface.admin_local OWNER TO eliot_scolarite;

--
-- TOC entry 190 (class 1259 OID 666302)
-- Dependencies: 7
-- Name: admin_local_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE admin_local_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.admin_local_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5824 (class 0 OID 0)
-- Dependencies: 190
-- Name: admin_local_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('admin_local_id_seq', 1, false);


--
-- TOC entry 191 (class 1259 OID 666304)
-- Dependencies: 3694 7
-- Name: alerte; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE alerte (
    id bigint NOT NULL,
    demande_import_id bigint NOT NULL,
    type_alerte_id bigint NOT NULL,
    type_entite character varying(40) NOT NULL,
    entite_id bigint NOT NULL,
    CONSTRAINT chk_alerte_type_entite CHECK ((((((((((type_entite)::text = 'ELEVE'::text) OR ((type_entite)::text = 'ETABLISSEMENT'::text)) OR ((type_entite)::text = 'PORTEUR'::text)) OR ((type_entite)::text = 'STRUCTURE_ENSEIGNEMENT'::text)) OR ((type_entite)::text = 'ADMIN_LOCAL'::text)) OR ((type_entite)::text = 'HORS_AAF'::text)) OR ((type_entite)::text = 'PERS_EDUC_NAT'::text)) OR ((type_entite)::text = 'RESPONSABLE_ELEVE'::text)))
);


ALTER TABLE annuaire_interface.alerte OWNER TO eliot_scolarite;

--
-- TOC entry 192 (class 1259 OID 666308)
-- Dependencies: 7
-- Name: alerte_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE alerte_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.alerte_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5825 (class 0 OID 0)
-- Dependencies: 192
-- Name: alerte_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('alerte_id_seq', 1, false);


--
-- TOC entry 193 (class 1259 OID 666310)
-- Dependencies: 3695 3696 3697 3698 3699 3700 3701 3702 3703 3704 3705 3706 3707 7
-- Name: demande_import; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE demande_import (
    id bigint NOT NULL,
    demande_date date NOT NULL,
    code_porteur character varying(32),
    academie character varying(128),
    mode_import_eleve character varying(10),
    mode_import_prof character varying(10),
    mode_import_parent character varying(10),
    mode_import_etablissement character varying(10),
    mode_import_structure_enseignement character varying(10),
    mode_import_porteur_ent character varying(10),
    mode_import_personne_hors_aaf character varying(10),
    mode_import_admin_local character varying(10),
    statut character varying(20) NOT NULL,
    date_debut timestamp with time zone,
    duree interval,
    correctif_demande_import_id bigint,
    etat_desactivation character varying(20) DEFAULT 'INACTIF'::character varying NOT NULL,
    duree_acces_restreint integer DEFAULT 60 NOT NULL,
    CONSTRAINT chk_demande_import_correctif CHECK (((correctif_demande_import_id IS NULL) OR ((statut)::text = 'EN_ERREUR'::text))),
    CONSTRAINT chk_demande_import_etat_desactivation CHECK ((((etat_desactivation)::text = 'INACTIF'::text) OR ((etat_desactivation)::text = 'ACCES_RESTREINT'::text))),
    CONSTRAINT chk_demande_import_mode_import_admin_local CHECK (((((mode_import_admin_local)::text = 'Delta'::text) OR ((mode_import_admin_local)::text = 'Complet'::text)) OR (mode_import_admin_local IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_eleve CHECK (((((mode_import_eleve)::text = 'Delta'::text) OR ((mode_import_eleve)::text = 'Complet'::text)) OR (mode_import_eleve IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_etablissement CHECK (((((mode_import_etablissement)::text = 'Delta'::text) OR ((mode_import_etablissement)::text = 'Complet'::text)) OR (mode_import_etablissement IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_parent CHECK (((((mode_import_parent)::text = 'Delta'::text) OR ((mode_import_parent)::text = 'Complet'::text)) OR (mode_import_parent IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_personne_hors_aaf CHECK (((((mode_import_personne_hors_aaf)::text = 'Delta'::text) OR ((mode_import_personne_hors_aaf)::text = 'Complet'::text)) OR (mode_import_personne_hors_aaf IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_porteur_ent CHECK (((((mode_import_porteur_ent)::text = 'Delta'::text) OR ((mode_import_porteur_ent)::text = 'Complet'::text)) OR (mode_import_porteur_ent IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_prof CHECK (((((mode_import_prof)::text = 'Delta'::text) OR ((mode_import_prof)::text = 'Complet'::text)) OR (mode_import_prof IS NULL))),
    CONSTRAINT chk_demande_import_mode_import_structure_enseignement CHECK (((((mode_import_structure_enseignement)::text = 'Delta'::text) OR ((mode_import_structure_enseignement)::text = 'Complet'::text)) OR (mode_import_structure_enseignement IS NULL))),
    CONSTRAINT chk_demande_import_statut CHECK ((((((((statut)::text = 'EN_ATTENTE'::text) OR ((statut)::text = 'EN_COURS'::text)) OR ((statut)::text = 'EN_ERREUR'::text)) OR ((statut)::text = 'TERMINE'::text)) OR ((statut)::text = 'EN_CHARGEMENT'::text)) OR ((statut)::text = 'ANNULE'::text)))
);


ALTER TABLE annuaire_interface.demande_import OWNER TO eliot_scolarite;

--
-- TOC entry 194 (class 1259 OID 666326)
-- Dependencies: 7
-- Name: demande_import_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE demande_import_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.demande_import_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5826 (class 0 OID 0)
-- Dependencies: 194
-- Name: demande_import_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('demande_import_id_seq', 2, true);


--
-- TOC entry 195 (class 1259 OID 666328)
-- Dependencies: 7
-- Name: personne; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE personne (
    autorite_id_externe character varying(128),
    autorite_id_externe_from_jointure character varying(128),
    civilite_libelle character varying(20),
    login character varying(128),
    alias character varying(60),
    nom character varying(40),
    prenom character varying(40),
    email character varying(256),
    telephone_pro character varying(17),
    telephone_perso character varying(17),
    telephone_portable character varying(17),
    fax character varying(17),
    adresse character varying(150),
    code_postal character varying(10),
    ville character varying(50),
    pays character varying(70),
    date_naissance date,
    sexe character varying(1),
    etablissement_rattachement_id_externe character varying(128),
    id_sconet character varying(50)
);


ALTER TABLE annuaire_interface.personne OWNER TO eliot_scolarite;

--
-- TOC entry 196 (class 1259 OID 666334)
-- Dependencies: 3708 3709 3710 195 188 7
-- Name: eleve; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE eleve (
    responsable_1_id_externe character varying(128),
    responsable_2_id_externe character varying(128),
    regime_libelle character varying(60),
    responsable_1_est_parent boolean,
    responsable_2_est_parent boolean
)
INHERITS (entite, personne);


ALTER TABLE annuaire_interface.eleve OWNER TO eliot_scolarite;

--
-- TOC entry 197 (class 1259 OID 666343)
-- Dependencies: 7
-- Name: eleve_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE eleve_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.eleve_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5827 (class 0 OID 0)
-- Dependencies: 197
-- Name: eleve_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('eleve_id_seq', 1, false);


--
-- TOC entry 198 (class 1259 OID 666345)
-- Dependencies: 3711 3712 3713 3714 7
-- Name: eleve_repartition; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE eleve_repartition (
    id bigint NOT NULL,
    type_erreur_id bigint,
    eleve_autorite_id_externe character varying(128) NOT NULL,
    structure_enseignement_code character varying(50) NOT NULL,
    structure_enseignement_type character varying(10) NOT NULL,
    etablissement_id_externe character varying(128) NOT NULL,
    mef_code character varying(32),
    mef_libelle character varying(256),
    demande_import_id bigint NOT NULL,
    statut character varying(10) DEFAULT 'TERMINE'::character varying NOT NULL,
    CONSTRAINT chk_eleve_repartition_statut CHECK ((((((statut)::text = 'EN_ATTENTE'::text) OR ((statut)::text = 'EN_COURS’'::text)) OR ((statut)::text = 'EN_ERREUR'::text)) OR ((statut)::text = 'TERMINE'::text))),
    CONSTRAINT chk_eleve_repartition_structure_enseignement_type CHECK ((((structure_enseignement_type)::text = 'CLASSE'::text) OR ((structure_enseignement_type)::text = 'GROUPE'::text))),
    CONSTRAINT chk_en_erreur CHECK ((((statut)::text <> 'EN_ERREUR'::text) OR (type_erreur_id IS NOT NULL)))
);


ALTER TABLE annuaire_interface.eleve_repartition OWNER TO eliot_scolarite;

--
-- TOC entry 199 (class 1259 OID 666355)
-- Dependencies: 7
-- Name: eleve_repartition_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE eleve_repartition_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.eleve_repartition_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5828 (class 0 OID 0)
-- Dependencies: 199
-- Name: eleve_repartition_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('eleve_repartition_id_seq', 1, false);


--
-- TOC entry 200 (class 1259 OID 666357)
-- Dependencies: 3715 3716 3717 188 7
-- Name: etablissement; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etablissement (
    id_externe character varying(128),
    id_externe_from_jointure character varying(128),
    nom_affichage character varying(1024),
    uai character varying(10),
    type_etablissement character varying(128),
    ministere_tutelle character varying(128),
    academie character varying(128),
    etablissement_rattachement_id_externe character varying(128),
    rue character varying(150),
    code_postal character varying(10),
    ville character varying(50)
)
INHERITS (entite);


ALTER TABLE annuaire_interface.etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 201 (class 1259 OID 666366)
-- Dependencies: 7
-- Name: etablissement_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE etablissement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.etablissement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5829 (class 0 OID 0)
-- Dependencies: 201
-- Name: etablissement_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('etablissement_id_seq', 1, false);


--
-- TOC entry 202 (class 1259 OID 666368)
-- Dependencies: 3718 3719 3720 3721 7
-- Name: execution; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE execution (
    id bigint NOT NULL,
    date_debut timestamp with time zone,
    date_fin timestamp with time zone,
    type_entite character varying(30) NOT NULL,
    nb_entite_traitee integer DEFAULT (-1) NOT NULL,
    nb_erreur integer DEFAULT (-1) NOT NULL,
    nb_alerte integer DEFAULT (-1) NOT NULL,
    import_id bigint NOT NULL,
    duree interval,
    action character varying(30) DEFAULT 'IMPORT'::character varying NOT NULL
);


ALTER TABLE annuaire_interface.execution OWNER TO eliot_scolarite;

--
-- TOC entry 203 (class 1259 OID 666375)
-- Dependencies: 7
-- Name: execution_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE execution_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.execution_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5830 (class 0 OID 0)
-- Dependencies: 203
-- Name: execution_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('execution_id_seq', 1, false);


--
-- TOC entry 204 (class 1259 OID 666377)
-- Dependencies: 3722 3723 3724 195 188 7
-- Name: hors_aaf; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE hors_aaf (
)
INHERITS (entite, personne);


ALTER TABLE annuaire_interface.hors_aaf OWNER TO eliot_scolarite;

--
-- TOC entry 205 (class 1259 OID 666386)
-- Dependencies: 3725 3726 3727 7
-- Name: hors_aaf_fonction; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE hors_aaf_fonction (
    id bigint NOT NULL,
    demande_import_id bigint NOT NULL,
    statut character varying(10) DEFAULT 'TERMINE'::character varying NOT NULL,
    type_erreur_id bigint,
    hors_aaf_autorite_id_externe character varying(128) NOT NULL,
    fonction_code character varying(32) NOT NULL,
    etablissement_id_externe character varying(128),
    porteur_code character varying(32),
    CONSTRAINT chk_en_erreur CHECK ((((statut)::text <> 'EN_ERREUR'::text) OR (type_erreur_id IS NOT NULL))),
    CONSTRAINT chk_hors_aaf_fonction_statut CHECK ((((((statut)::text = 'EN_ATTENTE'::text) OR ((statut)::text = 'EN_COURS’'::text)) OR ((statut)::text = 'EN_ERREUR'::text)) OR ((statut)::text = 'TERMINE'::text)))
);


ALTER TABLE annuaire_interface.hors_aaf_fonction OWNER TO eliot_scolarite;

--
-- TOC entry 206 (class 1259 OID 666392)
-- Dependencies: 7
-- Name: hors_aaf_fonction_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE hors_aaf_fonction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.hors_aaf_fonction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5831 (class 0 OID 0)
-- Dependencies: 206
-- Name: hors_aaf_fonction_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('hors_aaf_fonction_id_seq', 1, false);


--
-- TOC entry 207 (class 1259 OID 666394)
-- Dependencies: 7
-- Name: hors_aaf_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE hors_aaf_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.hors_aaf_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5832 (class 0 OID 0)
-- Dependencies: 207
-- Name: hors_aaf_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('hors_aaf_id_seq', 1, false);


--
-- TOC entry 208 (class 1259 OID 666396)
-- Dependencies: 7
-- Name: import_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE import_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.import_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5833 (class 0 OID 0)
-- Dependencies: 208
-- Name: import_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('import_id_seq', 1, false);


--
-- TOC entry 209 (class 1259 OID 666398)
-- Dependencies: 3728 3729 3730 195 188 7
-- Name: pers_educ_nat; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE pers_educ_nat (
)
INHERITS (entite, personne);


ALTER TABLE annuaire_interface.pers_educ_nat OWNER TO eliot_scolarite;

--
-- TOC entry 210 (class 1259 OID 666407)
-- Dependencies: 3731 3732 3733 7
-- Name: pers_educ_nat_fonction; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE pers_educ_nat_fonction (
    id bigint NOT NULL,
    type_erreur_id bigint,
    pers_educ_nat_autorite_id_externe character varying(128) NOT NULL,
    fonction_code character varying(32) NOT NULL,
    etablissement_id_externe character varying(128) NOT NULL,
    demande_import_id bigint NOT NULL,
    statut character varying(10) DEFAULT 'TERMINE'::character varying NOT NULL,
    CONSTRAINT chk_en_erreur CHECK ((((statut)::text <> 'EN_ERREUR'::text) OR (type_erreur_id IS NOT NULL))),
    CONSTRAINT chk_pers_educ_nat_fonction_statut CHECK ((((((statut)::text = 'EN_ATTENTE'::text) OR ((statut)::text = 'EN_COURS’'::text)) OR ((statut)::text = 'EN_ERREUR'::text)) OR ((statut)::text = 'TERMINE'::text)))
);


ALTER TABLE annuaire_interface.pers_educ_nat_fonction OWNER TO eliot_scolarite;

--
-- TOC entry 211 (class 1259 OID 666413)
-- Dependencies: 7
-- Name: pers_educ_nat_fonction_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE pers_educ_nat_fonction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.pers_educ_nat_fonction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5834 (class 0 OID 0)
-- Dependencies: 211
-- Name: pers_educ_nat_fonction_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('pers_educ_nat_fonction_id_seq', 1, false);


--
-- TOC entry 212 (class 1259 OID 666415)
-- Dependencies: 7
-- Name: pers_educ_nat_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE pers_educ_nat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.pers_educ_nat_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5835 (class 0 OID 0)
-- Dependencies: 212
-- Name: pers_educ_nat_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('pers_educ_nat_id_seq', 1, false);


--
-- TOC entry 213 (class 1259 OID 666417)
-- Dependencies: 3734 3735 3736 188 7
-- Name: porteur_ent; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE porteur_ent (
    code character varying(32) NOT NULL,
    nom character varying(256),
    nom_court character varying(128),
    email_projet character varying(256),
    url_retour_logout character varying(1024),
    url_acces_ent character varying(1024)
)
INHERITS (entite);


ALTER TABLE annuaire_interface.porteur_ent OWNER TO eliot_scolarite;

--
-- TOC entry 214 (class 1259 OID 666426)
-- Dependencies: 7
-- Name: porteur_ent_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE porteur_ent_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.porteur_ent_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5836 (class 0 OID 0)
-- Dependencies: 214
-- Name: porteur_ent_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('porteur_ent_id_seq', 1, false);


--
-- TOC entry 215 (class 1259 OID 666428)
-- Dependencies: 3737 3738 3739 195 188 7
-- Name: responsable_eleve; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE responsable_eleve (
)
INHERITS (entite, personne);


ALTER TABLE annuaire_interface.responsable_eleve OWNER TO eliot_scolarite;

--
-- TOC entry 216 (class 1259 OID 666437)
-- Dependencies: 7
-- Name: responsable_eleve_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE responsable_eleve_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.responsable_eleve_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5837 (class 0 OID 0)
-- Dependencies: 216
-- Name: responsable_eleve_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('responsable_eleve_id_seq', 1, false);


--
-- TOC entry 217 (class 1259 OID 666439)
-- Dependencies: 3740 3741 3742 188 7
-- Name: structure_enseignement; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement (
    etablissement_id_externe character varying(128),
    code character varying(50),
    type character varying(10),
    niveau_libelle character varying(256)
)
INHERITS (entite);


ALTER TABLE annuaire_interface.structure_enseignement OWNER TO eliot_scolarite;

--
-- TOC entry 218 (class 1259 OID 666445)
-- Dependencies: 7
-- Name: structure_enseignement_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE structure_enseignement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.structure_enseignement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5838 (class 0 OID 0)
-- Dependencies: 218
-- Name: structure_enseignement_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('structure_enseignement_id_seq', 1, false);


--
-- TOC entry 219 (class 1259 OID 666447)
-- Dependencies: 7
-- Name: type_alerte; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_alerte (
    id bigint NOT NULL,
    code character varying(250) NOT NULL,
    libelle character varying(250) NOT NULL
);


ALTER TABLE annuaire_interface.type_alerte OWNER TO eliot_scolarite;

--
-- TOC entry 220 (class 1259 OID 666453)
-- Dependencies: 7
-- Name: type_alerte_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE type_alerte_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.type_alerte_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5839 (class 0 OID 0)
-- Dependencies: 220
-- Name: type_alerte_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_alerte_id_seq', 5, true);


--
-- TOC entry 221 (class 1259 OID 666455)
-- Dependencies: 7
-- Name: type_erreur; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_erreur (
    id bigint NOT NULL,
    code character varying(40) NOT NULL,
    libelle character varying(128) NOT NULL
);


ALTER TABLE annuaire_interface.type_erreur OWNER TO eliot_scolarite;

--
-- TOC entry 222 (class 1259 OID 666458)
-- Dependencies: 7
-- Name: type_erreur_id_seq; Type: SEQUENCE; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE SEQUENCE type_erreur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE annuaire_interface.type_erreur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5840 (class 0 OID 0)
-- Dependencies: 222
-- Name: type_erreur_id_seq; Type: SEQUENCE SET; Schema: annuaire_interface; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_erreur_id_seq', 20, true);


--
-- TOC entry 223 (class 1259 OID 666460)
-- Dependencies: 7
-- Name: verrou; Type: TABLE; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE verrou (
    id bigint NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp with time zone,
    lockedby character varying(255),
    demande_import_id bigint
);


ALTER TABLE annuaire_interface.verrou OWNER TO eliot_scolarite;

SET search_path = backoffice, pg_catalog;

--
-- TOC entry 224 (class 1259 OID 666463)
-- Dependencies: 8
-- Name: backoffice_config; Type: TABLE; Schema: backoffice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE backoffice_config (
    id bigint NOT NULL,
    version integer,
    uai character varying(255) NOT NULL,
    nom character varying(1024),
    lvs boolean,
    udt boolean,
    nombre_eleve integer,
    base_eleve_id bigint,
    is_eliot_open boolean
);


ALTER TABLE backoffice.backoffice_config OWNER TO eliot_scolarite;

--
-- TOC entry 225 (class 1259 OID 666469)
-- Dependencies: 8
-- Name: backoffice_config_id_seq; Type: SEQUENCE; Schema: backoffice; Owner: eliot_scolarite
--

CREATE SEQUENCE backoffice_config_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE backoffice.backoffice_config_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5841 (class 0 OID 0)
-- Dependencies: 225
-- Name: backoffice_config_id_seq; Type: SEQUENCE SET; Schema: backoffice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('backoffice_config_id_seq', 1, false);


--
-- TOC entry 226 (class 1259 OID 666471)
-- Dependencies: 8
-- Name: base_eleve; Type: TABLE; Schema: backoffice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE base_eleve (
    id bigint NOT NULL,
    code character varying(10) NOT NULL,
    libelle character varying(30),
    version integer
);


ALTER TABLE backoffice.base_eleve OWNER TO eliot_scolarite;

--
-- TOC entry 227 (class 1259 OID 666474)
-- Dependencies: 8
-- Name: base_eleve_id_seq; Type: SEQUENCE; Schema: backoffice; Owner: eliot_scolarite
--

CREATE SEQUENCE base_eleve_id_seq
    START WITH 4
    INCREMENT BY 1
    MINVALUE 4
    NO MAXVALUE
    CACHE 1;


ALTER TABLE backoffice.base_eleve_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5842 (class 0 OID 0)
-- Dependencies: 227
-- Name: base_eleve_id_seq; Type: SEQUENCE SET; Schema: backoffice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('base_eleve_id_seq', 4, false);


SET search_path = bascule_annee, pg_catalog;

--
-- TOC entry 228 (class 1259 OID 666476)
-- Dependencies: 9
-- Name: etape; Type: TABLE; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etape (
    id bigint NOT NULL,
    index integer NOT NULL,
    module_code character varying(30) NOT NULL,
    etape_code character varying(128) NOT NULL,
    etat character varying(30) NOT NULL,
    date_debut timestamp with time zone,
    date_fin timestamp with time zone,
    operateur_id_externe character varying(128)
);


ALTER TABLE bascule_annee.etape OWNER TO eliot_scolarite;

--
-- TOC entry 229 (class 1259 OID 666479)
-- Dependencies: 9
-- Name: etape_id_seq; Type: SEQUENCE; Schema: bascule_annee; Owner: eliot_scolarite
--

CREATE SEQUENCE etape_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE bascule_annee.etape_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5843 (class 0 OID 0)
-- Dependencies: 229
-- Name: etape_id_seq; Type: SEQUENCE SET; Schema: bascule_annee; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('etape_id_seq', 1, false);


--
-- TOC entry 230 (class 1259 OID 666481)
-- Dependencies: 9
-- Name: verrou; Type: TABLE; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE verrou (
    id bigint NOT NULL,
    module character varying(30) NOT NULL,
    operateur_id_externe character varying(128) NOT NULL,
    date_creation timestamp without time zone NOT NULL,
    nom character varying(30) NOT NULL
);


ALTER TABLE bascule_annee.verrou OWNER TO eliot_scolarite;

--
-- TOC entry 231 (class 1259 OID 666484)
-- Dependencies: 9
-- Name: verrou_id_seq; Type: SEQUENCE; Schema: bascule_annee; Owner: eliot_scolarite
--

CREATE SEQUENCE verrou_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE bascule_annee.verrou_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5844 (class 0 OID 0)
-- Dependencies: 231
-- Name: verrou_id_seq; Type: SEQUENCE SET; Schema: bascule_annee; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('verrou_id_seq', 1, false);


SET search_path = ent, pg_catalog;

--
-- TOC entry 232 (class 1259 OID 666486)
-- Dependencies: 3743 11
-- Name: personne; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE personne (
    id bigint NOT NULL,
    autorite_id bigint NOT NULL,
    nom character varying(40) NOT NULL,
    prenom character varying(40) NOT NULL,
    civilite_id integer,
    telephone_pro character varying(17),
    telephone_perso character varying(17),
    telephone_portable character varying(17),
    fax character varying(17),
    adresse character varying(150),
    code_postal character varying(10),
    ville character varying(50),
    pays character varying(30),
    date_naissance date,
    sexe character(1),
    photo character varying(50),
    etablissement_rattachement_id bigint,
    email character varying(256),
    nom_normalise character varying(40),
    prenom_normalise character varying(40),
    regime_id bigint,
    login character varying(128),
    numero_bureau character varying(16),
    id_sconet character varying(50),
    porteur_ent_id bigint,
    academie character varying(128),
    inserted boolean DEFAULT true
);


ALTER TABLE ent.personne OWNER TO eliot_scolarite;

SET search_path = securite, pg_catalog;

--
-- TOC entry 233 (class 1259 OID 666493)
-- Dependencies: 3744 3745 3746 3747 3748 3749 3750 22
-- Name: autorite; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE autorite (
    id bigint NOT NULL,
    version integer NOT NULL,
    type character varying(128) NOT NULL,
    id_externe character varying(128),
    est_active boolean DEFAULT true,
    import_id bigint,
    date_desactivation timestamp without time zone,
    nom_entite_cible character varying(128),
    enregistrement_cible_id bigint,
    etat character varying(20),
    annuaire_import_id bigint,
    inserted boolean DEFAULT true,
    id_sts character varying(128),
    localisation character varying(8),
    CONSTRAINT chk_autorite_type_localisation_id_externe CHECK (((((((id_externe IS NOT NULL) AND (NOT ((localisation)::text IS DISTINCT FROM 'DISTANTE'::text))) AND ((type)::text = 'groupe'::text)) OR (((id_externe IS NOT NULL) AND (localisation IS NULL)) AND ((type)::text = 'acteur'::text))) OR (((id_externe IS NOT NULL) AND (localisation IS NULL)) AND ((type)::text = 'eliot'::text))) OR (((id_externe IS NULL) AND (NOT ((localisation)::text IS DISTINCT FROM 'LOCALE'::text))) AND ((type)::text = 'groupe'::text)))),
    CONSTRAINT chk_est_active_date_desactivation CHECK ((((est_active = true) AND (date_desactivation IS NULL)) OR ((est_active = false) AND (date_desactivation IS NOT NULL)))),
    CONSTRAINT chk_est_active_etat CHECK ((((est_active = true) AND ((etat)::text = 'ACTIF'::text)) OR ((est_active = false) AND ((etat)::text <> 'ACTIF'::text)))),
    CONSTRAINT chk_etat CHECK (((((etat IS NULL) OR ((etat)::text ~~ 'ACTIF'::text)) OR ((etat)::text ~~ 'ACCES_RESTREINT'::text)) OR ((etat)::text ~~ 'INACTIF'::text))),
    CONSTRAINT chk_etat_acteur CHECK (((((type)::text ~~ 'acteur'::text) AND (etat IS NOT NULL)) OR ((type)::text !~~ 'acteur'::text)))
);


ALTER TABLE securite.autorite OWNER TO eliot_scolarite;

SET search_path = emaeval_interface, pg_catalog;

--
-- TOC entry 234 (class 1259 OID 666505)
-- Dependencies: 3684 10
-- Name: utilisateur; Type: VIEW; Schema: emaeval_interface; Owner: eliot_scolarite
--

CREATE VIEW utilisateur AS
    SELECT personne.nom, personne.prenom, autorite.id_externe AS uid, personne.email FROM (ent.personne JOIN securite.autorite ON ((autorite.id = personne.autorite_id))) WHERE (autorite.est_active = true);


ALTER TABLE emaeval_interface.utilisateur OWNER TO eliot_scolarite;

SET search_path = ent, pg_catalog;

--
-- TOC entry 235 (class 1259 OID 666510)
-- Dependencies: 11
-- Name: annee_scolaire; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE annee_scolaire (
    code character varying(30) NOT NULL,
    version integer NOT NULL,
    annee_en_cours boolean,
    id bigint NOT NULL
);


ALTER TABLE ent.annee_scolaire OWNER TO eliot_scolarite;

--
-- TOC entry 236 (class 1259 OID 666513)
-- Dependencies: 11
-- Name: annee_scolaire_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE annee_scolaire_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.annee_scolaire_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5845 (class 0 OID 0)
-- Dependencies: 236
-- Name: annee_scolaire_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('annee_scolaire_id_seq', 1, true);


--
-- TOC entry 237 (class 1259 OID 666525)
-- Dependencies: 11
-- Name: calendier_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE calendier_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.calendier_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5846 (class 0 OID 0)
-- Dependencies: 237
-- Name: calendier_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('calendier_id_seq', 1, false);


--
-- TOC entry 238 (class 1259 OID 666527)
-- Dependencies: 11
-- Name: calendrier; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE calendrier (
    id bigint NOT NULL,
    jour_semaine_ferie smallint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    premier_jour date NOT NULL,
    dernier_jour date NOT NULL,
    etablissement_id bigint NOT NULL
);


ALTER TABLE ent.calendrier OWNER TO eliot_scolarite;

--
-- TOC entry 239 (class 1259 OID 666530)
-- Dependencies: 3751 11
-- Name: civilite; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE civilite (
    id bigint NOT NULL,
    libelle character varying(5) NOT NULL,
    inserted boolean DEFAULT true,
    annuaire_import_id bigint
);


ALTER TABLE ent.civilite OWNER TO eliot_scolarite;

--
-- TOC entry 240 (class 1259 OID 666534)
-- Dependencies: 11
-- Name: civilite_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE civilite_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.civilite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5847 (class 0 OID 0)
-- Dependencies: 240
-- Name: civilite_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('civilite_id_seq', 2, true);


--
-- TOC entry 635 (class 1259 OID 672092)
-- Dependencies: 3988 11
-- Name: eleve_proprietes; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE eleve_proprietes (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    mef_id bigint,
    annee_scolaire_id bigint NOT NULL,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.eleve_proprietes OWNER TO eliot_scolarite;

--
-- TOC entry 634 (class 1259 OID 672090)
-- Dependencies: 11
-- Name: eleve_proprietes_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE eleve_proprietes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.eleve_proprietes_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5848 (class 0 OID 0)
-- Dependencies: 634
-- Name: eleve_proprietes_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('eleve_proprietes_id_seq', 1, false);


--
-- TOC entry 241 (class 1259 OID 666536)
-- Dependencies: 3752 3753 3754 11
-- Name: enseignement; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE enseignement (
    enseignant_id bigint NOT NULL,
    version integer NOT NULL,
    service_id integer NOT NULL,
    nb_heures double precision,
    version_import_sts bigint DEFAULT (-1),
    actif boolean DEFAULT true,
    id bigint NOT NULL,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL
);


ALTER TABLE ent.enseignement OWNER TO eliot_scolarite;

--
-- TOC entry 242 (class 1259 OID 666542)
-- Dependencies: 11
-- Name: enseignement_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE enseignement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.enseignement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5849 (class 0 OID 0)
-- Dependencies: 242
-- Name: enseignement_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('enseignement_id_seq', 1, false);


--
-- TOC entry 243 (class 1259 OID 666544)
-- Dependencies: 3755 3756 3757 11
-- Name: etablissement; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etablissement (
    id bigint NOT NULL,
    id_externe character varying(128) NOT NULL,
    nom_affichage character varying(1024),
    version integer NOT NULL,
    uai character varying(10),
    code_porteur_ent character varying(10) DEFAULT 'CRIF'::character varying NOT NULL,
    porteur_ent_id bigint,
    etablissement_rattachement_id bigint,
    type_etablissement character varying(128),
    ministere_tutelle character varying(128),
    academie character varying(128),
    est_actif boolean DEFAULT true NOT NULL,
    import_id bigint,
    date_desactivation timestamp with time zone,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true,
    adresse_1 character varying(120),
    adresse_2 character varying(120),
    code_postal character varying(10),
    ville character varying(60)
);


ALTER TABLE ent.etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 244 (class 1259 OID 666553)
-- Dependencies: 11
-- Name: etablissement_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE etablissement_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.etablissement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5850 (class 0 OID 0)
-- Dependencies: 244
-- Name: etablissement_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('etablissement_id_seq', 6, true);


--
-- TOC entry 245 (class 1259 OID 666555)
-- Dependencies: 3758 11
-- Name: etablissement_sts; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etablissement_sts (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    version_import_sts bigint DEFAULT 0 NOT NULL,
    date_import_sts timestamp with time zone
);


ALTER TABLE ent.etablissement_sts OWNER TO eliot_scolarite;

--
-- TOC entry 246 (class 1259 OID 666559)
-- Dependencies: 11
-- Name: etablissement_sts_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE etablissement_sts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.etablissement_sts_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5851 (class 0 OID 0)
-- Dependencies: 246
-- Name: etablissement_sts_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('etablissement_sts_id_seq', 1, false);


--
-- TOC entry 247 (class 1259 OID 666561)
-- Dependencies: 11
-- Name: fiche_eleve_commentaire; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE fiche_eleve_commentaire (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    commentaire text
);


ALTER TABLE ent.fiche_eleve_commentaire OWNER TO eliot_scolarite;

--
-- TOC entry 248 (class 1259 OID 666567)
-- Dependencies: 11
-- Name: fiche_eleve_commentaire_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE fiche_eleve_commentaire_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.fiche_eleve_commentaire_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5852 (class 0 OID 0)
-- Dependencies: 248
-- Name: fiche_eleve_commentaire_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('fiche_eleve_commentaire_id_seq', 1, false);


--
-- TOC entry 249 (class 1259 OID 666569)
-- Dependencies: 3759 11
-- Name: filiere; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE filiere (
    id bigint NOT NULL,
    id_externe character varying(30),
    libelle character varying(50),
    version integer DEFAULT 0 NOT NULL
);


ALTER TABLE ent.filiere OWNER TO eliot_scolarite;

--
-- TOC entry 250 (class 1259 OID 666573)
-- Dependencies: 11
-- Name: filiere_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE filiere_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.filiere_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5853 (class 0 OID 0)
-- Dependencies: 250
-- Name: filiere_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('filiere_id_seq', 1, false);


--
-- TOC entry 251 (class 1259 OID 666575)
-- Dependencies: 11
-- Name: fonction; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE fonction (
    id bigint NOT NULL,
    code character varying(32) NOT NULL,
    libelle character varying(255)
);


ALTER TABLE ent.fonction OWNER TO eliot_scolarite;

--
-- TOC entry 252 (class 1259 OID 666578)
-- Dependencies: 11
-- Name: fonction_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE fonction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.fonction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5854 (class 0 OID 0)
-- Dependencies: 252
-- Name: fonction_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('fonction_id_seq', 23, true);


--
-- TOC entry 253 (class 1259 OID 666589)
-- Dependencies: 3760 11
-- Name: import_temps; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE import_temps (
    id bigint NOT NULL,
    date_debut_traitement timestamp with time zone NOT NULL,
    date_fin_traitement timestamp with time zone,
    traitement character varying(30) NOT NULL,
    CONSTRAINT chk_import_temps_traitement CHECK (((traitement)::text = ANY (ARRAY[('UDT_PRETRAITEMENT'::character varying)::text, ('STS'::character varying)::text, ('UDT'::character varying)::text])))
);


ALTER TABLE ent.import_temps OWNER TO eliot_scolarite;

--
-- TOC entry 254 (class 1259 OID 666593)
-- Dependencies: 11
-- Name: import_temps_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE import_temps_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.import_temps_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5855 (class 0 OID 0)
-- Dependencies: 254
-- Name: import_temps_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('import_temps_id_seq', 1, false);


--
-- TOC entry 255 (class 1259 OID 666595)
-- Dependencies: 3761 11
-- Name: matiere; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE matiere (
    version integer NOT NULL,
    id bigint NOT NULL,
    code_sts character varying(128),
    libelle_court character varying(255) NOT NULL,
    code_gestion character varying(255) NOT NULL,
    libelle_edition character varying(255) NOT NULL,
    etablissement_id bigint NOT NULL,
    origine character varying(10),
    specialite boolean DEFAULT false NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    libelle_long character varying(255) NOT NULL
);


ALTER TABLE ent.matiere OWNER TO eliot_scolarite;

--
-- TOC entry 256 (class 1259 OID 666602)
-- Dependencies: 11
-- Name: matiere_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE matiere_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.matiere_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5856 (class 0 OID 0)
-- Dependencies: 256
-- Name: matiere_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('matiere_id_seq', 7, true);


--
-- TOC entry 257 (class 1259 OID 666604)
-- Dependencies: 3762 11
-- Name: mef; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE mef (
    id bigint NOT NULL,
    code character varying(32) NOT NULL,
    formation character varying(255),
    specialite character varying(255),
    libelle_long character varying(255),
    libelle_edition character varying(255),
    mefstat11 character(11),
    mefstat4 character(4),
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.mef OWNER TO eliot_scolarite;

--
-- TOC entry 258 (class 1259 OID 666611)
-- Dependencies: 11
-- Name: mef_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE mef_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.mef_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5857 (class 0 OID 0)
-- Dependencies: 258
-- Name: mef_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('mef_id_seq', 2, true);


--
-- TOC entry 259 (class 1259 OID 666613)
-- Dependencies: 11
-- Name: modalite_cours; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE modalite_cours (
    code_sts character varying(30) NOT NULL,
    version integer NOT NULL,
    libelle_court character varying(255),
    libelle_long character varying(1024),
    co_ens boolean,
    id bigint NOT NULL,
    no_ordre integer
);


ALTER TABLE ent.modalite_cours OWNER TO eliot_scolarite;

--
-- TOC entry 260 (class 1259 OID 666619)
-- Dependencies: 11
-- Name: modalite_cours_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE modalite_cours_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.modalite_cours_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5858 (class 0 OID 0)
-- Dependencies: 260
-- Name: modalite_cours_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('modalite_cours_id_seq', 1, false);


--
-- TOC entry 261 (class 1259 OID 666621)
-- Dependencies: 11
-- Name: modalite_matiere; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE modalite_matiere (
    id bigint NOT NULL,
    libelle character varying(1024) NOT NULL,
    code character varying(6) NOT NULL,
    etablissement_id bigint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE ent.modalite_matiere OWNER TO eliot_scolarite;

--
-- TOC entry 262 (class 1259 OID 666627)
-- Dependencies: 11
-- Name: modalite_matiere_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE modalite_matiere_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.modalite_matiere_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5859 (class 0 OID 0)
-- Dependencies: 262
-- Name: modalite_matiere_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('modalite_matiere_id_seq', 1, false);


--
-- TOC entry 263 (class 1259 OID 666629)
-- Dependencies: 3763 11
-- Name: niveau; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE niveau (
    id bigint NOT NULL,
    libelle_court character varying(128),
    libelle_long character varying(255),
    libelle_edition character varying(255),
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.niveau OWNER TO eliot_scolarite;

--
-- TOC entry 264 (class 1259 OID 666636)
-- Dependencies: 11
-- Name: niveau_general; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE niveau_general (
    id bigint NOT NULL,
    libelle character varying(40) NOT NULL,
    etablissement_id bigint NOT NULL,
    version integer NOT NULL
);


ALTER TABLE ent.niveau_general OWNER TO eliot_scolarite;

--
-- TOC entry 265 (class 1259 OID 666639)
-- Dependencies: 11
-- Name: niveau_general_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE niveau_general_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.niveau_general_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5860 (class 0 OID 0)
-- Dependencies: 265
-- Name: niveau_general_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('niveau_general_id_seq', 1, false);


--
-- TOC entry 266 (class 1259 OID 666641)
-- Dependencies: 11
-- Name: niveau_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE niveau_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.niveau_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5861 (class 0 OID 0)
-- Dependencies: 266
-- Name: niveau_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('niveau_id_seq', 12, true);


--
-- TOC entry 267 (class 1259 OID 666643)
-- Dependencies: 11
-- Name: periode; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE periode (
    id bigint NOT NULL,
    type_periode_id integer NOT NULL,
    date_debut date,
    date_fin date,
    date_fin_saisie date,
    date_publication_bulletins date,
    structure_enseignement_id bigint NOT NULL,
    date_publication_releves date
);


ALTER TABLE ent.periode OWNER TO eliot_scolarite;

--
-- TOC entry 268 (class 1259 OID 666646)
-- Dependencies: 11
-- Name: periode_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5862 (class 0 OID 0)
-- Dependencies: 268
-- Name: periode_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('periode_id_seq', 6, true);


--
-- TOC entry 269 (class 1259 OID 666648)
-- Dependencies: 11
-- Name: personne_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE personne_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.personne_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5863 (class 0 OID 0)
-- Dependencies: 269
-- Name: personne_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('personne_id_seq', 10, true);


--
-- TOC entry 270 (class 1259 OID 666650)
-- Dependencies: 3764 3765 3766 3767 11
-- Name: personne_propriete_scolarite; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE personne_propriete_scolarite (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    propriete_scolarite_id bigint NOT NULL,
    est_active boolean DEFAULT false NOT NULL,
    aaf_import_id bigint,
    date_desactivation timestamp without time zone,
    date_debut timestamp without time zone DEFAULT now() NOT NULL,
    date_fin timestamp without time zone,
    compteur_references integer,
    udt_import_id bigint,
    actif_avant_suppression boolean,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.personne_propriete_scolarite OWNER TO eliot_scolarite;

--
-- TOC entry 271 (class 1259 OID 666656)
-- Dependencies: 11
-- Name: personne_propriete_scolarite_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE personne_propriete_scolarite_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.personne_propriete_scolarite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5864 (class 0 OID 0)
-- Dependencies: 271
-- Name: personne_propriete_scolarite_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('personne_propriete_scolarite_id_seq', 32, true);


--
-- TOC entry 272 (class 1259 OID 666658)
-- Dependencies: 3768 3769 11
-- Name: porteur_ent; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE porteur_ent (
    id bigint NOT NULL,
    code character varying(32) NOT NULL,
    nom character varying(256),
    nom_court character varying(128),
    email_projet character varying(256),
    url_retour_logout character varying(1024),
    url_acces_ent character varying(1024),
    est_actif boolean DEFAULT true NOT NULL,
    import_id bigint,
    date_desactivation timestamp with time zone,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.porteur_ent OWNER TO eliot_scolarite;

--
-- TOC entry 273 (class 1259 OID 666666)
-- Dependencies: 11
-- Name: porteur_ent_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE porteur_ent_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.porteur_ent_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5865 (class 0 OID 0)
-- Dependencies: 273
-- Name: porteur_ent_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('porteur_ent_id_seq', 4, true);


--
-- TOC entry 274 (class 1259 OID 666668)
-- Dependencies: 3770 3771 3772 3773 3774 3775 11
-- Name: preference_etablissement; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_etablissement (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    nb_annees_conservation_archives_bulletins integer DEFAULT 5,
    nb_annees_conservation_archives_cdt integer DEFAULT 3,
    version integer DEFAULT 0 NOT NULL,
    nom_etablissement character varying(60),
    adresse_1_etablissement character varying(60),
    adresse_2_etablissement character varying(60),
    code_postal_etablissement character varying(10),
    ville_etablissement character varying(60),
    logo_etablissement bytea,
    cachet_etablissement bytea,
    lvs_active boolean DEFAULT false,
    lvs_url character varying(255),
    annee_scolaire_id bigint NOT NULL,
    magister_url character varying(255),
    magister_active boolean DEFAULT false,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.preference_etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 275 (class 1259 OID 666680)
-- Dependencies: 11
-- Name: preference_etablissement_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE preference_etablissement_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.preference_etablissement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5866 (class 0 OID 0)
-- Dependencies: 275
-- Name: preference_etablissement_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('preference_etablissement_id_seq', 2, true);


--
-- TOC entry 276 (class 1259 OID 666682)
-- Dependencies: 3776 3777 3778 3779 11
-- Name: propriete_scolarite; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE propriete_scolarite (
    id bigint NOT NULL,
    etablissement_id bigint,
    structure_enseignement_id bigint,
    annee_scolaire_id bigint NOT NULL,
    matiere_id bigint,
    fonction_id bigint NOT NULL,
    responsable_structure_enseignement boolean,
    porteur_ent_id bigint,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true,
    autorite_id bigint,
    CONSTRAINT chk_matiere_id CHECK ((((matiere_id IS NOT NULL) AND (etablissement_id IS NOT NULL)) OR (matiere_id IS NULL))),
    CONSTRAINT chk_responsable_structure_ens_dep_structure_ens CHECK ((((responsable_structure_enseignement = true) AND (structure_enseignement_id IS NOT NULL)) OR (responsable_structure_enseignement IS NULL))),
    CONSTRAINT chk_structure_enseignement_or_etablissement_or_porteur_not_null CHECK ((((((structure_enseignement_id IS NOT NULL) AND (etablissement_id IS NULL)) AND (porteur_ent_id IS NULL)) OR (((structure_enseignement_id IS NULL) AND (etablissement_id IS NOT NULL)) AND (porteur_ent_id IS NULL))) OR (((structure_enseignement_id IS NULL) AND (etablissement_id IS NULL)) AND (porteur_ent_id IS NOT NULL))))
);


ALTER TABLE ent.propriete_scolarite OWNER TO eliot_scolarite;

--
-- TOC entry 277 (class 1259 OID 666687)
-- Dependencies: 11
-- Name: propriete_scolarite_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE propriete_scolarite_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.propriete_scolarite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5867 (class 0 OID 0)
-- Dependencies: 277
-- Name: propriete_scolarite_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('propriete_scolarite_id_seq', 36, true);


--
-- TOC entry 278 (class 1259 OID 666689)
-- Dependencies: 11
-- Name: regime; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE regime (
    id bigint NOT NULL,
    code character varying(32) NOT NULL
);


ALTER TABLE ent.regime OWNER TO eliot_scolarite;

--
-- TOC entry 279 (class 1259 OID 666692)
-- Dependencies: 11
-- Name: regime_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE regime_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.regime_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5868 (class 0 OID 0)
-- Dependencies: 279
-- Name: regime_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('regime_id_seq', 3, true);


--
-- TOC entry 280 (class 1259 OID 666694)
-- Dependencies: 11
-- Name: rel_classe_filiere; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_classe_filiere (
    classe_id bigint NOT NULL,
    filiere_id bigint NOT NULL
);


ALTER TABLE ent.rel_classe_filiere OWNER TO eliot_scolarite;

--
-- TOC entry 281 (class 1259 OID 666697)
-- Dependencies: 3780 11
-- Name: rel_classe_groupe; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_classe_groupe (
    classe_id bigint NOT NULL,
    groupe_id bigint NOT NULL,
    inserted boolean DEFAULT true,
    annuaire_import_id bigint
);


ALTER TABLE ent.rel_classe_groupe OWNER TO eliot_scolarite;

--
-- TOC entry 282 (class 1259 OID 666700)
-- Dependencies: 3781 3782 11
-- Name: rel_periode_service; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_periode_service (
    id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    coeff numeric,
    version integer NOT NULL,
    option boolean DEFAULT false NOT NULL,
    ordre integer,
    evaluable boolean DEFAULT false NOT NULL
);


ALTER TABLE ent.rel_periode_service OWNER TO eliot_scolarite;

--
-- TOC entry 283 (class 1259 OID 666708)
-- Dependencies: 11
-- Name: rel_periode_service_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_periode_service_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.rel_periode_service_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5869 (class 0 OID 0)
-- Dependencies: 283
-- Name: rel_periode_service_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_periode_service_id_seq', 1, false);


--
-- TOC entry 284 (class 1259 OID 666710)
-- Dependencies: 3783 3784 3785 3786 11
-- Name: responsable_eleve; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE responsable_eleve (
    id bigint NOT NULL,
    responsable_legal integer,
    parent boolean DEFAULT false NOT NULL,
    personne_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    est_active boolean DEFAULT true,
    import_id bigint,
    date_desactivation timestamp without time zone,
    est_validee boolean DEFAULT false,
    actif_avant_suppression boolean,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true
);


ALTER TABLE ent.responsable_eleve OWNER TO eliot_scolarite;

--
-- TOC entry 285 (class 1259 OID 666717)
-- Dependencies: 11
-- Name: responsable_eleve_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE responsable_eleve_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.responsable_eleve_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5870 (class 0 OID 0)
-- Dependencies: 285
-- Name: responsable_eleve_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('responsable_eleve_id_seq', 6, true);


--
-- TOC entry 286 (class 1259 OID 666719)
-- Dependencies: 3787 3788 3789 3790 3791 11
-- Name: service; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE service (
    id integer NOT NULL,
    version integer NOT NULL,
    nb_heures double precision,
    co_ens boolean,
    modalite_cours_id bigint,
    matiere_id bigint NOT NULL,
    structure_enseignement_id bigint,
    version_import_sts bigint DEFAULT (-1),
    actif boolean DEFAULT true,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL,
    service_principal boolean DEFAULT false NOT NULL,
    choisi_pour_sport boolean DEFAULT false NOT NULL
);


ALTER TABLE ent.service OWNER TO eliot_scolarite;

--
-- TOC entry 287 (class 1259 OID 666727)
-- Dependencies: 286 11
-- Name: services_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE services_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.services_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5871 (class 0 OID 0)
-- Dependencies: 287
-- Name: services_id_seq; Type: SEQUENCE OWNED BY; Schema: ent; Owner: eliot_scolarite
--

ALTER SEQUENCE services_id_seq OWNED BY service.id;


--
-- TOC entry 5872 (class 0 OID 0)
-- Dependencies: 287
-- Name: services_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('services_id_seq', 1, false);


--
-- TOC entry 288 (class 1259 OID 666729)
-- Dependencies: 11
-- Name: signature; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE signature (
    id bigint NOT NULL,
    proprietaire_id bigint NOT NULL,
    version integer NOT NULL,
    titre character varying(150),
    image_signature bytea
);


ALTER TABLE ent.signature OWNER TO eliot_scolarite;

--
-- TOC entry 289 (class 1259 OID 666735)
-- Dependencies: 11
-- Name: signature_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE signature_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.signature_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5873 (class 0 OID 0)
-- Dependencies: 289
-- Name: signature_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('signature_id_seq', 1, false);


--
-- TOC entry 290 (class 1259 OID 666737)
-- Dependencies: 11
-- Name: source_import; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE source_import (
    id bigint NOT NULL,
    code character varying(30) NOT NULL,
    libelle character varying(30) NOT NULL
);


ALTER TABLE ent.source_import OWNER TO eliot_scolarite;

--
-- TOC entry 291 (class 1259 OID 666740)
-- Dependencies: 3793 11
-- Name: sous_service; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sous_service (
    id bigint NOT NULL,
    coeff numeric NOT NULL,
    service_id bigint NOT NULL,
    modalite_matiere_id bigint NOT NULL,
    version integer NOT NULL,
    ordre integer,
    evaluable boolean DEFAULT false NOT NULL,
    type_periode_id bigint NOT NULL
);


ALTER TABLE ent.sous_service OWNER TO eliot_scolarite;

--
-- TOC entry 292 (class 1259 OID 666747)
-- Dependencies: 11
-- Name: sous_service_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE sous_service_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.sous_service_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5874 (class 0 OID 0)
-- Dependencies: 292
-- Name: sous_service_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sous_service_id_seq', 1, false);


--
-- TOC entry 293 (class 1259 OID 666749)
-- Dependencies: 3794 3795 3796 3797 11
-- Name: structure_enseignement; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement (
    id bigint NOT NULL,
    id_externe character varying(128) NOT NULL,
    type character varying(128) NOT NULL,
    version integer NOT NULL,
    etablissement_id bigint NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    code character varying(50) NOT NULL,
    actif boolean DEFAULT true,
    niveau_id bigint,
    annuaire_import_id bigint,
    inserted boolean DEFAULT true,
    groupe_ent boolean DEFAULT false,
    CONSTRAINT chk_structure_enseignement_validite_niveau CHECK ((((niveau_id IS NULL) AND ((type)::text = 'GROUPE'::text)) OR ((niveau_id IS NOT NULL) AND ((type)::text = 'CLASSE'::text))))
);


ALTER TABLE ent.structure_enseignement OWNER TO eliot_scolarite;

--
-- TOC entry 294 (class 1259 OID 666756)
-- Dependencies: 11
-- Name: structure_enseignement_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE structure_enseignement_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.structure_enseignement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5875 (class 0 OID 0)
-- Dependencies: 294
-- Name: structure_enseignement_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('structure_enseignement_id_seq', 10, true);


--
-- TOC entry 295 (class 1259 OID 666758)
-- Dependencies: 11
-- Name: structure_enseignement_preferences; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement_preferences (
    id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    niveau_general_id bigint,
    version integer NOT NULL
);


ALTER TABLE ent.structure_enseignement_preferences OWNER TO eliot_scolarite;

--
-- TOC entry 296 (class 1259 OID 666761)
-- Dependencies: 11
-- Name: structure_enseignement_preferences_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE structure_enseignement_preferences_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.structure_enseignement_preferences_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5876 (class 0 OID 0)
-- Dependencies: 296
-- Name: structure_enseignement_preferences_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('structure_enseignement_preferences_id_seq', 1, false);


--
-- TOC entry 297 (class 1259 OID 666763)
-- Dependencies: 3798 11
-- Name: structure_enseignement_sts; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement_sts (
    id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    version_import_sts bigint DEFAULT 0 NOT NULL
);


ALTER TABLE ent.structure_enseignement_sts OWNER TO eliot_scolarite;

--
-- TOC entry 298 (class 1259 OID 666767)
-- Dependencies: 11
-- Name: structure_enseignement_sts_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE structure_enseignement_sts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.structure_enseignement_sts_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5877 (class 0 OID 0)
-- Dependencies: 298
-- Name: structure_enseignement_sts_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('structure_enseignement_sts_id_seq', 1, false);


--
-- TOC entry 299 (class 1259 OID 666769)
-- Dependencies: 11
-- Name: type_activite; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_activite (
    id bigint NOT NULL,
    code character varying(6) NOT NULL,
    libelle character varying(30) NOT NULL,
    modifiable boolean NOT NULL,
    etablissement_id bigint,
    version integer NOT NULL
);


ALTER TABLE ent.type_activite OWNER TO eliot_scolarite;

--
-- TOC entry 300 (class 1259 OID 666772)
-- Dependencies: 11
-- Name: type_activite_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE type_activite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.type_activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5878 (class 0 OID 0)
-- Dependencies: 300
-- Name: type_activite_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_activite_id_seq', 4, true);


--
-- TOC entry 301 (class 1259 OID 666774)
-- Dependencies: 11
-- Name: type_periode; Type: TABLE; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_periode (
    id integer NOT NULL,
    libelle character varying(50),
    version integer NOT NULL,
    intervalle character varying(5),
    nature character varying(20) NOT NULL,
    etablissement_id bigint
);


ALTER TABLE ent.type_periode OWNER TO eliot_scolarite;

--
-- TOC entry 302 (class 1259 OID 666777)
-- Dependencies: 11
-- Name: type_periode_id_seq; Type: SEQUENCE; Schema: ent; Owner: eliot_scolarite
--

CREATE SEQUENCE type_periode_id_seq
    START WITH 1
    INCREMENT BY 7
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE ent.type_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5879 (class 0 OID 0)
-- Dependencies: 302
-- Name: type_periode_id_seq; Type: SEQUENCE SET; Schema: ent; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_periode_id_seq', 5, true);


--
-- TOC entry 633 (class 1259 OID 672085)
-- Dependencies: 3686 11
-- Name: vue_annuaire; Type: VIEW; Schema: ent; Owner: eliot_scolarite
--

CREATE VIEW vue_annuaire AS
    SELECT p.nom, p.prenom, e.nom_affichage AS nom_etab, se.code AS structure_code, se.type AS structure_type, se.actif AS structure_actif, f.code AS fonction_code, ps.responsable_structure_enseignement AS resp_structure, an.code AS annee_code, mat.libelle_court AS matiere_lib, mef.code AS mef_code, p.id AS personne_id, p.autorite_id, pps.id AS pps_id, e.id AS etablissement_id, se.id AS structure_id, f.id AS fonction_id, an.id AS annee_id, mat.id AS matiere_id, mef.id AS mef_id, aut.id_externe FROM ((((((((((personne p JOIN personne_propriete_scolarite pps ON (((pps.personne_id = p.id) AND (pps.est_active = true)))) JOIN propriete_scolarite ps ON ((ps.id = pps.propriete_scolarite_id))) LEFT JOIN etablissement e ON ((e.id = ps.etablissement_id))) LEFT JOIN structure_enseignement se ON ((se.id = ps.structure_enseignement_id))) LEFT JOIN fonction f ON ((f.id = ps.fonction_id))) LEFT JOIN annee_scolaire an ON ((an.id = ps.annee_scolaire_id))) LEFT JOIN matiere mat ON ((mat.id = ps.matiere_id))) LEFT JOIN eleve_proprietes ep ON (((p.id = ep.personne_id) AND (ps.annee_scolaire_id = ep.annee_scolaire_id)))) LEFT JOIN mef mef ON ((mef.id = ep.mef_id))) LEFT JOIN securite.autorite aut ON ((p.autorite_id = aut.id))) ORDER BY p.nom, p.prenom;


ALTER TABLE ent.vue_annuaire OWNER TO eliot_scolarite;

SET search_path = ent_2011_2012, pg_catalog;

--
-- TOC entry 303 (class 1259 OID 666784)
-- Dependencies: 12
-- Name: calendrier; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE calendrier (
    id bigint NOT NULL,
    jour_semaine_ferie smallint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    premier_jour date NOT NULL,
    dernier_jour date NOT NULL,
    etablissement_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.calendrier OWNER TO eliot_scolarite;

--
-- TOC entry 304 (class 1259 OID 666787)
-- Dependencies: 3799 3800 3801 12
-- Name: enseignement; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE enseignement (
    enseignant_id bigint NOT NULL,
    version integer NOT NULL,
    service_id integer NOT NULL,
    nb_heures double precision,
    version_import_sts integer DEFAULT (-1),
    actif boolean DEFAULT true,
    id bigint NOT NULL,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL
);


ALTER TABLE ent_2011_2012.enseignement OWNER TO eliot_scolarite;

--
-- TOC entry 305 (class 1259 OID 666793)
-- Dependencies: 3802 12
-- Name: matiere; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE matiere (
    version integer NOT NULL,
    id bigint NOT NULL,
    code_sts character varying(128),
    libelle_court character varying(255) NOT NULL,
    code_gestion character varying(255) NOT NULL,
    libelle_edition character varying(255) NOT NULL,
    etablissement_id bigint NOT NULL,
    origine character varying(10),
    specialite boolean DEFAULT false NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    libelle_long character varying(255) NOT NULL
);


ALTER TABLE ent_2011_2012.matiere OWNER TO eliot_scolarite;

--
-- TOC entry 306 (class 1259 OID 666800)
-- Dependencies: 12
-- Name: modalite_matiere; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE modalite_matiere (
    id bigint NOT NULL,
    libelle character varying(1024) NOT NULL,
    code character varying(6) NOT NULL,
    etablissement_id bigint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.modalite_matiere OWNER TO eliot_scolarite;

--
-- TOC entry 307 (class 1259 OID 666806)
-- Dependencies: 12
-- Name: periode; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE periode (
    id bigint NOT NULL,
    type_periode_id integer NOT NULL,
    date_debut date,
    date_fin date,
    date_fin_saisie date,
    date_publication_bulletins date,
    structure_enseignement_id bigint NOT NULL,
    date_publication_releves date
);


ALTER TABLE ent_2011_2012.periode OWNER TO eliot_scolarite;

--
-- TOC entry 308 (class 1259 OID 666809)
-- Dependencies: 3803 3804 12
-- Name: personne_propriete_scolarite; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE personne_propriete_scolarite (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    propriete_scolarite_id bigint NOT NULL,
    est_active boolean DEFAULT false NOT NULL,
    aaf_import_id bigint,
    date_desactivation timestamp without time zone,
    date_debut timestamp without time zone,
    date_fin timestamp without time zone,
    compteur_references integer,
    udt_import_id bigint,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL
);


ALTER TABLE ent_2011_2012.personne_propriete_scolarite OWNER TO eliot_scolarite;

--
-- TOC entry 309 (class 1259 OID 666814)
-- Dependencies: 3805 3806 3807 3808 12
-- Name: preference_etablissement; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_etablissement (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    nb_annees_conservation_archives_bulletins integer DEFAULT 5,
    nb_annees_conservation_archives_cdt integer DEFAULT 3,
    version integer DEFAULT 0 NOT NULL,
    nom_etablissement character varying(60),
    adresse_1_etablissement character varying(60),
    adresse_2_etablissement character varying(60),
    code_postal_etablissement character varying(10),
    ville_etablissement character varying(60),
    logo_etablissement bytea,
    cachet_etablissement bytea,
    lvs_active boolean DEFAULT false,
    lvs_url character varying(255),
    sms_fournisseur_etablissement_id bigint,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.preference_etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 310 (class 1259 OID 666824)
-- Dependencies: 3809 12
-- Name: propriete_scolarite; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE propriete_scolarite (
    id bigint NOT NULL,
    etablissement_id bigint,
    structure_enseignement_id bigint,
    annee_scolaire_id bigint,
    niveau_id bigint,
    matiere_id bigint,
    mef_id bigint,
    fonction_id bigint,
    responsable_structure_enseignement boolean DEFAULT false,
    porteur_ent_id bigint
);


ALTER TABLE ent_2011_2012.propriete_scolarite OWNER TO eliot_scolarite;

--
-- TOC entry 311 (class 1259 OID 666828)
-- Dependencies: 12
-- Name: rel_classe_filiere; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_classe_filiere (
    classe_id bigint NOT NULL,
    filiere_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.rel_classe_filiere OWNER TO eliot_scolarite;

--
-- TOC entry 312 (class 1259 OID 666831)
-- Dependencies: 12
-- Name: rel_classe_groupe; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_classe_groupe (
    classe_id bigint NOT NULL,
    groupe_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.rel_classe_groupe OWNER TO eliot_scolarite;

--
-- TOC entry 313 (class 1259 OID 666834)
-- Dependencies: 3810 3811 12
-- Name: rel_periode_service; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_periode_service (
    id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    coeff numeric,
    version integer NOT NULL,
    option boolean DEFAULT false NOT NULL,
    ordre integer,
    evaluable boolean DEFAULT false NOT NULL
);


ALTER TABLE ent_2011_2012.rel_periode_service OWNER TO eliot_scolarite;

--
-- TOC entry 314 (class 1259 OID 666846)
-- Dependencies: 3812 3813 3814 3815 3816 12
-- Name: service; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE service (
    id integer DEFAULT nextval('ent.services_id_seq'::regclass) NOT NULL,
    version integer NOT NULL,
    nb_heures double precision,
    co_ens boolean,
    modalite_cours_id bigint,
    matiere_id bigint NOT NULL,
    structure_enseignement_id bigint,
    version_import_sts integer DEFAULT (-1),
    actif boolean DEFAULT true,
    origine character varying(10) DEFAULT 'AUTO'::character varying NOT NULL,
    service_principal boolean DEFAULT false NOT NULL
);


ALTER TABLE ent_2011_2012.service OWNER TO eliot_scolarite;

--
-- TOC entry 315 (class 1259 OID 666854)
-- Dependencies: 3817 12
-- Name: sous_service; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sous_service (
    id bigint NOT NULL,
    coeff numeric NOT NULL,
    service_id bigint NOT NULL,
    modalite_matiere_id bigint NOT NULL,
    version integer NOT NULL,
    ordre integer,
    evaluable boolean DEFAULT false NOT NULL,
    type_periode_id bigint NOT NULL
);


ALTER TABLE ent_2011_2012.sous_service OWNER TO eliot_scolarite;

--
-- TOC entry 316 (class 1259 OID 666861)
-- Dependencies: 3818 3819 3820 12
-- Name: structure_enseignement; Type: TABLE; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement (
    id bigint NOT NULL,
    id_externe character varying(128) NOT NULL,
    type character varying(128) NOT NULL,
    version integer NOT NULL,
    etablissement_id bigint NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    type_intervalle character varying(30),
    code character varying(50) NOT NULL,
    version_import_sts integer DEFAULT (-1),
    actif boolean DEFAULT true,
    niveau_id bigint,
    brevet_serie_id bigint,
    date_publication_brevet timestamp with time zone,
    CONSTRAINT chk_structure_enseignement_validite_niveau CHECK ((((niveau_id IS NULL) AND ((type)::text = 'GROUPE'::text)) OR ((niveau_id IS NOT NULL) AND ((type)::text = 'CLASSE'::text))))
);


ALTER TABLE ent_2011_2012.structure_enseignement OWNER TO eliot_scolarite;

SET search_path = entcdt, pg_catalog;

--
-- TOC entry 317 (class 1259 OID 666867)
-- Dependencies: 3821 3822 3823 13
-- Name: activite; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE activite (
    id bigint NOT NULL,
    auteur_id bigint NOT NULL,
    chapitre_id bigint,
    contexte_activite_id bigint,
    date_creation timestamp without time zone NOT NULL,
    date_modification timestamp without time zone,
    date_publication date,
    titre character varying(512),
    objectif text,
    enonce text,
    description text,
    annotation_privee text,
    ordre integer NOT NULL,
    est_publiee boolean DEFAULT false NOT NULL,
    est_terminee boolean DEFAULT false NOT NULL,
    code_matiere character varying(30),
    cahier_de_textes_id bigint NOT NULL,
    item_id bigint,
    import_id bigint,
    date_donnee_le date,
    type_activite_id bigint,
    CONSTRAINT chk_activite_date_publication CHECK (((date_publication IS NULL) OR ((date_publication IS NOT NULL) AND est_publiee)))
);


ALTER TABLE entcdt.activite OWNER TO eliot_scolarite;

--
-- TOC entry 318 (class 1259 OID 666876)
-- Dependencies: 13
-- Name: activite_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE activite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5880 (class 0 OID 0)
-- Dependencies: 318
-- Name: activite_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('activite_id_seq', 1, false);


--
-- TOC entry 319 (class 1259 OID 666878)
-- Dependencies: 3824 3825 3826 3827 3828 13
-- Name: cahier_de_textes; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE cahier_de_textes (
    id bigint NOT NULL,
    fichier_id bigint,
    service_id bigint,
    nom character varying(255) NOT NULL,
    description text,
    date_creation timestamp without time zone NOT NULL,
    item_id bigint NOT NULL,
    est_vise boolean DEFAULT false,
    annee_scolaire_id bigint,
    droits_incomplets boolean DEFAULT false,
    parent_incorporation_id bigint,
    import_id bigint,
    etablissement_id bigint,
    est_fusionne boolean DEFAULT false NOT NULL,
    est_masque boolean DEFAULT false NOT NULL,
    CONSTRAINT chk_type_cdt CHECK (((((((etablissement_id IS NULL) AND (annee_scolaire_id IS NULL)) AND (service_id IS NULL)) OR (((etablissement_id IS NOT NULL) AND (annee_scolaire_id IS NOT NULL)) AND (service_id IS NULL))) OR (((etablissement_id IS NULL) AND (annee_scolaire_id IS NOT NULL)) AND (service_id IS NOT NULL))) OR (((etablissement_id IS NULL) AND (annee_scolaire_id IS NOT NULL)) AND (service_id IS NULL))))
);


ALTER TABLE entcdt.cahier_de_textes OWNER TO eliot_scolarite;

--
-- TOC entry 320 (class 1259 OID 666887)
-- Dependencies: 13
-- Name: cahier_de_textes_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE cahier_de_textes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.cahier_de_textes_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5881 (class 0 OID 0)
-- Dependencies: 320
-- Name: cahier_de_textes_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('cahier_de_textes_id_seq', 1, false);


--
-- TOC entry 321 (class 1259 OID 666889)
-- Dependencies: 3829 13
-- Name: chapitre; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE chapitre (
    id bigint NOT NULL,
    chapitre_parent_id bigint,
    auteur_id bigint NOT NULL,
    nom character varying(255) NOT NULL,
    description text,
    ordre integer DEFAULT 0 NOT NULL,
    cahier_de_textes_id bigint NOT NULL,
    import_id bigint
);


ALTER TABLE entcdt.chapitre OWNER TO eliot_scolarite;

--
-- TOC entry 322 (class 1259 OID 666896)
-- Dependencies: 13
-- Name: chapitre_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE chapitre_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.chapitre_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5882 (class 0 OID 0)
-- Dependencies: 322
-- Name: chapitre_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('chapitre_id_seq', 1, false);


--
-- TOC entry 323 (class 1259 OID 666898)
-- Dependencies: 13
-- Name: contexte_activite; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE contexte_activite (
    id bigint NOT NULL,
    code character varying(5) NOT NULL,
    nom character varying(255) NOT NULL,
    description text
);


ALTER TABLE entcdt.contexte_activite OWNER TO eliot_scolarite;

--
-- TOC entry 324 (class 1259 OID 666904)
-- Dependencies: 13
-- Name: contexte_activite_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE contexte_activite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.contexte_activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5883 (class 0 OID 0)
-- Dependencies: 324
-- Name: contexte_activite_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('contexte_activite_id_seq', 1, false);


--
-- TOC entry 325 (class 1259 OID 666906)
-- Dependencies: 13
-- Name: date_activite; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE date_activite (
    id bigint NOT NULL,
    activite_id bigint NOT NULL,
    date_activite timestamp without time zone,
    date_echeance timestamp without time zone,
    evenement_id bigint
);


ALTER TABLE entcdt.date_activite OWNER TO eliot_scolarite;

--
-- TOC entry 326 (class 1259 OID 666909)
-- Dependencies: 13
-- Name: date_activite_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE date_activite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.date_activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5884 (class 0 OID 0)
-- Dependencies: 326
-- Name: date_activite_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('date_activite_id_seq', 1, false);


--
-- TOC entry 327 (class 1259 OID 666911)
-- Dependencies: 3830 13
-- Name: dossier; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE dossier (
    id bigint NOT NULL,
    acteur_id bigint NOT NULL,
    nom character varying(255) NOT NULL,
    description text,
    est_defaut boolean DEFAULT false NOT NULL,
    ordre integer
);


ALTER TABLE entcdt.dossier OWNER TO eliot_scolarite;

--
-- TOC entry 328 (class 1259 OID 666918)
-- Dependencies: 13
-- Name: dossier_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE dossier_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.dossier_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5885 (class 0 OID 0)
-- Dependencies: 328
-- Name: dossier_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('dossier_id_seq', 1, false);


--
-- TOC entry 329 (class 1259 OID 666920)
-- Dependencies: 3831 13
-- Name: fichier; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE fichier (
    id bigint NOT NULL,
    nom character varying,
    blob bytea,
    id_externe character varying(128),
    type_mime character varying(255),
    datastore_code character varying(20) NOT NULL,
    migration_erreur_nb integer DEFAULT 0 NOT NULL
);


ALTER TABLE entcdt.fichier OWNER TO eliot_scolarite;

--
-- TOC entry 330 (class 1259 OID 666927)
-- Dependencies: 13
-- Name: fichier_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE fichier_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.fichier_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5886 (class 0 OID 0)
-- Dependencies: 330
-- Name: fichier_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('fichier_id_seq', 1, false);


--
-- TOC entry 331 (class 1259 OID 666929)
-- Dependencies: 13
-- Name: import; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE import (
    id bigint NOT NULL,
    date_debut_import timestamp with time zone,
    date_fin_import timestamp with time zone
);


ALTER TABLE entcdt.import OWNER TO eliot_scolarite;

--
-- TOC entry 332 (class 1259 OID 666932)
-- Dependencies: 13
-- Name: import_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE import_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.import_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5887 (class 0 OID 0)
-- Dependencies: 332
-- Name: import_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('import_id_seq', 1, false);


--
-- TOC entry 333 (class 1259 OID 666934)
-- Dependencies: 3832 3833 3834 13
-- Name: rel_activite_acteur; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_activite_acteur (
    activite_id bigint NOT NULL,
    acteur_id bigint NOT NULL,
    annotation text,
    est_lu boolean DEFAULT false NOT NULL,
    est_termine boolean DEFAULT false NOT NULL,
    est_nouvelle boolean DEFAULT true NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE entcdt.rel_activite_acteur OWNER TO eliot_scolarite;

--
-- TOC entry 334 (class 1259 OID 666943)
-- Dependencies: 13
-- Name: rel_activite_acteur_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_activite_acteur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.rel_activite_acteur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5888 (class 0 OID 0)
-- Dependencies: 334
-- Name: rel_activite_acteur_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_activite_acteur_id_seq', 1, false);


--
-- TOC entry 335 (class 1259 OID 666945)
-- Dependencies: 3835 13
-- Name: rel_cahier_acteur; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_cahier_acteur (
    cahier_de_textes_id bigint NOT NULL,
    acteur_id bigint NOT NULL,
    sera_notifie boolean DEFAULT true NOT NULL,
    alias_nom character varying(255),
    id bigint NOT NULL
);


ALTER TABLE entcdt.rel_cahier_acteur OWNER TO eliot_scolarite;

--
-- TOC entry 336 (class 1259 OID 666949)
-- Dependencies: 13
-- Name: rel_cahier_acteur_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_cahier_acteur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.rel_cahier_acteur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5889 (class 0 OID 0)
-- Dependencies: 336
-- Name: rel_cahier_acteur_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_cahier_acteur_id_seq', 1, false);


--
-- TOC entry 337 (class 1259 OID 666951)
-- Dependencies: 3836 13
-- Name: rel_cahier_groupe; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_cahier_groupe (
    cahier_de_textes_id bigint NOT NULL,
    groupe_id bigint NOT NULL,
    notification_obligatoire boolean DEFAULT false NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE entcdt.rel_cahier_groupe OWNER TO eliot_scolarite;

--
-- TOC entry 338 (class 1259 OID 666955)
-- Dependencies: 13
-- Name: rel_cahier_groupe_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_cahier_groupe_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.rel_cahier_groupe_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5890 (class 0 OID 0)
-- Dependencies: 338
-- Name: rel_cahier_groupe_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_cahier_groupe_id_seq', 1, false);


--
-- TOC entry 339 (class 1259 OID 666957)
-- Dependencies: 13
-- Name: rel_dossier_autorisation_cahier; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_dossier_autorisation_cahier (
    dossier_id bigint NOT NULL,
    autorisation_id bigint NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE entcdt.rel_dossier_autorisation_cahier OWNER TO eliot_scolarite;

--
-- TOC entry 340 (class 1259 OID 666960)
-- Dependencies: 13
-- Name: rel_dossier_autorisation_cahier_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_dossier_autorisation_cahier_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.rel_dossier_autorisation_cahier_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5891 (class 0 OID 0)
-- Dependencies: 340
-- Name: rel_dossier_autorisation_cahier_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_dossier_autorisation_cahier_id_seq', 1, false);


--
-- TOC entry 341 (class 1259 OID 666962)
-- Dependencies: 3837 3838 3839 13
-- Name: ressource; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE ressource (
    id bigint NOT NULL,
    activite_id bigint NOT NULL,
    fichier_id bigint,
    url text,
    ordre integer NOT NULL,
    description text,
    est_publiee boolean DEFAULT false NOT NULL,
    date_publication date,
    type_ressource character varying(3) NOT NULL,
    catalogue_ressource_id_externe character varying,
    CONSTRAINT chk_ressource_type_ressource CHECK (((((type_ressource)::text = 'URL'::text) OR ((type_ressource)::text = 'FIC'::text)) OR ((type_ressource)::text = 'CPA'::text))),
    CONSTRAINT chk_ressource_type_ressource_not_nulls CHECK ((((((((type_ressource)::text = 'CPA'::text) AND (catalogue_ressource_id_externe IS NOT NULL)) AND (fichier_id IS NULL)) AND (url IS NULL)) OR (((((type_ressource)::text = 'FIC'::text) AND (catalogue_ressource_id_externe IS NULL)) AND (fichier_id IS NOT NULL)) AND (url IS NULL))) OR (((((type_ressource)::text = 'URL'::text) AND (catalogue_ressource_id_externe IS NULL)) AND (fichier_id IS NULL)) AND (url IS NOT NULL))))
);


ALTER TABLE entcdt.ressource OWNER TO eliot_scolarite;

--
-- TOC entry 342 (class 1259 OID 666971)
-- Dependencies: 13
-- Name: ressource_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE ressource_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.ressource_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5892 (class 0 OID 0)
-- Dependencies: 342
-- Name: ressource_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('ressource_id_seq', 1, false);


--
-- TOC entry 343 (class 1259 OID 666973)
-- Dependencies: 13
-- Name: textes_preferences_utilisateur; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE textes_preferences_utilisateur (
    id bigint NOT NULL,
    utilisateur_id bigint NOT NULL,
    date_derniere_notification timestamp without time zone
);


ALTER TABLE entcdt.textes_preferences_utilisateur OWNER TO eliot_scolarite;

--
-- TOC entry 344 (class 1259 OID 666976)
-- Dependencies: 13
-- Name: textes_preferences_utilisateur_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE textes_preferences_utilisateur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.textes_preferences_utilisateur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5893 (class 0 OID 0)
-- Dependencies: 344
-- Name: textes_preferences_utilisateur_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('textes_preferences_utilisateur_id_seq', 1, false);


--
-- TOC entry 345 (class 1259 OID 666978)
-- Dependencies: 13
-- Name: type_activite_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE type_activite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.type_activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5894 (class 0 OID 0)
-- Dependencies: 345
-- Name: type_activite_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_activite_id_seq', 3, true);


--
-- TOC entry 346 (class 1259 OID 666980)
-- Dependencies: 13
-- Name: visa; Type: TABLE; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE visa (
    id bigint NOT NULL,
    date_visee timestamp without time zone NOT NULL,
    auteur_personne_id bigint NOT NULL,
    cahier_vise_id bigint NOT NULL,
    commentaire text,
    etablissement_uai character varying(10) NOT NULL
);


ALTER TABLE entcdt.visa OWNER TO eliot_scolarite;

--
-- TOC entry 347 (class 1259 OID 666986)
-- Dependencies: 13
-- Name: visa_id_seq; Type: SEQUENCE; Schema: entcdt; Owner: eliot_scolarite
--

CREATE SEQUENCE visa_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entcdt.visa_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5895 (class 0 OID 0)
-- Dependencies: 347
-- Name: visa_id_seq; Type: SEQUENCE SET; Schema: entcdt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('visa_id_seq', 1, false);


SET search_path = entdemon, pg_catalog;

--
-- TOC entry 348 (class 1259 OID 666988)
-- Dependencies: 14
-- Name: demande_traitement; Type: TABLE; Schema: entdemon; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE demande_traitement (
    id bigint NOT NULL,
    date_demande timestamp without time zone NOT NULL,
    date_debut_execution_traitement timestamp without time zone,
    date_fin_execution_traitement timestamp without time zone,
    date_annulation_execution_traitement timestamp without time zone,
    statut character varying NOT NULL,
    traitement_type character varying(128) NOT NULL,
    traitement_rapport text,
    traitement_args text,
    demandeur_autorite_id bigint,
    etablissement_id bigint,
    annee_scolaire_id bigint,
    nom character varying(300)
);


ALTER TABLE entdemon.demande_traitement OWNER TO eliot_scolarite;

--
-- TOC entry 349 (class 1259 OID 666994)
-- Dependencies: 14
-- Name: demande_traitement_id_seq; Type: SEQUENCE; Schema: entdemon; Owner: eliot_scolarite
--

CREATE SEQUENCE demande_traitement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entdemon.demande_traitement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5896 (class 0 OID 0)
-- Dependencies: 349
-- Name: demande_traitement_id_seq; Type: SEQUENCE SET; Schema: entdemon; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('demande_traitement_id_seq', 1, false);


SET search_path = entnotes, pg_catalog;

--
-- TOC entry 350 (class 1259 OID 666996)
-- Dependencies: 15
-- Name: appreciation_classe_enseignement_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_classe_enseignement_periode (
    id bigint NOT NULL,
    classe_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes.appreciation_classe_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 351 (class 1259 OID 667002)
-- Dependencies: 15
-- Name: appreciation_classe_enseignement_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE appreciation_classe_enseignement_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.appreciation_classe_enseignement_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5897 (class 0 OID 0)
-- Dependencies: 351
-- Name: appreciation_classe_enseignement_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('appreciation_classe_enseignement_periode_id_seq', 1, false);


--
-- TOC entry 352 (class 1259 OID 667004)
-- Dependencies: 15
-- Name: appreciation_eleve_enseignement_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_eleve_enseignement_periode (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes.appreciation_eleve_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 353 (class 1259 OID 667010)
-- Dependencies: 15
-- Name: appreciation_eleve_enseignement_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE appreciation_eleve_enseignement_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.appreciation_eleve_enseignement_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5898 (class 0 OID 0)
-- Dependencies: 353
-- Name: appreciation_eleve_enseignement_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('appreciation_eleve_enseignement_periode_id_seq', 1, false);


--
-- TOC entry 354 (class 1259 OID 667012)
-- Dependencies: 15
-- Name: appreciation_eleve_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_eleve_periode (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL
);


ALTER TABLE entnotes.appreciation_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 355 (class 1259 OID 667018)
-- Dependencies: 15
-- Name: appreciation_eleve_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE appreciation_eleve_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.appreciation_eleve_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5899 (class 0 OID 0)
-- Dependencies: 355
-- Name: appreciation_eleve_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('appreciation_eleve_periode_id_seq', 1, false);


--
-- TOC entry 356 (class 1259 OID 667020)
-- Dependencies: 15
-- Name: avis; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE avis (
    id bigint NOT NULL,
    version integer NOT NULL,
    libelle character varying(30) NOT NULL,
    ordre smallint NOT NULL,
    type_id bigint NOT NULL
);


ALTER TABLE entnotes.avis OWNER TO eliot_scolarite;

--
-- TOC entry 357 (class 1259 OID 667023)
-- Dependencies: 15
-- Name: avis_eleve_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE avis_eleve_periode (
    id bigint NOT NULL,
    version integer NOT NULL,
    avis_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    type_avis_id bigint NOT NULL
);


ALTER TABLE entnotes.avis_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 358 (class 1259 OID 667026)
-- Dependencies: 15
-- Name: avis_eleve_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE avis_eleve_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.avis_eleve_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5900 (class 0 OID 0)
-- Dependencies: 358
-- Name: avis_eleve_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('avis_eleve_periode_id_seq', 1, false);


--
-- TOC entry 359 (class 1259 OID 667028)
-- Dependencies: 15
-- Name: avis_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE avis_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.avis_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5901 (class 0 OID 0)
-- Dependencies: 359
-- Name: avis_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('avis_id_seq', 1, false);


--
-- TOC entry 360 (class 1259 OID 667030)
-- Dependencies: 3840 3841 15
-- Name: brevet_epreuve; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_epreuve (
    id bigint NOT NULL,
    code integer NOT NULL,
    libelle character varying(256) NOT NULL,
    note_max integer,
    indicative boolean NOT NULL,
    optionnelle boolean NOT NULL,
    personnalisable boolean NOT NULL,
    notee boolean NOT NULL,
    epreuve_exclusive_id bigint,
    epreuve_matieres_a_heriter_id bigint,
    serie_id bigint NOT NULL,
    mode_calcul_note character varying(32) DEFAULT 'PREMIERE_TROUVEE'::character varying,
    exportable boolean DEFAULT true
);


ALTER TABLE entnotes.brevet_epreuve OWNER TO eliot_scolarite;

--
-- TOC entry 361 (class 1259 OID 667035)
-- Dependencies: 15
-- Name: brevet_epreuve_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_epreuve_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_epreuve_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5902 (class 0 OID 0)
-- Dependencies: 361
-- Name: brevet_epreuve_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_epreuve_id_seq', 101, true);


--
-- TOC entry 362 (class 1259 OID 667037)
-- Dependencies: 15
-- Name: brevet_fiche; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_fiche (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    avis character varying(256)
);


ALTER TABLE entnotes.brevet_fiche OWNER TO eliot_scolarite;

--
-- TOC entry 363 (class 1259 OID 667040)
-- Dependencies: 15
-- Name: brevet_fiche_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_fiche_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_fiche_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5903 (class 0 OID 0)
-- Dependencies: 363
-- Name: brevet_fiche_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_fiche_id_seq', 1, false);


--
-- TOC entry 364 (class 1259 OID 667042)
-- Dependencies: 15
-- Name: brevet_note; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_note (
    id bigint NOT NULL,
    appreciation character varying(1024),
    valeur_numerique numeric,
    valeur_textuelle_id bigint,
    epreuve_id bigint NOT NULL,
    matiere_id bigint,
    fiche_id bigint NOT NULL
);


ALTER TABLE entnotes.brevet_note OWNER TO eliot_scolarite;

--
-- TOC entry 365 (class 1259 OID 667048)
-- Dependencies: 15
-- Name: brevet_note_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_note_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_note_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5904 (class 0 OID 0)
-- Dependencies: 365
-- Name: brevet_note_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_note_id_seq', 1, false);


--
-- TOC entry 366 (class 1259 OID 667050)
-- Dependencies: 15
-- Name: brevet_note_valeur_textuelle; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_note_valeur_textuelle (
    id bigint NOT NULL,
    valeur character varying(2) NOT NULL
);


ALTER TABLE entnotes.brevet_note_valeur_textuelle OWNER TO eliot_scolarite;

--
-- TOC entry 367 (class 1259 OID 667053)
-- Dependencies: 15
-- Name: brevet_rel_epreuve_matiere; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_rel_epreuve_matiere (
    id bigint NOT NULL,
    epreuve_id bigint NOT NULL,
    matiere_id bigint NOT NULL
);


ALTER TABLE entnotes.brevet_rel_epreuve_matiere OWNER TO eliot_scolarite;

--
-- TOC entry 368 (class 1259 OID 667056)
-- Dependencies: 15
-- Name: brevet_rel_epreuve_matiere_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_rel_epreuve_matiere_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_rel_epreuve_matiere_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5905 (class 0 OID 0)
-- Dependencies: 368
-- Name: brevet_rel_epreuve_matiere_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_rel_epreuve_matiere_id_seq', 1, false);


--
-- TOC entry 369 (class 1259 OID 667058)
-- Dependencies: 15
-- Name: brevet_rel_epreuve_note_valeur_textuelle; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_rel_epreuve_note_valeur_textuelle (
    brevet_epreuve_id bigint NOT NULL,
    valeur_textuelle_id bigint NOT NULL
);


ALTER TABLE entnotes.brevet_rel_epreuve_note_valeur_textuelle OWNER TO eliot_scolarite;

--
-- TOC entry 370 (class 1259 OID 667061)
-- Dependencies: 15
-- Name: brevet_rel_epreuve_note_valeur_textuelle_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_rel_epreuve_note_valeur_textuelle_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_rel_epreuve_note_valeur_textuelle_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5906 (class 0 OID 0)
-- Dependencies: 370
-- Name: brevet_rel_epreuve_note_valeur_textuelle_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_rel_epreuve_note_valeur_textuelle_id_seq', 1, false);


--
-- TOC entry 371 (class 1259 OID 667063)
-- Dependencies: 15
-- Name: brevet_serie; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_serie (
    id bigint NOT NULL,
    libelle_court character varying(128) NOT NULL,
    libelle_long character varying(256) NOT NULL,
    libelle_edition character varying(256) NOT NULL,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE entnotes.brevet_serie OWNER TO eliot_scolarite;

--
-- TOC entry 372 (class 1259 OID 667069)
-- Dependencies: 15
-- Name: brevet_serie_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE brevet_serie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.brevet_serie_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5907 (class 0 OID 0)
-- Dependencies: 372
-- Name: brevet_serie_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('brevet_serie_id_seq', 8, true);


--
-- TOC entry 373 (class 1259 OID 667071)
-- Dependencies: 15
-- Name: dernier_changement_dans_classe_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE dernier_changement_dans_classe_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.dernier_changement_dans_classe_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5908 (class 0 OID 0)
-- Dependencies: 373
-- Name: dernier_changement_dans_classe_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('dernier_changement_dans_classe_id_seq', 1, false);


--
-- TOC entry 374 (class 1259 OID 667073)
-- Dependencies: 15
-- Name: dirty_moyenne; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE dirty_moyenne (
    id bigint NOT NULL,
    date_changement timestamp without time zone NOT NULL,
    eleve_id bigint,
    classe_id bigint,
    periode_id bigint NOT NULL,
    service_id bigint,
    sous_service_id bigint,
    type_moyenne character varying(200) NOT NULL,
    enseignement_id bigint
);


ALTER TABLE entnotes.dirty_moyenne OWNER TO eliot_scolarite;

--
-- TOC entry 375 (class 1259 OID 667076)
-- Dependencies: 15
-- Name: dirty_moyenne_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE dirty_moyenne_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.dirty_moyenne_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5909 (class 0 OID 0)
-- Dependencies: 375
-- Name: dirty_moyenne_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('dirty_moyenne_id_seq', 1, false);


--
-- TOC entry 376 (class 1259 OID 667078)
-- Dependencies: 3842 15
-- Name: etablissement_notes; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etablissement_notes (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    "precision" numeric DEFAULT 0.01 NOT NULL,
    annuaire_import_id bigint
);


ALTER TABLE entnotes.etablissement_notes OWNER TO eliot_scolarite;

--
-- TOC entry 377 (class 1259 OID 667085)
-- Dependencies: 15
-- Name: etablissement_notes_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE etablissement_notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.etablissement_notes_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5910 (class 0 OID 0)
-- Dependencies: 377
-- Name: etablissement_notes_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('etablissement_notes_id_seq', 1, false);


--
-- TOC entry 378 (class 1259 OID 667087)
-- Dependencies: 3843 3844 3845 3846 3847 15
-- Name: evaluation; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE evaluation (
    id bigint NOT NULL,
    titre character varying(128) NOT NULL,
    date_evaluation date NOT NULL,
    description character varying(1024),
    coefficient numeric NOT NULL,
    note_max_possible numeric,
    est_publiable boolean NOT NULL,
    version integer DEFAULT 0 NOT NULL,
    date_creation timestamp without time zone DEFAULT now() NOT NULL,
    ordre integer DEFAULT 0 NOT NULL,
    moyenne numeric,
    modalite_matiere_id bigint,
    enseignement_id bigint NOT NULL,
    cree_par_webservice boolean DEFAULT false NOT NULL,
    type_activite_id bigint NOT NULL,
    ramener_sur_20 boolean DEFAULT false NOT NULL
);


ALTER TABLE entnotes.evaluation OWNER TO eliot_scolarite;

--
-- TOC entry 379 (class 1259 OID 667098)
-- Dependencies: 15
-- Name: evaluation_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE evaluation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.evaluation_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5911 (class 0 OID 0)
-- Dependencies: 379
-- Name: evaluation_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('evaluation_id_seq', 1, false);


--
-- TOC entry 380 (class 1259 OID 667100)
-- Dependencies: 3848 15
-- Name: info_calcul_moyennes_classe; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE info_calcul_moyennes_classe (
    id bigint NOT NULL,
    classe_id bigint NOT NULL,
    calcul_en_cours boolean DEFAULT false NOT NULL,
    date_debut_calcul timestamp without time zone,
    date_fin_calcul timestamp without time zone,
    version integer NOT NULL,
    date_verrou timestamp without time zone
);


ALTER TABLE entnotes.info_calcul_moyennes_classe OWNER TO eliot_scolarite;

--
-- TOC entry 381 (class 1259 OID 667104)
-- Dependencies: 15
-- Name: info_calcul_moyennes_classe_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE info_calcul_moyennes_classe_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.info_calcul_moyennes_classe_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5912 (class 0 OID 0)
-- Dependencies: 381
-- Name: info_calcul_moyennes_classe_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('info_calcul_moyennes_classe_id_seq', 1, false);


--
-- TOC entry 382 (class 1259 OID 667106)
-- Dependencies: 15
-- Name: modele_appreciation_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE modele_appreciation_id_seq
    START WITH 10
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.modele_appreciation_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5913 (class 0 OID 0)
-- Dependencies: 382
-- Name: modele_appreciation_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('modele_appreciation_id_seq', 10, false);


--
-- TOC entry 383 (class 1259 OID 667108)
-- Dependencies: 15
-- Name: modele_appreciation_professeur; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE modele_appreciation_professeur (
    id bigint NOT NULL,
    autorite_id bigint NOT NULL,
    texte character varying(1024) NOT NULL,
    version integer NOT NULL
);


ALTER TABLE entnotes.modele_appreciation_professeur OWNER TO eliot_scolarite;

--
-- TOC entry 384 (class 1259 OID 667114)
-- Dependencies: 15
-- Name: modele_appreciation_professeur_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE modele_appreciation_professeur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.modele_appreciation_professeur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5914 (class 0 OID 0)
-- Dependencies: 384
-- Name: modele_appreciation_professeur_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('modele_appreciation_professeur_id_seq', 1, false);


--
-- TOC entry 385 (class 1259 OID 667116)
-- Dependencies: 3849 3850 3851 15
-- Name: note; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE note (
    id bigint NOT NULL,
    valeur_numerique numeric,
    evaluation_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    version integer DEFAULT 0 NOT NULL,
    note_textuelle_id bigint,
    choisie_pour_sport boolean DEFAULT false NOT NULL,
    CONSTRAINT chk_valeur_numerique_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (valeur_numerique IS NULL)))
);


ALTER TABLE entnotes.note OWNER TO eliot_scolarite;

--
-- TOC entry 386 (class 1259 OID 667125)
-- Dependencies: 15
-- Name: note_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE note_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.note_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5915 (class 0 OID 0)
-- Dependencies: 386
-- Name: note_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('note_id_seq', 1, false);


--
-- TOC entry 387 (class 1259 OID 667127)
-- Dependencies: 3852 15
-- Name: note_textuelle; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE note_textuelle (
    id bigint NOT NULL,
    code character varying(4) NOT NULL,
    libelle character varying(15) NOT NULL,
    etablissement_id bigint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    inserted boolean DEFAULT true
);


ALTER TABLE entnotes.note_textuelle OWNER TO eliot_scolarite;

--
-- TOC entry 388 (class 1259 OID 667131)
-- Dependencies: 15
-- Name: note_textuelle_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE note_textuelle_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.note_textuelle_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5916 (class 0 OID 0)
-- Dependencies: 388
-- Name: note_textuelle_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('note_textuelle_id_seq', 2, true);


--
-- TOC entry 617 (class 1259 OID 671802)
-- Dependencies: 3980 3981 15
-- Name: preference_utilisateur_notes; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_utilisateur_notes (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    rangs boolean DEFAULT false NOT NULL,
    moyennes_precedentes boolean DEFAULT false NOT NULL,
    version integer NOT NULL
);


ALTER TABLE entnotes.preference_utilisateur_notes OWNER TO eliot_scolarite;

--
-- TOC entry 618 (class 1259 OID 671807)
-- Dependencies: 15
-- Name: preference_utilisateur_notes_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE preference_utilisateur_notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.preference_utilisateur_notes_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5917 (class 0 OID 0)
-- Dependencies: 618
-- Name: preference_utilisateur_notes_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('preference_utilisateur_notes_id_seq', 1, false);


--
-- TOC entry 389 (class 1259 OID 667133)
-- Dependencies: 15
-- Name: rel_evaluation_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_evaluation_periode (
    evaluation_id bigint NOT NULL,
    periode_id bigint NOT NULL
);


ALTER TABLE entnotes.rel_evaluation_periode OWNER TO eliot_scolarite;

--
-- TOC entry 390 (class 1259 OID 667136)
-- Dependencies: 15
-- Name: resultat_classe_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_periode (
    structure_enseignement_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    id bigint NOT NULL
);


ALTER TABLE entnotes.resultat_classe_periode OWNER TO eliot_scolarite;

--
-- TOC entry 391 (class 1259 OID 667142)
-- Dependencies: 15
-- Name: resultat_classe_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_classe_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_classe_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5918 (class 0 OID 0)
-- Dependencies: 391
-- Name: resultat_classe_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_classe_periode_id_seq', 1, false);


--
-- TOC entry 392 (class 1259 OID 667144)
-- Dependencies: 15
-- Name: resultat_classe_service_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_service_periode (
    structure_enseignement_id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    id bigint NOT NULL
);


ALTER TABLE entnotes.resultat_classe_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 393 (class 1259 OID 667150)
-- Dependencies: 15
-- Name: resultat_classe_service_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_classe_service_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_classe_service_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5919 (class 0 OID 0)
-- Dependencies: 393
-- Name: resultat_classe_service_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_classe_service_periode_id_seq', 1, false);


--
-- TOC entry 394 (class 1259 OID 667152)
-- Dependencies: 15
-- Name: resultat_classe_sous_service_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_sous_service_periode (
    id bigint NOT NULL,
    moyenne numeric,
    resultat_classe_service_periode_id bigint NOT NULL,
    sous_service_id bigint NOT NULL,
    moyenne_max numeric,
    moyenne_min numeric
);


ALTER TABLE entnotes.resultat_classe_sous_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 395 (class 1259 OID 667158)
-- Dependencies: 15
-- Name: resultat_classe_sous_service_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_classe_sous_service_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_classe_sous_service_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5920 (class 0 OID 0)
-- Dependencies: 395
-- Name: resultat_classe_sous_service_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_classe_sous_service_periode_id_seq', 1, false);


--
-- TOC entry 396 (class 1259 OID 667160)
-- Dependencies: 3853 15
-- Name: resultat_eleve_enseignement_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_enseignement_periode (
    id bigint NOT NULL,
    periode_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    moyenne numeric,
    enseignement_id bigint NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes.resultat_eleve_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 397 (class 1259 OID 667167)
-- Dependencies: 15
-- Name: resultat_eleve_enseignement_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_eleve_enseignement_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_eleve_enseignement_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5921 (class 0 OID 0)
-- Dependencies: 397
-- Name: resultat_eleve_enseignement_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_eleve_enseignement_periode_id_seq', 1, false);


--
-- TOC entry 398 (class 1259 OID 667169)
-- Dependencies: 3854 15
-- Name: resultat_eleve_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_periode (
    autorite_eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    id bigint NOT NULL,
    note_textuelle_id bigint,
    rang integer,
    nb_eleves integer,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes.resultat_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 399 (class 1259 OID 667176)
-- Dependencies: 15
-- Name: resultat_eleve_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_eleve_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_eleve_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5922 (class 0 OID 0)
-- Dependencies: 399
-- Name: resultat_eleve_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_eleve_periode_id_seq', 1, false);


--
-- TOC entry 400 (class 1259 OID 667178)
-- Dependencies: 3855 15
-- Name: resultat_eleve_service_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_service_periode (
    autorite_eleve_id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    id bigint NOT NULL,
    note_textuelle_id bigint,
    rang integer,
    nb_eleves integer,
    nb_notes integer,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes.resultat_eleve_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 401 (class 1259 OID 667185)
-- Dependencies: 15
-- Name: resultat_eleve_service_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_eleve_service_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_eleve_service_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5923 (class 0 OID 0)
-- Dependencies: 401
-- Name: resultat_eleve_service_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_eleve_service_periode_id_seq', 1, false);


--
-- TOC entry 402 (class 1259 OID 667187)
-- Dependencies: 3856 15
-- Name: resultat_eleve_sous_service_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_sous_service_periode (
    id bigint NOT NULL,
    moyenne numeric,
    resultat_eleve_service_periode_id bigint NOT NULL,
    sous_service_id bigint NOT NULL,
    note_textuelle_id bigint,
    nb_notes integer,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes.resultat_eleve_sous_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 403 (class 1259 OID 667194)
-- Dependencies: 15
-- Name: resultat_eleve_sous_service_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_eleve_sous_service_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_eleve_sous_service_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5924 (class 0 OID 0)
-- Dependencies: 403
-- Name: resultat_eleve_sous_service_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_eleve_sous_service_periode_id_seq', 1, false);


--
-- TOC entry 404 (class 1259 OID 667196)
-- Dependencies: 15
-- Name: resultat_enseignement_periode; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_enseignement_periode (
    id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes.resultat_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 405 (class 1259 OID 667202)
-- Dependencies: 15
-- Name: resultat_enseignement_periode_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE resultat_enseignement_periode_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.resultat_enseignement_periode_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5925 (class 0 OID 0)
-- Dependencies: 405
-- Name: resultat_enseignement_periode_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('resultat_enseignement_periode_id_seq', 1, false);


--
-- TOC entry 406 (class 1259 OID 667204)
-- Dependencies: 3857 15
-- Name: structure_enseignement_notes; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE structure_enseignement_notes (
    id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    brevet_serie_id bigint,
    date_publication_brevet timestamp with time zone,
    type_intervalle character varying(30),
    version integer DEFAULT 0 NOT NULL
);


ALTER TABLE entnotes.structure_enseignement_notes OWNER TO eliot_scolarite;

--
-- TOC entry 407 (class 1259 OID 667208)
-- Dependencies: 15
-- Name: structure_enseignement_notes_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE structure_enseignement_notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.structure_enseignement_notes_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5926 (class 0 OID 0)
-- Dependencies: 407
-- Name: structure_enseignement_notes_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('structure_enseignement_notes_id_seq', 1, false);


--
-- TOC entry 408 (class 1259 OID 667210)
-- Dependencies: 3858 15
-- Name: type_avis; Type: TABLE; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_avis (
    id bigint NOT NULL,
    version integer NOT NULL,
    libelle character varying(30) NOT NULL,
    ordre smallint NOT NULL,
    etablissement_id bigint NOT NULL,
    inserted boolean DEFAULT true
);


ALTER TABLE entnotes.type_avis OWNER TO eliot_scolarite;

--
-- TOC entry 409 (class 1259 OID 667214)
-- Dependencies: 15
-- Name: type_avis_id_seq; Type: SEQUENCE; Schema: entnotes; Owner: eliot_scolarite
--

CREATE SEQUENCE type_avis_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE entnotes.type_avis_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5927 (class 0 OID 0)
-- Dependencies: 409
-- Name: type_avis_id_seq; Type: SEQUENCE SET; Schema: entnotes; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_avis_id_seq', 2, true);


SET search_path = entnotes_2011_2012, pg_catalog;

--
-- TOC entry 410 (class 1259 OID 667216)
-- Dependencies: 16
-- Name: appreciation_classe_enseignement_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_classe_enseignement_periode (
    id bigint NOT NULL,
    classe_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.appreciation_classe_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 411 (class 1259 OID 667222)
-- Dependencies: 16
-- Name: appreciation_eleve_enseignement_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_eleve_enseignement_periode (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.appreciation_eleve_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 412 (class 1259 OID 667228)
-- Dependencies: 16
-- Name: appreciation_eleve_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appreciation_eleve_periode (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    appreciation character varying(1024),
    version integer NOT NULL
);


ALTER TABLE entnotes_2011_2012.appreciation_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 413 (class 1259 OID 667234)
-- Dependencies: 16
-- Name: avis_eleve_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE avis_eleve_periode (
    id bigint NOT NULL,
    version integer NOT NULL,
    avis_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    type_avis_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.avis_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 414 (class 1259 OID 667237)
-- Dependencies: 16
-- Name: brevet_epreuve; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_epreuve (
    id bigint NOT NULL,
    code integer NOT NULL,
    libelle character varying(256) NOT NULL,
    note_max integer,
    indicative boolean NOT NULL,
    optionnelle boolean NOT NULL,
    personnalisable boolean NOT NULL,
    notee boolean NOT NULL,
    epreuve_exclusive_id bigint,
    epreuve_matieres_a_heriter_id bigint,
    serie_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.brevet_epreuve OWNER TO eliot_scolarite;

--
-- TOC entry 415 (class 1259 OID 667240)
-- Dependencies: 16
-- Name: brevet_fiche; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_fiche (
    id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    avis character varying(256)
);


ALTER TABLE entnotes_2011_2012.brevet_fiche OWNER TO eliot_scolarite;

--
-- TOC entry 416 (class 1259 OID 667243)
-- Dependencies: 16
-- Name: brevet_note; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_note (
    id bigint NOT NULL,
    appreciation character varying(1024),
    valeur_numerique numeric,
    valeur_textuelle_id bigint,
    epreuve_id bigint NOT NULL,
    matiere_id bigint,
    fiche_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.brevet_note OWNER TO eliot_scolarite;

--
-- TOC entry 417 (class 1259 OID 667249)
-- Dependencies: 16
-- Name: brevet_rel_epreuve_matiere; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_rel_epreuve_matiere (
    id bigint NOT NULL,
    epreuve_id bigint NOT NULL,
    matiere_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.brevet_rel_epreuve_matiere OWNER TO eliot_scolarite;

--
-- TOC entry 418 (class 1259 OID 667252)
-- Dependencies: 16
-- Name: brevet_rel_epreuve_note_valeur_textuelle; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_rel_epreuve_note_valeur_textuelle (
    brevet_epreuve_id bigint NOT NULL,
    valeur_textuelle_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.brevet_rel_epreuve_note_valeur_textuelle OWNER TO eliot_scolarite;

--
-- TOC entry 419 (class 1259 OID 667255)
-- Dependencies: 16
-- Name: brevet_serie; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE brevet_serie (
    id bigint NOT NULL,
    libelle_court character varying(128) NOT NULL,
    libelle_long character varying(256) NOT NULL,
    libelle_edition character varying(256) NOT NULL,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.brevet_serie OWNER TO eliot_scolarite;

--
-- TOC entry 420 (class 1259 OID 667261)
-- Dependencies: 3859 3860 3861 3862 16
-- Name: evaluation; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE evaluation (
    id bigint NOT NULL,
    titre character varying(128) NOT NULL,
    date_evaluation date NOT NULL,
    description character varying(1024),
    coefficient numeric NOT NULL,
    note_max_possible numeric,
    est_publiable boolean NOT NULL,
    version integer DEFAULT 0 NOT NULL,
    date_creation timestamp without time zone DEFAULT now() NOT NULL,
    ordre integer DEFAULT 0 NOT NULL,
    moyenne numeric,
    modalite_matiere_id bigint,
    enseignement_id bigint NOT NULL,
    cree_par_webservice boolean DEFAULT false NOT NULL
);


ALTER TABLE entnotes_2011_2012.evaluation OWNER TO eliot_scolarite;

--
-- TOC entry 421 (class 1259 OID 667271)
-- Dependencies: 3863 16
-- Name: info_calcul_moyennes_classe; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE info_calcul_moyennes_classe (
    id bigint NOT NULL,
    classe_id bigint NOT NULL,
    calcul_en_cours boolean DEFAULT false NOT NULL,
    date_debut_calcul timestamp without time zone,
    date_fin_calcul timestamp without time zone,
    version integer NOT NULL,
    date_verrou timestamp without time zone
);


ALTER TABLE entnotes_2011_2012.info_calcul_moyennes_classe OWNER TO eliot_scolarite;

--
-- TOC entry 422 (class 1259 OID 667275)
-- Dependencies: 3864 3865 16
-- Name: note; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE note (
    id bigint NOT NULL,
    valeur_numerique numeric,
    evaluation_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    version integer DEFAULT 0 NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_valeur_numerique_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (valeur_numerique IS NULL)))
);


ALTER TABLE entnotes_2011_2012.note OWNER TO eliot_scolarite;

--
-- TOC entry 423 (class 1259 OID 667283)
-- Dependencies: 16
-- Name: note_textuelle; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE note_textuelle (
    id bigint NOT NULL,
    code character varying(4) NOT NULL,
    libelle character varying(15) NOT NULL,
    etablissement_id bigint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.note_textuelle OWNER TO eliot_scolarite;

--
-- TOC entry 424 (class 1259 OID 667286)
-- Dependencies: 16
-- Name: rel_evaluation_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_evaluation_periode (
    evaluation_id bigint NOT NULL,
    periode_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.rel_evaluation_periode OWNER TO eliot_scolarite;

--
-- TOC entry 425 (class 1259 OID 667289)
-- Dependencies: 16
-- Name: resultat_classe_enseignement_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_enseignement_periode (
    id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    enseignement_id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.resultat_classe_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 426 (class 1259 OID 667295)
-- Dependencies: 16
-- Name: resultat_classe_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_periode (
    structure_enseignement_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.resultat_classe_periode OWNER TO eliot_scolarite;

--
-- TOC entry 427 (class 1259 OID 667301)
-- Dependencies: 16
-- Name: resultat_classe_service_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_service_periode (
    structure_enseignement_id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    moyenne_max numeric,
    moyenne_min numeric,
    id bigint NOT NULL
);


ALTER TABLE entnotes_2011_2012.resultat_classe_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 428 (class 1259 OID 667307)
-- Dependencies: 16
-- Name: resultat_classe_sous_service_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_classe_sous_service_periode (
    id bigint NOT NULL,
    moyenne numeric,
    resultat_classe_service_periode_id bigint NOT NULL,
    sous_service_id bigint NOT NULL,
    moyenne_max numeric,
    moyenne_min numeric
);


ALTER TABLE entnotes_2011_2012.resultat_classe_sous_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 429 (class 1259 OID 667313)
-- Dependencies: 3866 16
-- Name: resultat_eleve_enseignement_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_enseignement_periode (
    id bigint NOT NULL,
    periode_id bigint NOT NULL,
    eleve_id bigint NOT NULL,
    moyenne numeric,
    enseignement_id bigint NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes_2011_2012.resultat_eleve_enseignement_periode OWNER TO eliot_scolarite;

--
-- TOC entry 430 (class 1259 OID 667320)
-- Dependencies: 3867 16
-- Name: resultat_eleve_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_periode (
    autorite_eleve_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    id bigint NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes_2011_2012.resultat_eleve_periode OWNER TO eliot_scolarite;

--
-- TOC entry 431 (class 1259 OID 667327)
-- Dependencies: 3868 16
-- Name: resultat_eleve_service_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_service_periode (
    autorite_eleve_id bigint NOT NULL,
    service_id bigint NOT NULL,
    periode_id bigint NOT NULL,
    moyenne numeric,
    id bigint NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes_2011_2012.resultat_eleve_service_periode OWNER TO eliot_scolarite;

--
-- TOC entry 432 (class 1259 OID 667334)
-- Dependencies: 3869 16
-- Name: resultat_eleve_sous_service_periode; Type: TABLE; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE resultat_eleve_sous_service_periode (
    id bigint NOT NULL,
    moyenne numeric,
    resultat_eleve_service_periode_id bigint NOT NULL,
    sous_service_id bigint NOT NULL,
    note_textuelle_id bigint,
    CONSTRAINT chk_moyenne_or_note_textuelle CHECK (((note_textuelle_id IS NULL) OR (moyenne IS NULL)))
);


ALTER TABLE entnotes_2011_2012.resultat_eleve_sous_service_periode OWNER TO eliot_scolarite;

SET search_path = enttemps, pg_catalog;

--
-- TOC entry 433 (class 1259 OID 667341)
-- Dependencies: 17
-- Name: absence_journee; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE absence_journee (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    date date NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.absence_journee OWNER TO eliot_scolarite;

--
-- TOC entry 434 (class 1259 OID 667344)
-- Dependencies: 17
-- Name: absence_journee_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE absence_journee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.absence_journee_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5928 (class 0 OID 0)
-- Dependencies: 434
-- Name: absence_journee_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('absence_journee_id_seq', 1, false);


--
-- TOC entry 435 (class 1259 OID 667346)
-- Dependencies: 3870 17
-- Name: agenda; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE agenda (
    id bigint NOT NULL,
    item_id bigint NOT NULL,
    type_agenda_id bigint NOT NULL,
    structure_enseignement_id bigint,
    nom character varying(256) NOT NULL,
    description text,
    date_creation timestamp without time zone NOT NULL,
    date_modification timestamp without time zone NOT NULL,
    etablissement_id bigint,
    enseignant_id bigint,
    droits_incomplets boolean DEFAULT false,
    couleur character varying(8)
);


ALTER TABLE enttemps.agenda OWNER TO eliot_scolarite;

--
-- TOC entry 436 (class 1259 OID 667353)
-- Dependencies: 17
-- Name: agenda_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE agenda_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.agenda_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5929 (class 0 OID 0)
-- Dependencies: 436
-- Name: agenda_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('agenda_id_seq', 1, false);


--
-- TOC entry 437 (class 1259 OID 667355)
-- Dependencies: 3871 17
-- Name: appel; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel (
    id bigint NOT NULL,
    evenement_id bigint NOT NULL,
    appelant_id bigint,
    operateur_saisie_id bigint NOT NULL,
    date_saisie timestamp without time zone NOT NULL,
    valide boolean DEFAULT false,
    date_heure_debut timestamp without time zone NOT NULL,
    date_heure_fin timestamp without time zone NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.appel OWNER TO eliot_scolarite;

--
-- TOC entry 438 (class 1259 OID 667359)
-- Dependencies: 17
-- Name: appel_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE appel_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.appel_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5930 (class 0 OID 0)
-- Dependencies: 438
-- Name: appel_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('appel_id_seq', 1, false);


--
-- TOC entry 439 (class 1259 OID 667361)
-- Dependencies: 3872 3873 3874 3875 3876 3877 3878 3879 3880 3881 3882 3883 3884 17
-- Name: appel_ligne; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel_ligne (
    id bigint NOT NULL,
    appel_id bigint,
    autorite_id bigint NOT NULL,
    motif_id bigint NOT NULL,
    retard boolean DEFAULT false,
    presence boolean DEFAULT true,
    absence_justifiee boolean,
    heure_arrivee timestamp without time zone,
    depart_anticipe boolean DEFAULT false,
    heure_depart timestamp without time zone,
    absence_previsionnelle boolean DEFAULT false,
    commentaire_arrivee character varying(250),
    commentaire_depart character varying(250),
    heure_debut time without time zone,
    heure_fin time without time zone,
    sanction_id bigint,
    operateur_saisie_id bigint,
    date_saisie date,
    absence_journee_id bigint,
    demi_pension boolean DEFAULT false NOT NULL,
    internat boolean DEFAULT false NOT NULL,
    dispense boolean DEFAULT false NOT NULL,
    matiere_id bigint,
    CONSTRAINT chk_appel_ligne_depart_anticipe_heure_depart CHECK (((depart_anticipe = false) OR (heure_depart IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_heure_debut_heure_fin CHECK (((((appel_id IS NOT NULL) OR (demi_pension = true)) OR (internat = true)) OR ((heure_debut IS NOT NULL) AND (heure_fin IS NOT NULL)))),
    CONSTRAINT chk_appel_ligne_presence_retard_depart_anticipe CHECK (((presence = true) OR ((retard = false) AND (depart_anticipe = false)))),
    CONSTRAINT chk_appel_ligne_rattachement CHECK (((appel_id IS NOT NULL) OR (absence_journee_id IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_retard_heure_arrivee CHECK (((retard = false) OR (heure_arrivee IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_validite_retards_departs CHECK (((((retard = false) AND (depart_anticipe = false)) AND (presence = false)) OR ((absence_previsionnelle = false) AND (absence_justifiee = true))))
);


ALTER TABLE enttemps.appel_ligne OWNER TO eliot_scolarite;

--
-- TOC entry 440 (class 1259 OID 667379)
-- Dependencies: 17
-- Name: appel_ligne_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE appel_ligne_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.appel_ligne_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5931 (class 0 OID 0)
-- Dependencies: 440
-- Name: appel_ligne_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('appel_ligne_id_seq', 1, false);


--
-- TOC entry 441 (class 1259 OID 667381)
-- Dependencies: 17
-- Name: appel_plage_horaire; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel_plage_horaire (
    appel_id bigint NOT NULL,
    plage_horaire_id bigint NOT NULL
);


ALTER TABLE enttemps.appel_plage_horaire OWNER TO eliot_scolarite;

--
-- TOC entry 442 (class 1259 OID 667384)
-- Dependencies: 17
-- Name: date_exclue; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE date_exclue (
    id bigint NOT NULL,
    date_exclue date NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.date_exclue OWNER TO eliot_scolarite;

--
-- TOC entry 443 (class 1259 OID 667387)
-- Dependencies: 17
-- Name: date_exclue_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE date_exclue_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.date_exclue_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5932 (class 0 OID 0)
-- Dependencies: 443
-- Name: date_exclue_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('date_exclue_id_seq', 1, false);


--
-- TOC entry 444 (class 1259 OID 667389)
-- Dependencies: 17
-- Name: element_emploi_du_temps_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE element_emploi_du_temps_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.element_emploi_du_temps_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5933 (class 0 OID 0)
-- Dependencies: 444
-- Name: element_emploi_du_temps_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('element_emploi_du_temps_id_seq', 1, false);


--
-- TOC entry 445 (class 1259 OID 667391)
-- Dependencies: 3885 17
-- Name: evenement; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE evenement (
    id bigint NOT NULL,
    auteur_id bigint NOT NULL,
    objet character varying(1024) NOT NULL,
    lieu character varying(1024),
    description text,
    uid character varying(1024) NOT NULL,
    rappel character varying(32),
    confidentialite character varying(32),
    disponibilite character varying(32),
    date_heure_debut timestamp without time zone NOT NULL,
    date_heure_fin timestamp without time zone NOT NULL,
    date_creation timestamp without time zone NOT NULL,
    date_modification timestamp without time zone NOT NULL,
    frequence character varying,
    intervalle integer,
    date_debut_recurrence date,
    date_fin_recurrence date,
    occurence integer,
    agenda_maitre_id bigint NOT NULL,
    toute_la_journee boolean,
    critere character varying(10),
    type_id bigint NOT NULL,
    enseignement_id bigint,
    udt_evenement_ids character varying(1024),
    recurrence boolean DEFAULT false
);


ALTER TABLE enttemps.evenement OWNER TO eliot_scolarite;

--
-- TOC entry 446 (class 1259 OID 667398)
-- Dependencies: 17
-- Name: evenement_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE evenement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.evenement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5934 (class 0 OID 0)
-- Dependencies: 446
-- Name: evenement_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('evenement_id_seq', 1, false);


--
-- TOC entry 447 (class 1259 OID 667400)
-- Dependencies: 3886 3887 17
-- Name: groupe_motif; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE groupe_motif (
    id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL,
    libelle character varying(512) NOT NULL,
    modifiable boolean DEFAULT true,
    ordre integer DEFAULT (-1) NOT NULL
);


ALTER TABLE enttemps.groupe_motif OWNER TO eliot_scolarite;

--
-- TOC entry 448 (class 1259 OID 667408)
-- Dependencies: 17
-- Name: groupe_motif_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE groupe_motif_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.groupe_motif_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5935 (class 0 OID 0)
-- Dependencies: 448
-- Name: groupe_motif_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('groupe_motif_id_seq', 1, false);


--
-- TOC entry 449 (class 1259 OID 667410)
-- Dependencies: 17
-- Name: incident; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE incident (
    id bigint NOT NULL,
    date timestamp without time zone NOT NULL,
    type_id bigint NOT NULL,
    lieu_id bigint NOT NULL,
    description character varying(300),
    etablissement_id bigint NOT NULL,
    gravite smallint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.incident OWNER TO eliot_scolarite;

--
-- TOC entry 450 (class 1259 OID 667413)
-- Dependencies: 17
-- Name: incident_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.incident_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5936 (class 0 OID 0)
-- Dependencies: 450
-- Name: incident_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('incident_id_seq', 1, false);


--
-- TOC entry 451 (class 1259 OID 667415)
-- Dependencies: 17
-- Name: lieu_incident; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE lieu_incident (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.lieu_incident OWNER TO eliot_scolarite;

--
-- TOC entry 452 (class 1259 OID 667418)
-- Dependencies: 17
-- Name: lieu_incident_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE lieu_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.lieu_incident_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5937 (class 0 OID 0)
-- Dependencies: 452
-- Name: lieu_incident_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('lieu_incident_id_seq', 1, false);


--
-- TOC entry 453 (class 1259 OID 667420)
-- Dependencies: 3888 3889 3890 17
-- Name: motif; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE motif (
    id bigint NOT NULL,
    libelle character varying(512) NOT NULL,
    couleur character varying(32),
    groupe_motif_id bigint NOT NULL,
    modifiable boolean DEFAULT true,
    dispo_bulletin boolean DEFAULT true NOT NULL,
    dispo_stats boolean DEFAULT true NOT NULL
);


ALTER TABLE enttemps.motif OWNER TO eliot_scolarite;

--
-- TOC entry 454 (class 1259 OID 667429)
-- Dependencies: 17
-- Name: motif_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE motif_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.motif_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5938 (class 0 OID 0)
-- Dependencies: 454
-- Name: motif_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('motif_id_seq', 1, false);


--
-- TOC entry 455 (class 1259 OID 667431)
-- Dependencies: 17
-- Name: partenaire_a_prevenir; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE partenaire_a_prevenir (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.partenaire_a_prevenir OWNER TO eliot_scolarite;

--
-- TOC entry 456 (class 1259 OID 667434)
-- Dependencies: 17
-- Name: partenaire_a_prevenir_incident; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE partenaire_a_prevenir_incident (
    id bigint NOT NULL,
    incident_id bigint NOT NULL,
    partenaire_a_prevenir_id bigint NOT NULL
);


ALTER TABLE enttemps.partenaire_a_prevenir_incident OWNER TO eliot_scolarite;

--
-- TOC entry 457 (class 1259 OID 667437)
-- Dependencies: 17
-- Name: partenaire_a_prevenir_incident_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE partenaire_a_prevenir_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.partenaire_a_prevenir_incident_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5939 (class 0 OID 0)
-- Dependencies: 457
-- Name: partenaire_a_prevenir_incident_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('partenaire_a_prevenir_incident_id_seq', 1, false);


--
-- TOC entry 458 (class 1259 OID 667439)
-- Dependencies: 17
-- Name: partenaire_prevenir_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE partenaire_prevenir_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.partenaire_prevenir_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5940 (class 0 OID 0)
-- Dependencies: 458
-- Name: partenaire_prevenir_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('partenaire_prevenir_id_seq', 1, false);


--
-- TOC entry 459 (class 1259 OID 667441)
-- Dependencies: 3891 3892 3893 3894 3895 3896 3897 17
-- Name: plage_horaire; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE plage_horaire (
    id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL,
    debut time without time zone NOT NULL,
    fin time without time zone NOT NULL,
    matin boolean NOT NULL,
    version integer NOT NULL,
    lundi boolean DEFAULT true,
    mardi boolean DEFAULT true,
    mercredi boolean DEFAULT true,
    jeudi boolean DEFAULT true,
    vendredi boolean DEFAULT true,
    samedi boolean DEFAULT true,
    dimanche boolean DEFAULT false
);


ALTER TABLE enttemps.plage_horaire OWNER TO eliot_scolarite;

--
-- TOC entry 460 (class 1259 OID 667451)
-- Dependencies: 17
-- Name: plage_horaire_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE plage_horaire_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.plage_horaire_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5941 (class 0 OID 0)
-- Dependencies: 460
-- Name: plage_horaire_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('plage_horaire_id_seq', 1, false);


--
-- TOC entry 461 (class 1259 OID 667453)
-- Dependencies: 3898 3899 17
-- Name: preference_etablissement_absences; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_etablissement_absences (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    pas_decompte_absences_retards character varying(10),
    param_item_id bigint,
    version integer,
    autorise_saisie_hors_edt boolean NOT NULL,
    longueur_plage real,
    annee_scolaire_id bigint NOT NULL,
    taux_absences_calcul_mode character varying(24) DEFAULT 'NB_PLG_HOR_CAL_HEBDO'::character varying NOT NULL,
    affichage_edt boolean DEFAULT false NOT NULL
);


ALTER TABLE enttemps.preference_etablissement_absences OWNER TO eliot_scolarite;

--
-- TOC entry 462 (class 1259 OID 667458)
-- Dependencies: 17
-- Name: preference_etablissement_absences_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE preference_etablissement_absences_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.preference_etablissement_absences_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5942 (class 0 OID 0)
-- Dependencies: 462
-- Name: preference_etablissement_absences_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('preference_etablissement_absences_id_seq', 1, false);


--
-- TOC entry 463 (class 1259 OID 667460)
-- Dependencies: 17
-- Name: preference_utilisateur_agenda; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_utilisateur_agenda (
    id bigint NOT NULL,
    utilisateur_id bigint NOT NULL,
    agenda_id bigint NOT NULL,
    nom_personnalise character varying(128),
    couleur character varying(32),
    notification boolean NOT NULL
);


ALTER TABLE enttemps.preference_utilisateur_agenda OWNER TO eliot_scolarite;

--
-- TOC entry 464 (class 1259 OID 667463)
-- Dependencies: 17
-- Name: preference_utilisateur_agenda_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE preference_utilisateur_agenda_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.preference_utilisateur_agenda_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5943 (class 0 OID 0)
-- Dependencies: 464
-- Name: preference_utilisateur_agenda_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('preference_utilisateur_agenda_id_seq', 1, false);


--
-- TOC entry 465 (class 1259 OID 667465)
-- Dependencies: 17
-- Name: protagoniste_incident; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE protagoniste_incident (
    id bigint NOT NULL,
    incident_id bigint NOT NULL,
    autorite_id bigint NOT NULL,
    qualite_id bigint NOT NULL,
    type character varying(10) NOT NULL
);


ALTER TABLE enttemps.protagoniste_incident OWNER TO eliot_scolarite;

--
-- TOC entry 466 (class 1259 OID 667468)
-- Dependencies: 17
-- Name: protagoniste_incident_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE protagoniste_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.protagoniste_incident_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5944 (class 0 OID 0)
-- Dependencies: 466
-- Name: protagoniste_incident_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('protagoniste_incident_id_seq', 1, false);


--
-- TOC entry 467 (class 1259 OID 667470)
-- Dependencies: 17
-- Name: punition; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE punition (
    id bigint NOT NULL,
    date date NOT NULL,
    type_punition_id bigint NOT NULL,
    effectue boolean NOT NULL,
    description character varying(300),
    incident_id bigint,
    etablissement_id bigint NOT NULL,
    eleve_id bigint,
    censeur_id bigint,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.punition OWNER TO eliot_scolarite;

--
-- TOC entry 468 (class 1259 OID 667473)
-- Dependencies: 17
-- Name: punition_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE punition_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.punition_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5945 (class 0 OID 0)
-- Dependencies: 468
-- Name: punition_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('punition_id_seq', 1, false);


--
-- TOC entry 469 (class 1259 OID 667475)
-- Dependencies: 17
-- Name: qualite_protagoniste; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE qualite_protagoniste (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.qualite_protagoniste OWNER TO eliot_scolarite;

--
-- TOC entry 470 (class 1259 OID 667478)
-- Dependencies: 17
-- Name: qualite_protagoniste_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE qualite_protagoniste_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.qualite_protagoniste_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5946 (class 0 OID 0)
-- Dependencies: 470
-- Name: qualite_protagoniste_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('qualite_protagoniste_id_seq', 1, false);


--
-- TOC entry 471 (class 1259 OID 667480)
-- Dependencies: 17
-- Name: rel_agenda_evenement; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_agenda_evenement (
    evenement_id bigint NOT NULL,
    agenda_id bigint NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE enttemps.rel_agenda_evenement OWNER TO eliot_scolarite;

--
-- TOC entry 472 (class 1259 OID 667483)
-- Dependencies: 17
-- Name: rel_agenda_evenement_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE rel_agenda_evenement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.rel_agenda_evenement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5947 (class 0 OID 0)
-- Dependencies: 472
-- Name: rel_agenda_evenement_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('rel_agenda_evenement_id_seq', 1, false);


--
-- TOC entry 473 (class 1259 OID 667485)
-- Dependencies: 17
-- Name: repeter_jour_annee; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE repeter_jour_annee (
    id bigint NOT NULL,
    jour_annee integer NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.repeter_jour_annee OWNER TO eliot_scolarite;

--
-- TOC entry 474 (class 1259 OID 667488)
-- Dependencies: 17
-- Name: repeter_jour_annee_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE repeter_jour_annee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.repeter_jour_annee_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5948 (class 0 OID 0)
-- Dependencies: 474
-- Name: repeter_jour_annee_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('repeter_jour_annee_id_seq', 1, false);


--
-- TOC entry 475 (class 1259 OID 667490)
-- Dependencies: 17
-- Name: repeter_jour_mois; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE repeter_jour_mois (
    id bigint NOT NULL,
    jour_mois integer NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.repeter_jour_mois OWNER TO eliot_scolarite;

--
-- TOC entry 476 (class 1259 OID 667493)
-- Dependencies: 17
-- Name: repeter_jour_mois_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE repeter_jour_mois_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.repeter_jour_mois_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5949 (class 0 OID 0)
-- Dependencies: 476
-- Name: repeter_jour_mois_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('repeter_jour_mois_id_seq', 1, false);


--
-- TOC entry 477 (class 1259 OID 667495)
-- Dependencies: 17
-- Name: repeter_jour_semaine; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE repeter_jour_semaine (
    id bigint NOT NULL,
    jour integer NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.repeter_jour_semaine OWNER TO eliot_scolarite;

--
-- TOC entry 478 (class 1259 OID 667498)
-- Dependencies: 17
-- Name: repeter_jour_semaine_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE repeter_jour_semaine_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.repeter_jour_semaine_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5950 (class 0 OID 0)
-- Dependencies: 478
-- Name: repeter_jour_semaine_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('repeter_jour_semaine_id_seq', 1, false);


--
-- TOC entry 479 (class 1259 OID 667500)
-- Dependencies: 17
-- Name: repeter_mois; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE repeter_mois (
    id bigint NOT NULL,
    mois integer NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.repeter_mois OWNER TO eliot_scolarite;

--
-- TOC entry 480 (class 1259 OID 667503)
-- Dependencies: 17
-- Name: repeter_mois_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE repeter_mois_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.repeter_mois_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5951 (class 0 OID 0)
-- Dependencies: 480
-- Name: repeter_mois_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('repeter_mois_id_seq', 1, false);


--
-- TOC entry 481 (class 1259 OID 667505)
-- Dependencies: 17
-- Name: repeter_semaine_annee; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE repeter_semaine_annee (
    id bigint NOT NULL,
    semaine_annee integer NOT NULL,
    evenement_id bigint NOT NULL
);


ALTER TABLE enttemps.repeter_semaine_annee OWNER TO eliot_scolarite;

--
-- TOC entry 482 (class 1259 OID 667508)
-- Dependencies: 17
-- Name: repeter_semaine_annee_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE repeter_semaine_annee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.repeter_semaine_annee_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5952 (class 0 OID 0)
-- Dependencies: 482
-- Name: repeter_semaine_annee_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('repeter_semaine_annee_id_seq', 1, false);


--
-- TOC entry 483 (class 1259 OID 667510)
-- Dependencies: 17
-- Name: sanction; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sanction (
    id bigint NOT NULL,
    date date NOT NULL,
    type_sanction_id bigint NOT NULL,
    effectue boolean NOT NULL,
    eleve_id bigint NOT NULL,
    censeur_id bigint NOT NULL,
    description character varying(300),
    incident_id bigint,
    absence_liee boolean,
    debut_absence timestamp without time zone,
    fin_absence timestamp without time zone,
    motif_id bigint,
    etablissement_id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.sanction OWNER TO eliot_scolarite;

--
-- TOC entry 484 (class 1259 OID 667513)
-- Dependencies: 17
-- Name: sanction_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE sanction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.sanction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5953 (class 0 OID 0)
-- Dependencies: 484
-- Name: sanction_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sanction_id_seq', 1, false);


--
-- TOC entry 485 (class 1259 OID 667515)
-- Dependencies: 17
-- Name: type_agenda; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_agenda (
    id bigint NOT NULL,
    code character varying(30) NOT NULL,
    libelle character varying(255)
);


ALTER TABLE enttemps.type_agenda OWNER TO eliot_scolarite;

--
-- TOC entry 486 (class 1259 OID 667518)
-- Dependencies: 17
-- Name: type_agenda_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE type_agenda_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.type_agenda_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5954 (class 0 OID 0)
-- Dependencies: 486
-- Name: type_agenda_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_agenda_id_seq', 4, true);


--
-- TOC entry 487 (class 1259 OID 667520)
-- Dependencies: 17
-- Name: type_evenement; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_evenement (
    id bigint NOT NULL,
    type character varying(30) NOT NULL
);


ALTER TABLE enttemps.type_evenement OWNER TO eliot_scolarite;

--
-- TOC entry 488 (class 1259 OID 667523)
-- Dependencies: 17
-- Name: type_evenement_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE type_evenement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.type_evenement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5955 (class 0 OID 0)
-- Dependencies: 488
-- Name: type_evenement_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_evenement_id_seq', 7, true);


--
-- TOC entry 489 (class 1259 OID 667525)
-- Dependencies: 17
-- Name: type_incident; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_incident (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.type_incident OWNER TO eliot_scolarite;

--
-- TOC entry 490 (class 1259 OID 667528)
-- Dependencies: 17
-- Name: type_incident_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE type_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.type_incident_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5956 (class 0 OID 0)
-- Dependencies: 490
-- Name: type_incident_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_incident_id_seq', 1, false);


--
-- TOC entry 491 (class 1259 OID 667530)
-- Dependencies: 17
-- Name: type_punition; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_punition (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.type_punition OWNER TO eliot_scolarite;

--
-- TOC entry 492 (class 1259 OID 667533)
-- Dependencies: 17
-- Name: type_punition_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE type_punition_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.type_punition_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5957 (class 0 OID 0)
-- Dependencies: 492
-- Name: type_punition_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_punition_id_seq', 1, false);


--
-- TOC entry 493 (class 1259 OID 667535)
-- Dependencies: 17
-- Name: type_sanction; Type: TABLE; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_sanction (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps.type_sanction OWNER TO eliot_scolarite;

--
-- TOC entry 494 (class 1259 OID 667538)
-- Dependencies: 17
-- Name: type_sanction_id_seq; Type: SEQUENCE; Schema: enttemps; Owner: eliot_scolarite
--

CREATE SEQUENCE type_sanction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE enttemps.type_sanction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5958 (class 0 OID 0)
-- Dependencies: 494
-- Name: type_sanction_id_seq; Type: SEQUENCE SET; Schema: enttemps; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('type_sanction_id_seq', 1, false);


SET search_path = enttemps_2011_2012, pg_catalog;

--
-- TOC entry 495 (class 1259 OID 667540)
-- Dependencies: 18
-- Name: absence_journee; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE absence_journee (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    date date NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.absence_journee OWNER TO eliot_scolarite;

--
-- TOC entry 496 (class 1259 OID 667543)
-- Dependencies: 3900 18
-- Name: agenda; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE agenda (
    id bigint NOT NULL,
    item_id bigint NOT NULL,
    type_agenda_id bigint NOT NULL,
    structure_enseignement_id bigint,
    nom character varying(256) NOT NULL,
    description text,
    date_creation timestamp without time zone NOT NULL,
    date_modification timestamp without time zone NOT NULL,
    etablissement_id bigint,
    enseignant_id bigint,
    droits_incomplets boolean DEFAULT false,
    couleur character varying(8)
);


ALTER TABLE enttemps_2011_2012.agenda OWNER TO eliot_scolarite;

--
-- TOC entry 497 (class 1259 OID 667550)
-- Dependencies: 3901 18
-- Name: appel; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel (
    id bigint NOT NULL,
    evenement_id bigint NOT NULL,
    appelant_id bigint,
    operateur_saisie_id bigint NOT NULL,
    date_saisie timestamp without time zone NOT NULL,
    valide boolean DEFAULT false,
    date_heure_debut timestamp without time zone NOT NULL,
    date_heure_fin timestamp without time zone NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.appel OWNER TO eliot_scolarite;

--
-- TOC entry 498 (class 1259 OID 667554)
-- Dependencies: 3902 3903 3904 3905 3906 3907 3908 3909 3910 3911 3912 3913 18
-- Name: appel_ligne; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel_ligne (
    id bigint NOT NULL,
    appel_id bigint,
    autorite_id bigint NOT NULL,
    motif_id bigint NOT NULL,
    retard boolean DEFAULT false,
    presence boolean DEFAULT true,
    absence_justifiee boolean,
    heure_arrivee timestamp without time zone,
    depart_anticipe boolean DEFAULT false,
    heure_depart timestamp without time zone,
    absence_previsionnelle boolean DEFAULT false,
    commentaire_arrivee character varying(250),
    commentaire_depart character varying(250),
    heure_debut time without time zone,
    heure_fin time without time zone,
    sanction_id bigint,
    operateur_saisie_id bigint,
    date_saisie date,
    absence_journee_id bigint,
    demi_pension boolean DEFAULT false NOT NULL,
    internat boolean DEFAULT false NOT NULL,
    CONSTRAINT chk_appel_ligne_depart_anticipe_heure_depart CHECK (((depart_anticipe = false) OR (heure_depart IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_heure_debut_heure_fin CHECK (((((appel_id IS NOT NULL) OR (demi_pension = true)) OR (internat = true)) OR ((heure_debut IS NOT NULL) AND (heure_fin IS NOT NULL)))),
    CONSTRAINT chk_appel_ligne_presence_retard_depart_anticipe CHECK (((presence = true) OR ((retard = false) AND (depart_anticipe = false)))),
    CONSTRAINT chk_appel_ligne_rattachement CHECK (((appel_id IS NOT NULL) OR (absence_journee_id IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_retard_heure_arrivee CHECK (((retard = false) OR (heure_arrivee IS NOT NULL))),
    CONSTRAINT chk_appel_ligne_validite_retards_departs CHECK (((((retard = false) AND (depart_anticipe = false)) AND (presence = false)) OR ((absence_previsionnelle = false) AND (absence_justifiee = true))))
);


ALTER TABLE enttemps_2011_2012.appel_ligne OWNER TO eliot_scolarite;

--
-- TOC entry 499 (class 1259 OID 667572)
-- Dependencies: 18
-- Name: appel_plage_horaire; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE appel_plage_horaire (
    appel_id bigint NOT NULL,
    plage_horaire_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.appel_plage_horaire OWNER TO eliot_scolarite;

--
-- TOC entry 500 (class 1259 OID 667575)
-- Dependencies: 18
-- Name: calendrier; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE calendrier (
    id bigint NOT NULL,
    jour_semaine_ferie smallint NOT NULL,
    version integer NOT NULL,
    annee_scolaire_id bigint NOT NULL,
    premier_jour date NOT NULL,
    dernier_jour date NOT NULL,
    etablissement_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.calendrier OWNER TO eliot_scolarite;

--
-- TOC entry 501 (class 1259 OID 667578)
-- Dependencies: 18
-- Name: evenement; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE evenement (
    id bigint NOT NULL,
    auteur_id bigint NOT NULL,
    objet character varying(1024) NOT NULL,
    lieu character varying(1024),
    description text,
    uid character varying(1024) NOT NULL,
    rappel character varying(32),
    confidentialite character varying(32),
    disponibilite character varying(32),
    date_heure_debut timestamp without time zone NOT NULL,
    date_heure_fin timestamp without time zone NOT NULL,
    date_creation timestamp without time zone NOT NULL,
    date_modification timestamp without time zone NOT NULL,
    recurrence boolean,
    frequence character varying,
    intervalle integer,
    date_debut_recurrence date,
    date_fin_recurrence date,
    occurence integer,
    agenda_maitre_id bigint NOT NULL,
    toute_la_journee boolean,
    critere character varying(10),
    type_id bigint NOT NULL,
    enseignement_id bigint,
    udt_evenement_ids character varying(1024)
);


ALTER TABLE enttemps_2011_2012.evenement OWNER TO eliot_scolarite;

--
-- TOC entry 502 (class 1259 OID 667584)
-- Dependencies: 3914 3915 18
-- Name: groupe_motif; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE groupe_motif (
    id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL,
    libelle character varying(512) NOT NULL,
    modifiable boolean DEFAULT true,
    ordre integer DEFAULT (-1) NOT NULL
);


ALTER TABLE enttemps_2011_2012.groupe_motif OWNER TO eliot_scolarite;

--
-- TOC entry 503 (class 1259 OID 667592)
-- Dependencies: 18
-- Name: incident; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE incident (
    id bigint NOT NULL,
    date timestamp without time zone NOT NULL,
    type_id bigint NOT NULL,
    lieu_id bigint NOT NULL,
    description character varying(300),
    etablissement_id bigint NOT NULL,
    gravite smallint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.incident OWNER TO eliot_scolarite;

--
-- TOC entry 504 (class 1259 OID 667595)
-- Dependencies: 18
-- Name: lieu_incident; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE lieu_incident (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.lieu_incident OWNER TO eliot_scolarite;

--
-- TOC entry 505 (class 1259 OID 667598)
-- Dependencies: 3916 3917 3918 18
-- Name: motif; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE motif (
    id bigint NOT NULL,
    libelle character varying(512) NOT NULL,
    couleur character varying(32),
    groupe_motif_id bigint NOT NULL,
    modifiable boolean DEFAULT true,
    dispo_bulletin boolean DEFAULT true NOT NULL,
    dispo_stats boolean DEFAULT true NOT NULL
);


ALTER TABLE enttemps_2011_2012.motif OWNER TO eliot_scolarite;

--
-- TOC entry 506 (class 1259 OID 667607)
-- Dependencies: 18
-- Name: partenaire_a_prevenir; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE partenaire_a_prevenir (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.partenaire_a_prevenir OWNER TO eliot_scolarite;

--
-- TOC entry 507 (class 1259 OID 667610)
-- Dependencies: 18
-- Name: partenaire_a_prevenir_incident; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE partenaire_a_prevenir_incident (
    id bigint NOT NULL,
    incident_id bigint NOT NULL,
    partenaire_a_prevenir_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.partenaire_a_prevenir_incident OWNER TO eliot_scolarite;

--
-- TOC entry 508 (class 1259 OID 667613)
-- Dependencies: 3919 3920 3921 3922 3923 3924 3925 18
-- Name: plage_horaire; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE plage_horaire (
    id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL,
    debut time without time zone NOT NULL,
    fin time without time zone NOT NULL,
    matin boolean NOT NULL,
    version integer NOT NULL,
    lundi boolean DEFAULT true,
    mardi boolean DEFAULT true,
    mercredi boolean DEFAULT true,
    jeudi boolean DEFAULT true,
    vendredi boolean DEFAULT true,
    samedi boolean DEFAULT true,
    dimanche boolean DEFAULT false
);


ALTER TABLE enttemps_2011_2012.plage_horaire OWNER TO eliot_scolarite;

--
-- TOC entry 509 (class 1259 OID 667623)
-- Dependencies: 18
-- Name: preference_etablissement_absences; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_etablissement_absences (
    id bigint NOT NULL,
    etablissement_id bigint,
    pas_decompte_absences_retards character varying(10),
    param_item_id bigint,
    version integer,
    autorise_saisie_hors_edt boolean NOT NULL,
    longueur_plage real,
    annee_scolaire_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.preference_etablissement_absences OWNER TO eliot_scolarite;

--
-- TOC entry 510 (class 1259 OID 667626)
-- Dependencies: 18
-- Name: protagoniste_incident; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE protagoniste_incident (
    id bigint NOT NULL,
    incident_id bigint NOT NULL,
    autorite_id bigint NOT NULL,
    qualite_id bigint NOT NULL,
    type character varying(10) NOT NULL
);


ALTER TABLE enttemps_2011_2012.protagoniste_incident OWNER TO eliot_scolarite;

--
-- TOC entry 511 (class 1259 OID 667629)
-- Dependencies: 18
-- Name: punition; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE punition (
    id bigint NOT NULL,
    date date NOT NULL,
    type_punition_id bigint NOT NULL,
    effectue boolean NOT NULL,
    description character varying(300),
    incident_id bigint,
    etablissement_id bigint NOT NULL,
    eleve_id bigint,
    censeur_id bigint,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.punition OWNER TO eliot_scolarite;

--
-- TOC entry 512 (class 1259 OID 667632)
-- Dependencies: 18
-- Name: qualite_protagoniste; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE qualite_protagoniste (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.qualite_protagoniste OWNER TO eliot_scolarite;

--
-- TOC entry 513 (class 1259 OID 667635)
-- Dependencies: 18
-- Name: rel_agenda_evenement; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE rel_agenda_evenement (
    evenement_id bigint NOT NULL,
    agenda_id bigint NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.rel_agenda_evenement OWNER TO eliot_scolarite;

--
-- TOC entry 514 (class 1259 OID 667638)
-- Dependencies: 18
-- Name: sanction; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sanction (
    id bigint NOT NULL,
    date date NOT NULL,
    type_sanction_id bigint NOT NULL,
    effectue boolean NOT NULL,
    eleve_id bigint NOT NULL,
    censeur_id bigint NOT NULL,
    description character varying(300),
    incident_id bigint,
    absence_liee boolean,
    debut_absence timestamp without time zone,
    fin_absence timestamp without time zone,
    motif_id bigint,
    etablissement_id bigint NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.sanction OWNER TO eliot_scolarite;

--
-- TOC entry 515 (class 1259 OID 667641)
-- Dependencies: 18
-- Name: type_incident; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_incident (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.type_incident OWNER TO eliot_scolarite;

--
-- TOC entry 516 (class 1259 OID 667644)
-- Dependencies: 18
-- Name: type_punition; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_punition (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.type_punition OWNER TO eliot_scolarite;

--
-- TOC entry 517 (class 1259 OID 667647)
-- Dependencies: 18
-- Name: type_sanction; Type: TABLE; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_sanction (
    id bigint NOT NULL,
    libelle character varying(30) NOT NULL,
    preference_etablissement_absences_id bigint NOT NULL
);


ALTER TABLE enttemps_2011_2012.type_sanction OWNER TO eliot_scolarite;

SET search_path = forum, pg_catalog;

--
-- TOC entry 518 (class 1259 OID 667650)
-- Dependencies: 19
-- Name: commentaire; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE commentaire (
    id bigint NOT NULL,
    version integer NOT NULL,
    discussion_id bigint NOT NULL,
    autorite_id bigint NOT NULL,
    contenu text NOT NULL,
    date_creation timestamp without time zone NOT NULL,
    code_etat_commentaire character varying(10) NOT NULL,
    libelle_auteur character varying(512)
);


ALTER TABLE forum.commentaire OWNER TO eliot_scolarite;

--
-- TOC entry 519 (class 1259 OID 667656)
-- Dependencies: 518 19
-- Name: commentaire_id_seq; Type: SEQUENCE; Schema: forum; Owner: eliot_scolarite
--

CREATE SEQUENCE commentaire_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE forum.commentaire_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5959 (class 0 OID 0)
-- Dependencies: 519
-- Name: commentaire_id_seq; Type: SEQUENCE OWNED BY; Schema: forum; Owner: eliot_scolarite
--

ALTER SEQUENCE commentaire_id_seq OWNED BY commentaire.id;


--
-- TOC entry 5960 (class 0 OID 0)
-- Dependencies: 519
-- Name: commentaire_id_seq; Type: SEQUENCE SET; Schema: forum; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('commentaire_id_seq', 1, false);


--
-- TOC entry 520 (class 1259 OID 667658)
-- Dependencies: 19
-- Name: commentaire_lu; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE commentaire_lu (
    commentaire_id bigint NOT NULL,
    version integer NOT NULL,
    autorite_id bigint NOT NULL,
    date_lecture timestamp without time zone
);


ALTER TABLE forum.commentaire_lu OWNER TO eliot_scolarite;

--
-- TOC entry 521 (class 1259 OID 667661)
-- Dependencies: 19
-- Name: discussion; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE discussion (
    id bigint NOT NULL,
    version integer NOT NULL,
    autorite_id bigint NOT NULL,
    code_etat_discussion character varying(10) NOT NULL,
    code_type_moderation character varying(10) NOT NULL,
    libelle character varying(200) NOT NULL,
    date_creation timestamp without time zone NOT NULL,
    item_cible_id bigint NOT NULL
);


ALTER TABLE forum.discussion OWNER TO eliot_scolarite;

--
-- TOC entry 522 (class 1259 OID 667664)
-- Dependencies: 521 19
-- Name: discussion_id_seq; Type: SEQUENCE; Schema: forum; Owner: eliot_scolarite
--

CREATE SEQUENCE discussion_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE forum.discussion_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5961 (class 0 OID 0)
-- Dependencies: 522
-- Name: discussion_id_seq; Type: SEQUENCE OWNED BY; Schema: forum; Owner: eliot_scolarite
--

ALTER SEQUENCE discussion_id_seq OWNED BY discussion.id;


--
-- TOC entry 5962 (class 0 OID 0)
-- Dependencies: 522
-- Name: discussion_id_seq; Type: SEQUENCE SET; Schema: forum; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('discussion_id_seq', 1, false);


--
-- TOC entry 523 (class 1259 OID 667666)
-- Dependencies: 19
-- Name: etat_commentaire; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etat_commentaire (
    code character varying(10) NOT NULL,
    version integer NOT NULL,
    libelle character varying(60) NOT NULL
);


ALTER TABLE forum.etat_commentaire OWNER TO eliot_scolarite;

--
-- TOC entry 524 (class 1259 OID 667669)
-- Dependencies: 19
-- Name: etat_discussion; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE etat_discussion (
    code character varying(10) NOT NULL,
    version integer NOT NULL,
    libelle character varying(60) NOT NULL
);


ALTER TABLE forum.etat_discussion OWNER TO eliot_scolarite;

--
-- TOC entry 525 (class 1259 OID 667672)
-- Dependencies: 19
-- Name: type_moderation; Type: TABLE; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE type_moderation (
    code character varying(10) NOT NULL,
    version integer NOT NULL,
    libelle character varying(60) NOT NULL
);


ALTER TABLE forum.type_moderation OWNER TO eliot_scolarite;

SET search_path = impression, pg_catalog;

--
-- TOC entry 611 (class 1259 OID 671723)
-- Dependencies: 3973 3974 20
-- Name: bulletin_options; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE bulletin_options (
    id bigint NOT NULL,
    template_document_id bigint NOT NULL,
    moyenne_generale boolean NOT NULL,
    coefficient boolean NOT NULL,
    moyenne_precedente boolean NOT NULL,
    moyenne_min_max boolean NOT NULL,
    nombre_notes boolean NOT NULL,
    rangs boolean NOT NULL,
    classe_id integer,
    portee character varying(50),
    CONSTRAINT chk_bulletin_options_classe_id_portee CHECK ((((classe_id IS NULL) AND (portee IS NULL)) OR ((classe_id IS NOT NULL) AND (portee IS NOT NULL)))),
    CONSTRAINT chk_bulletin_options_portee CHECK ((((portee)::text = 'CONSULTATION'::text) OR ((portee)::text = 'CONSEIL_DE_CLASSE'::text)))
);


ALTER TABLE impression.bulletin_options OWNER TO eliot_scolarite;

--
-- TOC entry 612 (class 1259 OID 671728)
-- Dependencies: 20
-- Name: bulletin_options_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE bulletin_options_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.bulletin_options_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5963 (class 0 OID 0)
-- Dependencies: 612
-- Name: bulletin_options_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('bulletin_options_id_seq', 6, true);


--
-- TOC entry 526 (class 1259 OID 667675)
-- Dependencies: 20
-- Name: publipostage_suivi; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE publipostage_suivi (
    id bigint NOT NULL,
    media smallint,
    periode character varying(256),
    accuse_reception boolean,
    accuse_envoi boolean,
    classe_id bigint,
    personne_id bigint,
    operateur_id bigint,
    template_document_id bigint,
    date_envoi timestamp without time zone,
    version integer NOT NULL,
    type_fonctionnalite_id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    responsable_id bigint,
    sms_fournisseur_etablissement_id bigint,
    message_id_externe character varying(256),
    erreur smallint NOT NULL,
    statut character varying(30)
);


ALTER TABLE impression.publipostage_suivi OWNER TO eliot_scolarite;

--
-- TOC entry 527 (class 1259 OID 667681)
-- Dependencies: 20
-- Name: publipostage_suivi_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE publipostage_suivi_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.publipostage_suivi_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5964 (class 0 OID 0)
-- Dependencies: 527
-- Name: publipostage_suivi_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('publipostage_suivi_id_seq', 1, false);


--
-- TOC entry 528 (class 1259 OID 667683)
-- Dependencies: 20
-- Name: sms_fournisseur; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sms_fournisseur (
    id bigint NOT NULL,
    nom character varying(30),
    url_envoi_http character varying(256),
    url_envoi_https character varying(256),
    url_suivi_http character varying(256)
);


ALTER TABLE impression.sms_fournisseur OWNER TO eliot_scolarite;

--
-- TOC entry 529 (class 1259 OID 667689)
-- Dependencies: 20
-- Name: sms_fournisseur_etablissement; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sms_fournisseur_etablissement (
    id bigint NOT NULL,
    sms_fournisseur_id bigint,
    sms_login character varying(50),
    sms_mot_de_passe character varying(50),
    sms_identifiants_codes boolean,
    sms_https_envoi boolean,
    etablissement_id bigint NOT NULL,
    actif boolean
);


ALTER TABLE impression.sms_fournisseur_etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 530 (class 1259 OID 667692)
-- Dependencies: 20
-- Name: sms_fournisseur_etablissement_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE sms_fournisseur_etablissement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.sms_fournisseur_etablissement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5965 (class 0 OID 0)
-- Dependencies: 530
-- Name: sms_fournisseur_etablissement_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sms_fournisseur_etablissement_id_seq', 1, false);


--
-- TOC entry 531 (class 1259 OID 667694)
-- Dependencies: 20
-- Name: sms_fournisseur_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE sms_fournisseur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.sms_fournisseur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5966 (class 0 OID 0)
-- Dependencies: 531
-- Name: sms_fournisseur_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sms_fournisseur_id_seq', 1, false);


--
-- TOC entry 532 (class 1259 OID 667696)
-- Dependencies: 20
-- Name: template_champ_memo; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_champ_memo (
    id bigint NOT NULL,
    champ character varying(256) NOT NULL,
    template text,
    template_document_id bigint,
    size integer
);


ALTER TABLE impression.template_champ_memo OWNER TO eliot_scolarite;

--
-- TOC entry 533 (class 1259 OID 667702)
-- Dependencies: 20
-- Name: template_champ_memo_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_champ_memo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_champ_memo_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5967 (class 0 OID 0)
-- Dependencies: 533
-- Name: template_champ_memo_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_champ_memo_id_seq', 1, false);


--
-- TOC entry 534 (class 1259 OID 667704)
-- Dependencies: 3928 3929 3930 20
-- Name: template_document; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_document (
    id bigint NOT NULL,
    nom character varying(256) NOT NULL,
    descriptif text,
    media smallint,
    template_eliot_id bigint,
    etablissement_id bigint,
    code character varying(32),
    systeme boolean DEFAULT false NOT NULL,
    numero_version integer DEFAULT 0 NOT NULL,
    actif boolean DEFAULT true NOT NULL,
    police character varying(40),
    id_cachet character varying(40)
);


ALTER TABLE impression.template_document OWNER TO eliot_scolarite;

--
-- TOC entry 535 (class 1259 OID 667713)
-- Dependencies: 20
-- Name: template_document_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_document_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_document_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5968 (class 0 OID 0)
-- Dependencies: 535
-- Name: template_document_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_document_id_seq', 1, true);


--
-- TOC entry 536 (class 1259 OID 667715)
-- Dependencies: 20
-- Name: template_document_sous_template_eliot; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_document_sous_template_eliot (
    id bigint NOT NULL,
    param character varying(256),
    template_document_id bigint,
    template_eliot_id bigint
);


ALTER TABLE impression.template_document_sous_template_eliot OWNER TO eliot_scolarite;

--
-- TOC entry 537 (class 1259 OID 667718)
-- Dependencies: 20
-- Name: template_document_sous_template_eliot_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_document_sous_template_eliot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_document_sous_template_eliot_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5969 (class 0 OID 0)
-- Dependencies: 537
-- Name: template_document_sous_template_eliot_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_document_sous_template_eliot_id_seq', 1, false);


--
-- TOC entry 538 (class 1259 OID 667720)
-- Dependencies: 3931 3932 3933 3934 3935 3936 20
-- Name: template_eliot; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_eliot (
    id bigint NOT NULL,
    nom character varying(256) NOT NULL,
    descriptif text,
    sous_rapport boolean,
    template_jasper_id bigint,
    type_donnees_id bigint,
    type_fonctionnalite_id bigint,
    code character varying(32) NOT NULL,
    numero_version integer NOT NULL,
    info_absences boolean DEFAULT false NOT NULL,
    info_retards boolean DEFAULT false NOT NULL,
    info_releve_notes boolean DEFAULT false NOT NULL,
    info_bulletin_notes boolean DEFAULT false NOT NULL,
    info_detail_absences boolean DEFAULT false NOT NULL,
    info_detail_retards boolean DEFAULT false NOT NULL
);


ALTER TABLE impression.template_eliot OWNER TO eliot_scolarite;

--
-- TOC entry 539 (class 1259 OID 667732)
-- Dependencies: 20
-- Name: template_eliot_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_eliot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_eliot_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5970 (class 0 OID 0)
-- Dependencies: 539
-- Name: template_eliot_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_eliot_id_seq', 1, false);


--
-- TOC entry 540 (class 1259 OID 667734)
-- Dependencies: 20
-- Name: template_jasper; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_jasper (
    id bigint NOT NULL,
    jrxml text NOT NULL,
    sous_template_id bigint,
    jasper bytea,
    param character varying(256),
    template_dynamique_factory_classe character varying(255)
);


ALTER TABLE impression.template_jasper OWNER TO eliot_scolarite;

--
-- TOC entry 541 (class 1259 OID 667740)
-- Dependencies: 20
-- Name: template_jasper_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_jasper_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_jasper_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5971 (class 0 OID 0)
-- Dependencies: 541
-- Name: template_jasper_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_jasper_id_seq', 1, false);


--
-- TOC entry 542 (class 1259 OID 667742)
-- Dependencies: 20
-- Name: template_type_donnees; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_type_donnees (
    id bigint NOT NULL,
    libelle character varying(256) NOT NULL,
    code character varying(32) NOT NULL
);


ALTER TABLE impression.template_type_donnees OWNER TO eliot_scolarite;

--
-- TOC entry 543 (class 1259 OID 667745)
-- Dependencies: 20
-- Name: template_type_donnees_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_type_donnees_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_type_donnees_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5972 (class 0 OID 0)
-- Dependencies: 543
-- Name: template_type_donnees_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_type_donnees_id_seq', 8, true);


--
-- TOC entry 544 (class 1259 OID 667747)
-- Dependencies: 20
-- Name: template_type_fonctionnalite; Type: TABLE; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE template_type_fonctionnalite (
    id bigint NOT NULL,
    libelle character varying(256) NOT NULL,
    parent_id bigint,
    code character varying(32) NOT NULL
);


ALTER TABLE impression.template_type_fonctionnalite OWNER TO eliot_scolarite;

--
-- TOC entry 545 (class 1259 OID 667750)
-- Dependencies: 20
-- Name: template_type_fonctionnalite_id_seq; Type: SEQUENCE; Schema: impression; Owner: eliot_scolarite
--

CREATE SEQUENCE template_type_fonctionnalite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE impression.template_type_fonctionnalite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5973 (class 0 OID 0)
-- Dependencies: 545
-- Name: template_type_fonctionnalite_id_seq; Type: SEQUENCE SET; Schema: impression; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('template_type_fonctionnalite_id_seq', 12, true);


SET search_path = notification, pg_catalog;

--
-- TOC entry 546 (class 1259 OID 667752)
-- Dependencies: 21
-- Name: droit_fonction; Type: TABLE; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE droit_fonction (
    id bigint NOT NULL,
    fonction_id bigint NOT NULL,
    notification_type_id bigint NOT NULL
);


ALTER TABLE notification.droit_fonction OWNER TO eliot_scolarite;

--
-- TOC entry 547 (class 1259 OID 667755)
-- Dependencies: 21
-- Name: droit_fonction_id_seq; Type: SEQUENCE; Schema: notification; Owner: eliot_scolarite
--

CREATE SEQUENCE droit_fonction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE notification.droit_fonction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5974 (class 0 OID 0)
-- Dependencies: 547
-- Name: droit_fonction_id_seq; Type: SEQUENCE SET; Schema: notification; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('droit_fonction_id_seq', 15, true);


--
-- TOC entry 548 (class 1259 OID 667757)
-- Dependencies: 21
-- Name: email_notification; Type: TABLE; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE email_notification (
    id bigint NOT NULL,
    email character varying(320) NOT NULL,
    autorite_id bigint NOT NULL
);


ALTER TABLE notification.email_notification OWNER TO eliot_scolarite;

--
-- TOC entry 549 (class 1259 OID 667760)
-- Dependencies: 21
-- Name: email_notification_id_seq; Type: SEQUENCE; Schema: notification; Owner: eliot_scolarite
--

CREATE SEQUENCE email_notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE notification.email_notification_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5975 (class 0 OID 0)
-- Dependencies: 549
-- Name: email_notification_id_seq; Type: SEQUENCE SET; Schema: notification; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('email_notification_id_seq', 1, false);


--
-- TOC entry 550 (class 1259 OID 667762)
-- Dependencies: 21
-- Name: notification_type; Type: TABLE; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE notification_type (
    id bigint NOT NULL,
    code character varying(48) NOT NULL,
    libelle character varying(255) NOT NULL
);


ALTER TABLE notification.notification_type OWNER TO eliot_scolarite;

--
-- TOC entry 551 (class 1259 OID 667765)
-- Dependencies: 21
-- Name: notification_type_id_seq; Type: SEQUENCE; Schema: notification; Owner: eliot_scolarite
--

CREATE SEQUENCE notification_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE notification.notification_type_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5976 (class 0 OID 0)
-- Dependencies: 551
-- Name: notification_type_id_seq; Type: SEQUENCE SET; Schema: notification; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('notification_type_id_seq', 1, false);


--
-- TOC entry 552 (class 1259 OID 667767)
-- Dependencies: 3937 3938 21
-- Name: parametrage_etablissement; Type: TABLE; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE parametrage_etablissement (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    notification_type_id bigint NOT NULL,
    fonction_id bigint NOT NULL,
    sms_actif boolean DEFAULT false,
    email_actif boolean DEFAULT false
);


ALTER TABLE notification.parametrage_etablissement OWNER TO eliot_scolarite;

--
-- TOC entry 553 (class 1259 OID 667772)
-- Dependencies: 21
-- Name: parametrage_etablissement_id_seq; Type: SEQUENCE; Schema: notification; Owner: eliot_scolarite
--

CREATE SEQUENCE parametrage_etablissement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE notification.parametrage_etablissement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5977 (class 0 OID 0)
-- Dependencies: 553
-- Name: parametrage_etablissement_id_seq; Type: SEQUENCE SET; Schema: notification; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('parametrage_etablissement_id_seq', 1, false);


--
-- TOC entry 554 (class 1259 OID 667774)
-- Dependencies: 3939 3940 21
-- Name: preference_utilisateur; Type: TABLE; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE preference_utilisateur (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    sms_actif boolean DEFAULT false,
    email_actif boolean DEFAULT false,
    notification_type_id bigint,
    etablissement_id bigint NOT NULL
);


ALTER TABLE notification.preference_utilisateur OWNER TO eliot_scolarite;

--
-- TOC entry 555 (class 1259 OID 667779)
-- Dependencies: 21
-- Name: preference_utilisateur_id_seq; Type: SEQUENCE; Schema: notification; Owner: eliot_scolarite
--

CREATE SEQUENCE preference_utilisateur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE notification.preference_utilisateur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5978 (class 0 OID 0)
-- Dependencies: 555
-- Name: preference_utilisateur_id_seq; Type: SEQUENCE SET; Schema: notification; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('preference_utilisateur_id_seq', 1, false);


--
-- TOC entry 556 (class 1259 OID 667781)
-- Dependencies: 3685 21
-- Name: utilisateur; Type: VIEW; Schema: notification; Owner: eliot_scolarite
--

CREATE VIEW utilisateur AS
    SELECT autorite.id AS autorite_id, autorite.id_externe AS utilisateur_ent_id, email.email FROM (securite.autorite LEFT JOIN email_notification email ON ((email.autorite_id = autorite.id))) WHERE ((autorite.est_active = true) AND ((autorite.type)::text = 'acteur'::text));


ALTER TABLE notification.utilisateur OWNER TO eliot_scolarite;

SET search_path = parametrage_classe, pg_catalog;

--
-- TOC entry 620 (class 1259 OID 671847)
-- Dependencies: 28
-- Name: creation_sous_services; Type: TABLE; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE creation_sous_services (
    id bigint NOT NULL,
    classe_id bigint NOT NULL,
    nature_periode character varying(20) NOT NULL,
    type_periode_id bigint,
    type_periode_coefficient1_id bigint NOT NULL,
    type_periode_coefficient2_id bigint,
    type_periode_coefficient3_id bigint,
    type_periode_coefficient4_id bigint
);


ALTER TABLE parametrage_classe.creation_sous_services OWNER TO eliot_scolarite;

--
-- TOC entry 623 (class 1259 OID 671911)
-- Dependencies: 3986 28
-- Name: creation_sous_services_etat; Type: TABLE; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE creation_sous_services_etat (
    id bigint NOT NULL,
    creation_sous_services_sous_matiere_id bigint NOT NULL,
    etat character varying(10) NOT NULL,
    service_id bigint NOT NULL,
    CONSTRAINT chk_creation_sous_services_etat_etat CHECK ((((((etat)::text = 'EN_ATTENTE'::text) OR ((etat)::text = 'EN_COURS'::text)) OR ((etat)::text = 'ERREUR'::text)) OR ((etat)::text = 'TERMINE'::text)))
);


ALTER TABLE parametrage_classe.creation_sous_services_etat OWNER TO eliot_scolarite;

--
-- TOC entry 624 (class 1259 OID 671947)
-- Dependencies: 28
-- Name: creation_sous_services_etat_id_seq; Type: SEQUENCE; Schema: parametrage_classe; Owner: eliot_scolarite
--

CREATE SEQUENCE creation_sous_services_etat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE parametrage_classe.creation_sous_services_etat_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5979 (class 0 OID 0)
-- Dependencies: 624
-- Name: creation_sous_services_etat_id_seq; Type: SEQUENCE SET; Schema: parametrage_classe; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('creation_sous_services_etat_id_seq', 1, false);


--
-- TOC entry 619 (class 1259 OID 671845)
-- Dependencies: 28
-- Name: creation_sous_services_id_seq; Type: SEQUENCE; Schema: parametrage_classe; Owner: eliot_scolarite
--

CREATE SEQUENCE creation_sous_services_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE parametrage_classe.creation_sous_services_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5980 (class 0 OID 0)
-- Dependencies: 619
-- Name: creation_sous_services_id_seq; Type: SEQUENCE SET; Schema: parametrage_classe; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('creation_sous_services_id_seq', 1, false);


--
-- TOC entry 622 (class 1259 OID 671881)
-- Dependencies: 3982 3983 3984 3985 28
-- Name: creation_sous_services_sous_matiere; Type: TABLE; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE creation_sous_services_sous_matiere (
    id bigint NOT NULL,
    modalite_matiere_id bigint NOT NULL,
    coefficient1 numeric DEFAULT 1 NOT NULL,
    coefficient2 numeric DEFAULT 1,
    coefficient3 numeric DEFAULT 1,
    coefficient4 numeric DEFAULT 1,
    creation_sous_services_id bigint NOT NULL
);


ALTER TABLE parametrage_classe.creation_sous_services_sous_matiere OWNER TO eliot_scolarite;

--
-- TOC entry 621 (class 1259 OID 671879)
-- Dependencies: 28
-- Name: creation_sous_services_sous_matiere_id_seq; Type: SEQUENCE; Schema: parametrage_classe; Owner: eliot_scolarite
--

CREATE SEQUENCE creation_sous_services_sous_matiere_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE parametrage_classe.creation_sous_services_sous_matiere_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5981 (class 0 OID 0)
-- Dependencies: 621
-- Name: creation_sous_services_sous_matiere_id_seq; Type: SEQUENCE SET; Schema: parametrage_classe; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('creation_sous_services_sous_matiere_id_seq', 1, false);


--
-- TOC entry 614 (class 1259 OID 671750)
-- Dependencies: 3975 3976 3977 28
-- Name: report; Type: TABLE; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE report (
    id bigint NOT NULL,
    classe_source_id bigint NOT NULL,
    nature_periode character varying(20) NOT NULL,
    type_periode_id bigint,
    report_sous_services boolean DEFAULT false NOT NULL,
    report_ordre boolean DEFAULT false NOT NULL,
    report_coefficients boolean DEFAULT false NOT NULL,
    etablissement_id bigint NOT NULL
);


ALTER TABLE parametrage_classe.report OWNER TO eliot_scolarite;

--
-- TOC entry 613 (class 1259 OID 671748)
-- Dependencies: 28
-- Name: report_id_seq; Type: SEQUENCE; Schema: parametrage_classe; Owner: eliot_scolarite
--

CREATE SEQUENCE report_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE parametrage_classe.report_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5982 (class 0 OID 0)
-- Dependencies: 613
-- Name: report_id_seq; Type: SEQUENCE SET; Schema: parametrage_classe; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('report_id_seq', 1, false);


--
-- TOC entry 616 (class 1259 OID 671770)
-- Dependencies: 3978 3979 28
-- Name: report_traitement; Type: TABLE; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE report_traitement (
    id bigint NOT NULL,
    report_id bigint NOT NULL,
    classe_cible_id bigint NOT NULL,
    service_cible_id bigint NOT NULL,
    etat character varying DEFAULT 'EN_ATTENTE'::character varying NOT NULL,
    CONSTRAINT chk_report_traitement_etat CHECK ((((((etat)::text = 'EN_ATTENTE'::text) OR ((etat)::text = 'EN_COURS'::text)) OR ((etat)::text = 'ERREUR'::text)) OR ((etat)::text = 'TERMINE'::text)))
);


ALTER TABLE parametrage_classe.report_traitement OWNER TO eliot_scolarite;

--
-- TOC entry 615 (class 1259 OID 671768)
-- Dependencies: 28
-- Name: report_traitement_id_seq; Type: SEQUENCE; Schema: parametrage_classe; Owner: eliot_scolarite
--

CREATE SEQUENCE report_traitement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE parametrage_classe.report_traitement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5983 (class 0 OID 0)
-- Dependencies: 615
-- Name: report_traitement_id_seq; Type: SEQUENCE SET; Schema: parametrage_classe; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('report_traitement_id_seq', 1, false);


SET search_path = public, pg_catalog;

--
-- TOC entry 557 (class 1259 OID 667785)
-- Dependencies: 27
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE databasechangelog (
    id character varying(63) NOT NULL,
    author character varying(63) NOT NULL,
    filename character varying(200) NOT NULL,
    dateexecuted timestamp with time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20)
);


ALTER TABLE public.databasechangelog OWNER TO eliot_scolarite;

--
-- TOC entry 558 (class 1259 OID 667791)
-- Dependencies: 27
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp with time zone,
    lockedby character varying(255)
);


ALTER TABLE public.databasechangeloglock OWNER TO eliot_scolarite;

--
-- TOC entry 559 (class 1259 OID 667794)
-- Dependencies: 27
-- Name: eliot_version_id_seq; Type: SEQUENCE; Schema: public; Owner: eliot_scolarite
--

CREATE SEQUENCE eliot_version_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.eliot_version_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5984 (class 0 OID 0)
-- Dependencies: 559
-- Name: eliot_version_id_seq; Type: SEQUENCE SET; Schema: public; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('eliot_version_id_seq', 36, true);


--
-- TOC entry 560 (class 1259 OID 667796)
-- Dependencies: 3941 3942 27
-- Name: eliot_version; Type: TABLE; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE eliot_version (
    id bigint DEFAULT nextval('eliot_version_id_seq'::regclass) NOT NULL,
    date timestamp without time zone DEFAULT now() NOT NULL,
    code character varying(128) NOT NULL
);


ALTER TABLE public.eliot_version OWNER TO eliot_scolarite;

--
-- TOC entry 561 (class 1259 OID 667801)
-- Dependencies: 27
-- Name: info_base; Type: TABLE; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE info_base (
    id bigint NOT NULL,
    usage character varying(20) NOT NULL
);


ALTER TABLE public.info_base OWNER TO eliot_scolarite;

--
-- TOC entry 636 (class 1259 OID 672143)
-- Dependencies: 27
-- Name: operation_maintenance; Type: TABLE; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE operation_maintenance (
    id bigint NOT NULL,
    code character varying(64) NOT NULL,
    etat character varying(32) NOT NULL
);


ALTER TABLE public.operation_maintenance OWNER TO eliot_scolarite;

--
-- TOC entry 637 (class 1259 OID 672150)
-- Dependencies: 27
-- Name: operation_maintenance_id_seq; Type: SEQUENCE; Schema: public; Owner: eliot_scolarite
--

CREATE SEQUENCE operation_maintenance_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.operation_maintenance_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5985 (class 0 OID 0)
-- Dependencies: 637
-- Name: operation_maintenance_id_seq; Type: SEQUENCE SET; Schema: public; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('operation_maintenance_id_seq', 1, false);


SET search_path = securite, pg_catalog;

--
-- TOC entry 630 (class 1259 OID 672015)
-- Dependencies: 22
-- Name: acces_fonctionnalite_fonction; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE acces_fonctionnalite_fonction (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    fonctionnalite_id bigint NOT NULL,
    fonction_id bigint NOT NULL,
    actif boolean NOT NULL
);


ALTER TABLE securite.acces_fonctionnalite_fonction OWNER TO eliot_scolarite;

--
-- TOC entry 632 (class 1259 OID 672043)
-- Dependencies: 22
-- Name: acces_fonctionnalite_fonction_defaut; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE acces_fonctionnalite_fonction_defaut (
    id bigint NOT NULL,
    fonctionnalite_id bigint NOT NULL,
    fonction_id bigint NOT NULL,
    actif boolean NOT NULL
);


ALTER TABLE securite.acces_fonctionnalite_fonction_defaut OWNER TO eliot_scolarite;

--
-- TOC entry 631 (class 1259 OID 672041)
-- Dependencies: 22
-- Name: acces_fonctionnalite_fonction_defaut_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE acces_fonctionnalite_fonction_defaut_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.acces_fonctionnalite_fonction_defaut_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5986 (class 0 OID 0)
-- Dependencies: 631
-- Name: acces_fonctionnalite_fonction_defaut_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('acces_fonctionnalite_fonction_defaut_id_seq', 779, true);


--
-- TOC entry 629 (class 1259 OID 672013)
-- Dependencies: 22
-- Name: acces_fonctionnalite_fonction_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE acces_fonctionnalite_fonction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.acces_fonctionnalite_fonction_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5987 (class 0 OID 0)
-- Dependencies: 629
-- Name: acces_fonctionnalite_fonction_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('acces_fonctionnalite_fonction_id_seq', 1, false);


--
-- TOC entry 628 (class 1259 OID 671991)
-- Dependencies: 22
-- Name: acces_fonctionnalite_personne; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE acces_fonctionnalite_personne (
    id bigint NOT NULL,
    etablissement_id bigint NOT NULL,
    fonctionnalite_id bigint NOT NULL,
    personne_id bigint NOT NULL
);


ALTER TABLE securite.acces_fonctionnalite_personne OWNER TO eliot_scolarite;

--
-- TOC entry 627 (class 1259 OID 671989)
-- Dependencies: 22
-- Name: acces_fonctionnalite_personne_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE acces_fonctionnalite_personne_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.acces_fonctionnalite_personne_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5988 (class 0 OID 0)
-- Dependencies: 627
-- Name: acces_fonctionnalite_personne_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('acces_fonctionnalite_personne_id_seq', 1, false);


--
-- TOC entry 562 (class 1259 OID 667804)
-- Dependencies: 3943 3944 22
-- Name: autorisation; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE autorisation (
    id bigint NOT NULL,
    version integer NOT NULL,
    item_id bigint,
    autorite_id bigint NOT NULL,
    valeur_permissions_explicite integer NOT NULL,
    proprietaire boolean DEFAULT false NOT NULL,
    autorisation_heritee_id bigint,
    valeur_permissions_explicite_defaut integer DEFAULT 0 NOT NULL
);


ALTER TABLE securite.autorisation OWNER TO eliot_scolarite;

--
-- TOC entry 563 (class 1259 OID 667809)
-- Dependencies: 22
-- Name: autorisation_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE autorisation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.autorisation_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5989 (class 0 OID 0)
-- Dependencies: 563
-- Name: autorisation_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('autorisation_id_seq', 1, false);


--
-- TOC entry 564 (class 1259 OID 667811)
-- Dependencies: 22
-- Name: autorite_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE autorite_id_seq
    START WITH 1
    INCREMENT BY 2
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.autorite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5990 (class 0 OID 0)
-- Dependencies: 564
-- Name: autorite_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('autorite_id_seq', 10, true);


--
-- TOC entry 626 (class 1259 OID 671984)
-- Dependencies: 3987 22
-- Name: fonctionnalite; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE fonctionnalite (
    id bigint NOT NULL,
    code character varying(200) NOT NULL,
    parent_id bigint,
    parametrable boolean NOT NULL,
    ordre integer NOT NULL,
    groupe boolean DEFAULT false NOT NULL
);


ALTER TABLE securite.fonctionnalite OWNER TO eliot_scolarite;

--
-- TOC entry 625 (class 1259 OID 671982)
-- Dependencies: 22
-- Name: fonctionnalite_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE fonctionnalite_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.fonctionnalite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5991 (class 0 OID 0)
-- Dependencies: 625
-- Name: fonctionnalite_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('fonctionnalite_id_seq', 41, true);


--
-- TOC entry 565 (class 1259 OID 667813)
-- Dependencies: 3945 22
-- Name: item; Type: TABLE; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE item (
    id bigint NOT NULL,
    version integer NOT NULL,
    type character varying(128) NOT NULL,
    item_parent_id bigint,
    nom_entite_cible character varying(128),
    enregistrement_cible_id bigint,
    est_active boolean DEFAULT true,
    import_id bigint,
    date_desactivation timestamp without time zone
);


ALTER TABLE securite.item OWNER TO eliot_scolarite;

--
-- TOC entry 566 (class 1259 OID 667817)
-- Dependencies: 22
-- Name: item_id_seq; Type: SEQUENCE; Schema: securite; Owner: eliot_scolarite
--

CREATE SEQUENCE item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE securite.item_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5992 (class 0 OID 0)
-- Dependencies: 566
-- Name: item_id_seq; Type: SEQUENCE SET; Schema: securite; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('item_id_seq', 1, false);


SET search_path = synchro, pg_catalog;

--
-- TOC entry 567 (class 1259 OID 667824)
-- Dependencies: 23
-- Name: execution; Type: TABLE; Schema: synchro; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE execution (
    id bigint NOT NULL,
    date_debut timestamp without time zone,
    cle bigint NOT NULL,
    demande_import_id_production_max bigint
);


ALTER TABLE synchro.execution OWNER TO eliot_scolarite;

--
-- TOC entry 568 (class 1259 OID 667827)
-- Dependencies: 23
-- Name: execution_id_seq; Type: SEQUENCE; Schema: synchro; Owner: eliot_scolarite
--

CREATE SEQUENCE execution_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE synchro.execution_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5993 (class 0 OID 0)
-- Dependencies: 568
-- Name: execution_id_seq; Type: SEQUENCE SET; Schema: synchro; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('execution_id_seq', 1, false);


SET search_path = td, pg_catalog;

--
-- TOC entry 569 (class 1259 OID 667829)
-- Dependencies: 3946 3947 24
-- Name: copie; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE copie (
    id bigint NOT NULL,
    date_remise timestamp with time zone,
    sujet_id bigint NOT NULL,
    eleve_id bigint,
    correcteur_id bigint,
    correction_date timestamp with time zone,
    correction_annotation text,
    correction_note_automatique double precision,
    correction_note_finale double precision,
    modalite_activite_id bigint,
    correction_note_correcteur double precision,
    correction_note_non_numerique character varying(255),
    max_points double precision,
    max_points_automatique double precision,
    max_points_correcteur double precision,
    points_modulation double precision DEFAULT (0)::double precision,
    est_jetable boolean DEFAULT false NOT NULL,
    date_enregistrement timestamp with time zone
);


ALTER TABLE td.copie OWNER TO eliot_scolarite;

--
-- TOC entry 570 (class 1259 OID 667837)
-- Dependencies: 24
-- Name: copie_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE copie_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.copie_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5994 (class 0 OID 0)
-- Dependencies: 570
-- Name: copie_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('copie_id_seq', 102, true);


--
-- TOC entry 571 (class 1259 OID 667839)
-- Dependencies: 3948 24
-- Name: modalite_activite; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE modalite_activite (
    id bigint NOT NULL,
    date_remise_reponses timestamp with time zone NOT NULL,
    date_debut timestamp with time zone NOT NULL,
    date_fin timestamp with time zone NOT NULL,
    etablissement_id bigint,
    responsable_id bigint,
    enseignant_id bigint NOT NULL,
    activite_id bigint,
    evaluation_id bigint,
    sujet_id bigint NOT NULL,
    copie_ameliorable boolean DEFAULT true NOT NULL,
    structure_enseignement_id bigint,
    matiere_id bigint
);


ALTER TABLE td.modalite_activite OWNER TO eliot_scolarite;

--
-- TOC entry 572 (class 1259 OID 667843)
-- Dependencies: 24
-- Name: modalite_activite_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE modalite_activite_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.modalite_activite_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5995 (class 0 OID 0)
-- Dependencies: 572
-- Name: modalite_activite_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('modalite_activite_id_seq', 100, true);


--
-- TOC entry 638 (class 1259 OID 672156)
-- Dependencies: 24
-- Name: patch_execution; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE patch_execution (
    id bigint NOT NULL,
    code character varying(255) NOT NULL,
    date_created timestamp with time zone
);


ALTER TABLE td.patch_execution OWNER TO eliot_scolarite;

--
-- TOC entry 639 (class 1259 OID 672161)
-- Dependencies: 24
-- Name: patch_execution_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE patch_execution_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.patch_execution_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5996 (class 0 OID 0)
-- Dependencies: 639
-- Name: patch_execution_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('patch_execution_id_seq', 100, true);


--
-- TOC entry 573 (class 1259 OID 667845)
-- Dependencies: 3949 3950 3951 24
-- Name: question; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE question (
    id bigint NOT NULL,
    titre text NOT NULL,
    est_autonome boolean DEFAULT true NOT NULL,
    specification text NOT NULL,
    version_question integer DEFAULT 1 NOT NULL,
    type_id bigint NOT NULL,
    proprietaire_id bigint NOT NULL,
    matiere_id bigint,
    etablissement_id bigint,
    niveau_id bigint,
    publication_id bigint,
    titre_normalise text,
    publie boolean DEFAULT false NOT NULL,
    date_created timestamp with time zone,
    last_updated timestamp with time zone,
    copyrights_type_id bigint NOT NULL,
    specification_normalise text,
    paternite text,
    exercice_id bigint,
    attachement_id bigint,
    principal_attachement_est_insere_dans_la_question boolean
);


ALTER TABLE td.question OWNER TO eliot_scolarite;

--
-- TOC entry 574 (class 1259 OID 667854)
-- Dependencies: 3952 3953 24
-- Name: question_attachement; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE question_attachement (
    id bigint NOT NULL,
    question_id bigint NOT NULL,
    attachement_id bigint NOT NULL,
    rang integer DEFAULT 1,
    est_insere_dans_la_question boolean DEFAULT true NOT NULL
);


ALTER TABLE td.question_attachement OWNER TO eliot_scolarite;

--
-- TOC entry 575 (class 1259 OID 667859)
-- Dependencies: 24
-- Name: question_attachement_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE question_attachement_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.question_attachement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5997 (class 0 OID 0)
-- Dependencies: 575
-- Name: question_attachement_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('question_attachement_id_seq', 100, false);


--
-- TOC entry 576 (class 1259 OID 667861)
-- Dependencies: 24
-- Name: question_export; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE question_export (
    id bigint NOT NULL,
    format_id bigint NOT NULL,
    export text NOT NULL,
    question_id bigint NOT NULL
);


ALTER TABLE td.question_export OWNER TO eliot_scolarite;

--
-- TOC entry 577 (class 1259 OID 667867)
-- Dependencies: 24
-- Name: question_export_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE question_export_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.question_export_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5998 (class 0 OID 0)
-- Dependencies: 577
-- Name: question_export_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('question_export_id_seq', 100, false);


--
-- TOC entry 578 (class 1259 OID 667869)
-- Dependencies: 24
-- Name: question_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE question_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.question_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 5999 (class 0 OID 0)
-- Dependencies: 578
-- Name: question_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('question_id_seq', 103, true);


--
-- TOC entry 579 (class 1259 OID 667871)
-- Dependencies: 3954 3955 24
-- Name: question_type; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE question_type (
    id bigint NOT NULL,
    nom character varying(255) NOT NULL,
    nom_anglais character varying(255),
    code character varying(255) DEFAULT 'Undefined'::character varying NOT NULL,
    interaction boolean DEFAULT true NOT NULL
);


ALTER TABLE td.question_type OWNER TO eliot_scolarite;

--
-- TOC entry 580 (class 1259 OID 667879)
-- Dependencies: 24
-- Name: question_type_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE question_type_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.question_type_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6000 (class 0 OID 0)
-- Dependencies: 580
-- Name: question_type_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('question_type_id_seq', 100, false);


--
-- TOC entry 581 (class 1259 OID 667881)
-- Dependencies: 24
-- Name: reponse; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE reponse (
    id bigint NOT NULL,
    specification text,
    copie_id bigint NOT NULL,
    correcteur_id bigint,
    correction_date timestamp with time zone,
    correction_annotation text,
    correction_note_automatique double precision,
    correction_note_finale double precision,
    correction_note_correcteur double precision,
    correction_note_non_numerique character varying(255),
    eleve_id bigint,
    sujet_question_id bigint NOT NULL,
    rang integer
);


ALTER TABLE td.reponse OWNER TO eliot_scolarite;

--
-- TOC entry 582 (class 1259 OID 667887)
-- Dependencies: 3956 24
-- Name: reponse_attachement; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE reponse_attachement (
    id bigint NOT NULL,
    reponse_id bigint NOT NULL,
    attachement_id bigint NOT NULL,
    rang integer DEFAULT 1
);


ALTER TABLE td.reponse_attachement OWNER TO eliot_scolarite;

--
-- TOC entry 583 (class 1259 OID 667891)
-- Dependencies: 24
-- Name: reponse_attachement_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE reponse_attachement_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.reponse_attachement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6001 (class 0 OID 0)
-- Dependencies: 583
-- Name: reponse_attachement_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('reponse_attachement_id_seq', 100, false);


--
-- TOC entry 584 (class 1259 OID 667893)
-- Dependencies: 24
-- Name: reponse_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE reponse_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.reponse_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6002 (class 0 OID 0)
-- Dependencies: 584
-- Name: reponse_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('reponse_id_seq', 102, true);


--
-- TOC entry 585 (class 1259 OID 667895)
-- Dependencies: 3957 3958 24
-- Name: sujet; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sujet (
    id bigint NOT NULL,
    titre text NOT NULL,
    version_sujet integer DEFAULT 1 NOT NULL,
    proprietaire_id bigint NOT NULL,
    matiere_id bigint,
    etablissement_id bigint,
    niveau_id bigint,
    duree_minutes integer,
    presentation text,
    note_max double precision,
    note_auto_max double precision,
    note_enseignant_max double precision,
    nb_questions integer,
    publication_id bigint,
    annotation_privee text,
    copyrights_type_id bigint NOT NULL,
    acces_public boolean NOT NULL,
    acces_sequentiel boolean NOT NULL,
    ordre_questions_aleatoire boolean NOT NULL,
    titre_normalise text,
    presentation_normalise text,
    publie boolean DEFAULT false NOT NULL,
    date_created timestamp with time zone,
    last_updated timestamp with time zone,
    sujet_type_id bigint,
    paternite text
);


ALTER TABLE td.sujet OWNER TO eliot_scolarite;

--
-- TOC entry 586 (class 1259 OID 667903)
-- Dependencies: 24
-- Name: sujet_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE sujet_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.sujet_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6003 (class 0 OID 0)
-- Dependencies: 586
-- Name: sujet_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sujet_id_seq', 102, true);


--
-- TOC entry 587 (class 1259 OID 667905)
-- Dependencies: 3959 24
-- Name: sujet_sequence_questions; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sujet_sequence_questions (
    id bigint NOT NULL,
    sujet_id bigint NOT NULL,
    question_id bigint NOT NULL,
    questions_sequences_idx integer NOT NULL,
    note_seuil_poursuite double precision,
    points double precision DEFAULT (1)::double precision NOT NULL
);


ALTER TABLE td.sujet_sequence_questions OWNER TO eliot_scolarite;

--
-- TOC entry 588 (class 1259 OID 667909)
-- Dependencies: 24
-- Name: sujet_sequence_questions_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE sujet_sequence_questions_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.sujet_sequence_questions_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6004 (class 0 OID 0)
-- Dependencies: 588
-- Name: sujet_sequence_questions_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sujet_sequence_questions_id_seq', 104, true);


--
-- TOC entry 589 (class 1259 OID 667911)
-- Dependencies: 24
-- Name: sujet_type; Type: TABLE; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE sujet_type (
    id bigint NOT NULL,
    nom character varying(255) NOT NULL,
    nom_anglais character varying(255) NOT NULL
);


ALTER TABLE td.sujet_type OWNER TO eliot_scolarite;

--
-- TOC entry 590 (class 1259 OID 667917)
-- Dependencies: 24
-- Name: sujet_type_id_seq; Type: SEQUENCE; Schema: td; Owner: eliot_scolarite
--

CREATE SEQUENCE sujet_type_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE td.sujet_type_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6005 (class 0 OID 0)
-- Dependencies: 590
-- Name: sujet_type_id_seq; Type: SEQUENCE SET; Schema: td; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('sujet_type_id_seq', 100, false);


SET search_path = tice, pg_catalog;

--
-- TOC entry 591 (class 1259 OID 667919)
-- Dependencies: 3960 25
-- Name: attachement; Type: TABLE; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE attachement (
    id bigint NOT NULL,
    chemin text NOT NULL,
    nom character varying(255) NOT NULL,
    taille bigint,
    type_mime character varying(255),
    nom_fichier_original character varying(255),
    a_supprimer boolean DEFAULT false,
    dimension_hauteur bigint,
    dimension_largeur bigint
);


ALTER TABLE tice.attachement OWNER TO eliot_scolarite;

--
-- TOC entry 592 (class 1259 OID 667926)
-- Dependencies: 25
-- Name: attachement_id_seq; Type: SEQUENCE; Schema: tice; Owner: eliot_scolarite
--

CREATE SEQUENCE attachement_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE tice.attachement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6006 (class 0 OID 0)
-- Dependencies: 592
-- Name: attachement_id_seq; Type: SEQUENCE SET; Schema: tice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('attachement_id_seq', 100, false);


--
-- TOC entry 593 (class 1259 OID 667928)
-- Dependencies: 25
-- Name: compte_utilisateur; Type: TABLE; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE compte_utilisateur (
    id bigint NOT NULL,
    personne_id bigint NOT NULL,
    version bigint NOT NULL,
    login character varying(255) NOT NULL,
    login_alias character varying(255),
    password character varying(255) NOT NULL,
    compte_expire boolean NOT NULL,
    compte_verrouille boolean NOT NULL,
    compte_active boolean NOT NULL,
    password_expire boolean NOT NULL,
    date_derniere_connexion timestamp with time zone
);


ALTER TABLE tice.compte_utilisateur OWNER TO eliot_scolarite;

--
-- TOC entry 594 (class 1259 OID 667934)
-- Dependencies: 25
-- Name: compte_utilisateur_id_seq; Type: SEQUENCE; Schema: tice; Owner: eliot_scolarite
--

CREATE SEQUENCE compte_utilisateur_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE tice.compte_utilisateur_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6007 (class 0 OID 0)
-- Dependencies: 594
-- Name: compte_utilisateur_id_seq; Type: SEQUENCE SET; Schema: tice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('compte_utilisateur_id_seq', 103, true);


--
-- TOC entry 595 (class 1259 OID 667936)
-- Dependencies: 3961 3962 3963 3964 3965 25
-- Name: copyrights_type; Type: TABLE; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE copyrights_type (
    id bigint NOT NULL,
    code character varying(255) NOT NULL,
    presentation text,
    lien text,
    logo text,
    option_cc_paternite boolean DEFAULT true,
    option_cc_pas_utilisation_commerciale boolean DEFAULT true,
    option_cc_pas_modification boolean DEFAULT true,
    option_cc_partage_viral boolean DEFAULT true,
    option_tous_droits_reserves boolean DEFAULT true
);


ALTER TABLE tice.copyrights_type OWNER TO eliot_scolarite;

--
-- TOC entry 596 (class 1259 OID 667947)
-- Dependencies: 25
-- Name: copyrights_type_id_seq; Type: SEQUENCE; Schema: tice; Owner: eliot_scolarite
--

CREATE SEQUENCE copyrights_type_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE tice.copyrights_type_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6008 (class 0 OID 0)
-- Dependencies: 596
-- Name: copyrights_type_id_seq; Type: SEQUENCE SET; Schema: tice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('copyrights_type_id_seq', 100, false);


--
-- TOC entry 597 (class 1259 OID 667949)
-- Dependencies: 25
-- Name: export_format; Type: TABLE; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE export_format (
    id bigint NOT NULL,
    nom character varying(255) NOT NULL,
    code character varying(255) NOT NULL
);


ALTER TABLE tice.export_format OWNER TO eliot_scolarite;

--
-- TOC entry 598 (class 1259 OID 667955)
-- Dependencies: 25
-- Name: export_format_id_seq; Type: SEQUENCE; Schema: tice; Owner: eliot_scolarite
--

CREATE SEQUENCE export_format_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE tice.export_format_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6009 (class 0 OID 0)
-- Dependencies: 598
-- Name: export_format_id_seq; Type: SEQUENCE SET; Schema: tice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('export_format_id_seq', 100, false);


--
-- TOC entry 599 (class 1259 OID 667957)
-- Dependencies: 25
-- Name: publication; Type: TABLE; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE publication (
    id bigint NOT NULL,
    copyrights_type_id bigint NOT NULL,
    date_debut timestamp with time zone NOT NULL,
    date_fin timestamp with time zone
);


ALTER TABLE tice.publication OWNER TO eliot_scolarite;

--
-- TOC entry 600 (class 1259 OID 667960)
-- Dependencies: 25
-- Name: publication_id_seq; Type: SEQUENCE; Schema: tice; Owner: eliot_scolarite
--

CREATE SEQUENCE publication_id_seq
    START WITH 100
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE tice.publication_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6010 (class 0 OID 0)
-- Dependencies: 600
-- Name: publication_id_seq; Type: SEQUENCE SET; Schema: tice; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('publication_id_seq', 100, false);


SET search_path = udt, pg_catalog;

--
-- TOC entry 601 (class 1259 OID 667962)
-- Dependencies: 3966 3967 26
-- Name: enseignement; Type: TABLE; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE enseignement (
    id bigint NOT NULL,
    co_enseignement boolean NOT NULL,
    matiere_id bigint NOT NULL,
    professeur_id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    udt_import_id bigint NOT NULL,
    cree_cdt boolean NOT NULL,
    etat character varying(20) DEFAULT 'EN_ATTENTE'::character varying NOT NULL,
    CONSTRAINT chk_etat CHECK (((etat)::text = ANY (ARRAY[('TRAITE'::character varying)::text, ('EN_ATTENTE'::character varying)::text, ('ERREUR'::character varying)::text, ('IGNORE'::character varying)::text])))
);


ALTER TABLE udt.enseignement OWNER TO eliot_scolarite;

--
-- TOC entry 602 (class 1259 OID 667967)
-- Dependencies: 26
-- Name: enseignement_id_seq; Type: SEQUENCE; Schema: udt; Owner: eliot_scolarite
--

CREATE SEQUENCE enseignement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE udt.enseignement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6011 (class 0 OID 0)
-- Dependencies: 602
-- Name: enseignement_id_seq; Type: SEQUENCE SET; Schema: udt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('enseignement_id_seq', 1, false);


--
-- TOC entry 603 (class 1259 OID 667969)
-- Dependencies: 3968 3969 26
-- Name: evenement; Type: TABLE; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE evenement (
    id bigint NOT NULL,
    date_debut timestamp with time zone NOT NULL,
    date_fin timestamp with time zone NOT NULL,
    salle character varying(50),
    etat character varying(50) DEFAULT 'EN_ATTENTE'::character varying,
    libelle character varying(100),
    co_enseignement boolean,
    matiere_id bigint,
    professeur_id bigint,
    structure_enseignement_id bigint,
    udt_import_id bigint NOT NULL,
    semaine_index smallint NOT NULL,
    jour_index smallint NOT NULL,
    sequence_index smallint NOT NULL,
    id_externe character varying(30) NOT NULL,
    annee smallint NOT NULL,
    CONSTRAINT chk_etat CHECK (((etat)::text = ANY (ARRAY[('TRAITE'::character varying)::text, ('EN_ATTENTE'::character varying)::text, ('ERREUR'::character varying)::text, ('IGNORE'::character varying)::text])))
);


ALTER TABLE udt.evenement OWNER TO eliot_scolarite;

--
-- TOC entry 604 (class 1259 OID 667974)
-- Dependencies: 26
-- Name: evenement_id_seq; Type: SEQUENCE; Schema: udt; Owner: eliot_scolarite
--

CREATE SEQUENCE evenement_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE udt.evenement_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6012 (class 0 OID 0)
-- Dependencies: 604
-- Name: evenement_id_seq; Type: SEQUENCE SET; Schema: udt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('evenement_id_seq', 1, false);


--
-- TOC entry 605 (class 1259 OID 667976)
-- Dependencies: 3970 26
-- Name: import; Type: TABLE; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE import (
    id bigint NOT NULL,
    semaines character varying(255) NOT NULL,
    etablissement_id bigint NOT NULL,
    date_debut_pre_traitement timestamp without time zone NOT NULL,
    date_fin_pre_traitement timestamp without time zone,
    cle character varying(128),
    cle_invalide boolean DEFAULT false
);


ALTER TABLE udt.import OWNER TO eliot_scolarite;

--
-- TOC entry 606 (class 1259 OID 667980)
-- Dependencies: 26
-- Name: import_id_seq; Type: SEQUENCE; Schema: udt; Owner: eliot_scolarite
--

CREATE SEQUENCE import_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE udt.import_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6013 (class 0 OID 0)
-- Dependencies: 606
-- Name: import_id_seq; Type: SEQUENCE SET; Schema: udt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('import_id_seq', 1, false);


--
-- TOC entry 607 (class 1259 OID 667982)
-- Dependencies: 3971 3972 26
-- Name: professeur_principal; Type: TABLE; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE professeur_principal (
    id bigint NOT NULL,
    structure_enseignement_id bigint NOT NULL,
    professeur_id bigint NOT NULL,
    udt_import_id bigint NOT NULL,
    etat character varying(20) DEFAULT 'EN_ATTENTE'::character varying NOT NULL,
    CONSTRAINT chk_etat CHECK (((etat)::text = ANY (ARRAY[('TRAITE'::character varying)::text, ('EN_ATTENTE'::character varying)::text, ('ERREUR'::character varying)::text, ('IGNORE'::character varying)::text])))
);


ALTER TABLE udt.professeur_principal OWNER TO eliot_scolarite;

--
-- TOC entry 608 (class 1259 OID 667987)
-- Dependencies: 26
-- Name: professeur_principal_id_seq; Type: SEQUENCE; Schema: udt; Owner: eliot_scolarite
--

CREATE SEQUENCE professeur_principal_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE udt.professeur_principal_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6014 (class 0 OID 0)
-- Dependencies: 608
-- Name: professeur_principal_id_seq; Type: SEQUENCE SET; Schema: udt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('professeur_principal_id_seq', 1, false);


--
-- TOC entry 609 (class 1259 OID 667989)
-- Dependencies: 26
-- Name: semaine_importee; Type: TABLE; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE TABLE semaine_importee (
    id bigint NOT NULL,
    udt_import_id bigint NOT NULL,
    annee smallint NOT NULL,
    semaine smallint NOT NULL,
    date_debut_import timestamp with time zone NOT NULL,
    date_fin_import timestamp with time zone
);


ALTER TABLE udt.semaine_importee OWNER TO eliot_scolarite;

--
-- TOC entry 610 (class 1259 OID 667992)
-- Dependencies: 26
-- Name: semaine_importee_id_seq; Type: SEQUENCE; Schema: udt; Owner: eliot_scolarite
--

CREATE SEQUENCE semaine_importee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE udt.semaine_importee_id_seq OWNER TO eliot_scolarite;

--
-- TOC entry 6015 (class 0 OID 0)
-- Dependencies: 610
-- Name: semaine_importee_id_seq; Type: SEQUENCE SET; Schema: udt; Owner: eliot_scolarite
--

SELECT pg_catalog.setval('semaine_importee_id_seq', 1, false);


SET search_path = ent, pg_catalog;

--
-- TOC entry 3792 (class 2604 OID 667994)
-- Dependencies: 287 286
-- Name: id; Type: DEFAULT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY service ALTER COLUMN id SET DEFAULT nextval('services_id_seq'::regclass);


SET search_path = forum, pg_catalog;

--
-- TOC entry 3926 (class 2604 OID 667995)
-- Dependencies: 519 518
-- Name: id; Type: DEFAULT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire ALTER COLUMN id SET DEFAULT nextval('commentaire_id_seq'::regclass);


--
-- TOC entry 3927 (class 2604 OID 667996)
-- Dependencies: 522 521
-- Name: id; Type: DEFAULT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY discussion ALTER COLUMN id SET DEFAULT nextval('discussion_id_seq'::regclass);


SET search_path = aaf, pg_catalog;

--
-- TOC entry 5554 (class 0 OID 666278)
-- Dependencies: 185
-- Data for Name: import; Type: TABLE DATA; Schema: aaf; Owner: eliot_scolarite
--

COPY import (id, type_import, type_fichier, nom_fichier, code_annee_scolaire, stats, indice_fichier, date_export_fichier, date_import, porteur, academie, demande_import_id) FROM stdin;
\.


--
-- TOC entry 5555 (class 0 OID 666286)
-- Dependencies: 187
-- Data for Name: import_verrou; Type: TABLE DATA; Schema: aaf; Owner: eliot_scolarite
--

COPY import_verrou (id, verrou, import_id, date_pose_verrou) FROM stdin;
\.


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 5557 (class 0 OID 666296)
-- Dependencies: 189
-- Data for Name: admin_local; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY admin_local (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, autorite_id_externe, etablissement_id_externe) FROM stdin;
\.


--
-- TOC entry 5558 (class 0 OID 666304)
-- Dependencies: 191
-- Data for Name: alerte; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY alerte (id, demande_import_id, type_alerte_id, type_entite, entite_id) FROM stdin;
\.


--
-- TOC entry 5559 (class 0 OID 666310)
-- Dependencies: 193
-- Data for Name: demande_import; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY demande_import (id, demande_date, code_porteur, academie, mode_import_eleve, mode_import_prof, mode_import_parent, mode_import_etablissement, mode_import_structure_enseignement, mode_import_porteur_ent, mode_import_personne_hors_aaf, mode_import_admin_local, statut, date_debut, duree, correctif_demande_import_id, etat_desactivation, duree_acces_restreint) FROM stdin;
\.


--
-- TOC entry 5561 (class 0 OID 666334)
-- Dependencies: 196
-- Data for Name: eleve; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY eleve (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, autorite_id_externe, autorite_id_externe_from_jointure, civilite_libelle, login, alias, nom, prenom, email, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, etablissement_rattachement_id_externe, id_sconet, responsable_1_id_externe, responsable_2_id_externe, regime_libelle, responsable_1_est_parent, responsable_2_est_parent) FROM stdin;
\.


--
-- TOC entry 5562 (class 0 OID 666345)
-- Dependencies: 198
-- Data for Name: eleve_repartition; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY eleve_repartition (id, type_erreur_id, eleve_autorite_id_externe, structure_enseignement_code, structure_enseignement_type, etablissement_id_externe, mef_code, mef_libelle, demande_import_id, statut) FROM stdin;
\.


--
-- TOC entry 5556 (class 0 OID 666290)
-- Dependencies: 188
-- Data for Name: entite; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY entite (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id) FROM stdin;
\.


--
-- TOC entry 5563 (class 0 OID 666357)
-- Dependencies: 200
-- Data for Name: etablissement; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY etablissement (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, id_externe, id_externe_from_jointure, nom_affichage, uai, type_etablissement, ministere_tutelle, academie, etablissement_rattachement_id_externe, rue, code_postal, ville) FROM stdin;
\.


--
-- TOC entry 5564 (class 0 OID 666368)
-- Dependencies: 202
-- Data for Name: execution; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY execution (id, date_debut, date_fin, type_entite, nb_entite_traitee, nb_erreur, nb_alerte, import_id, duree, action) FROM stdin;
\.


--
-- TOC entry 5565 (class 0 OID 666377)
-- Dependencies: 204
-- Data for Name: hors_aaf; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY hors_aaf (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, autorite_id_externe, autorite_id_externe_from_jointure, civilite_libelle, login, alias, nom, prenom, email, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, etablissement_rattachement_id_externe, id_sconet) FROM stdin;
\.


--
-- TOC entry 5566 (class 0 OID 666386)
-- Dependencies: 205
-- Data for Name: hors_aaf_fonction; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY hors_aaf_fonction (id, demande_import_id, statut, type_erreur_id, hors_aaf_autorite_id_externe, fonction_code, etablissement_id_externe, porteur_code) FROM stdin;
\.


--
-- TOC entry 5567 (class 0 OID 666398)
-- Dependencies: 209
-- Data for Name: pers_educ_nat; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY pers_educ_nat (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, autorite_id_externe, autorite_id_externe_from_jointure, civilite_libelle, login, alias, nom, prenom, email, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, etablissement_rattachement_id_externe, id_sconet) FROM stdin;
\.


--
-- TOC entry 5568 (class 0 OID 666407)
-- Dependencies: 210
-- Data for Name: pers_educ_nat_fonction; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY pers_educ_nat_fonction (id, type_erreur_id, pers_educ_nat_autorite_id_externe, fonction_code, etablissement_id_externe, demande_import_id, statut) FROM stdin;
\.


--
-- TOC entry 5560 (class 0 OID 666328)
-- Dependencies: 195
-- Data for Name: personne; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY personne (autorite_id_externe, autorite_id_externe_from_jointure, civilite_libelle, login, alias, nom, prenom, email, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, etablissement_rattachement_id_externe, id_sconet) FROM stdin;
\.


--
-- TOC entry 5569 (class 0 OID 666417)
-- Dependencies: 213
-- Data for Name: porteur_ent; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY porteur_ent (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, code, nom, nom_court, email_projet, url_retour_logout, url_acces_ent) FROM stdin;
\.


--
-- TOC entry 5570 (class 0 OID 666428)
-- Dependencies: 215
-- Data for Name: responsable_eleve; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY responsable_eleve (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, autorite_id_externe, autorite_id_externe_from_jointure, civilite_libelle, login, alias, nom, prenom, email, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, etablissement_rattachement_id_externe, id_sconet) FROM stdin;
\.


--
-- TOC entry 5571 (class 0 OID 666439)
-- Dependencies: 217
-- Data for Name: structure_enseignement; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY structure_enseignement (id, demande_import_id, execution_id, type_requete, statut, type_erreur_id, etablissement_id_externe, code, type, niveau_libelle) FROM stdin;
\.


--
-- TOC entry 5572 (class 0 OID 666447)
-- Dependencies: 219
-- Data for Name: type_alerte; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY type_alerte (id, code, libelle) FROM stdin;
1	RESPONSABLE_ELEVE_1_NON_PRESENT	Le résponsable élève 1 n'existe pas
2	RESPONSABLE_ELEVE_2_NON_PRESENT	Le résponsable élève 2 n'existe pas
3	ELEVE_SANS_IDSCONET	L'élève ne possède pas d'idSconet
4	ID_EXTERNE_JOINTURE_DIF_ID_EXTERNE	L'id externe ne correspond pas à l'id externe jointure
5	PERSONNE_INEXISTANTE	La personne n'existe pas
\.


--
-- TOC entry 5573 (class 0 OID 666455)
-- Dependencies: 221
-- Data for Name: type_erreur; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY type_erreur (id, code, libelle) FROM stdin;
1	ERREUR_INCONNUE	Erreur inconnue
2	FONCTION_INCONNUE	Code fonction inconnu
3	DOUBLON	Doublon dans les données
4	ETAB_RATTACH	L'établissement de rattachement n'existe pas dans le référentiel
5	RESP_IDENTIQUES	Les responsables sont identiques
6	ADMIN_SANS_PERSONNE	Personne d'admin local n'existe pas
7	AUTORITE_INACTIVE	Autorite d'admin local n'est pas active
8	ETAB_NON_DEFINI	L'etablissement de rattachement n'est pas defini
9	ELEVE_INDEFINI	Elève indefini
10	REPART_ELEVE_EN_SUPPRESSION	Repartition enseignée de l'élève marqué pour suppression
11	STRUCTURE_INEXISTANTE	Structure d'enseignement inexistante
12	PERSONNE_INCONNUE	Personne inexistante
13	PRESONNE_EN_SUPPRESSION	L'entité dont l'id externe est renseigné est marquée pour suppression
14	ELEVE_SANS_CLASSE	L'élève n'est associé à aucune classe
15	ELEVE_PLUSIEURS_CLASSES	L'élève est associé à plusieurs classes
16	CODE_MEF_NULL	Code MEF manquant
17	PERSONNE_SANS_NOM_PRENOM	La personne n'a pas de nom et prénom valide.
18	PERSONNE_SANS_FONCTION	La personne n'a pas de fonction valide.
19	PORTEUR_INCONNU	Le porteur est inconnu.
20	ETABLISSEMENT_RATTACHEMENT_INEXISTANT	L'etablissement de rattachement de la structure n'existe pas.
\.


--
-- TOC entry 5574 (class 0 OID 666460)
-- Dependencies: 223
-- Data for Name: verrou; Type: TABLE DATA; Schema: annuaire_interface; Owner: eliot_scolarite
--

COPY verrou (id, locked, lockgranted, lockedby, demande_import_id) FROM stdin;
1	f	\N	\N	\N
\.


SET search_path = backoffice, pg_catalog;

--
-- TOC entry 5575 (class 0 OID 666463)
-- Dependencies: 224
-- Data for Name: backoffice_config; Type: TABLE DATA; Schema: backoffice; Owner: eliot_scolarite
--

COPY backoffice_config (id, version, uai, nom, lvs, udt, nombre_eleve, base_eleve_id, is_eliot_open) FROM stdin;
\.


--
-- TOC entry 5576 (class 0 OID 666471)
-- Dependencies: 226
-- Data for Name: base_eleve; Type: TABLE DATA; Schema: backoffice; Owner: eliot_scolarite
--

COPY base_eleve (id, code, libelle, version) FROM stdin;
1	UDE	UD Elèves	\N
2	MAGISTER	Magister Elèves	\N
3	APLON	Aplon Elèves	\N
\.


SET search_path = bascule_annee, pg_catalog;

--
-- TOC entry 5577 (class 0 OID 666476)
-- Dependencies: 228
-- Data for Name: etape; Type: TABLE DATA; Schema: bascule_annee; Owner: eliot_scolarite
--

COPY etape (id, index, module_code, etape_code, etat, date_debut, date_fin, operateur_id_externe) FROM stdin;
\.


--
-- TOC entry 5578 (class 0 OID 666481)
-- Dependencies: 230
-- Data for Name: verrou; Type: TABLE DATA; Schema: bascule_annee; Owner: eliot_scolarite
--

COPY verrou (id, module, operateur_id_externe, date_creation, nom) FROM stdin;
\.


SET search_path = ent, pg_catalog;

--
-- TOC entry 5581 (class 0 OID 666510)
-- Dependencies: 235
-- Data for Name: annee_scolaire; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY annee_scolaire (code, version, annee_en_cours, id) FROM stdin;
2011-2012	0	t	1
\.


--
-- TOC entry 5582 (class 0 OID 666527)
-- Dependencies: 238
-- Data for Name: calendrier; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY calendrier (id, jour_semaine_ferie, version, annee_scolaire_id, premier_jour, dernier_jour, etablissement_id) FROM stdin;
\.


--
-- TOC entry 5583 (class 0 OID 666530)
-- Dependencies: 239
-- Data for Name: civilite; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY civilite (id, libelle, inserted, annuaire_import_id) FROM stdin;
\.


--
-- TOC entry 5813 (class 0 OID 672092)
-- Dependencies: 635
-- Data for Name: eleve_proprietes; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY eleve_proprietes (id, personne_id, mef_id, annee_scolaire_id, annuaire_import_id, inserted) FROM stdin;
\.


--
-- TOC entry 5584 (class 0 OID 666536)
-- Dependencies: 241
-- Data for Name: enseignement; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY enseignement (enseignant_id, version, service_id, nb_heures, version_import_sts, actif, id, origine) FROM stdin;
\.


--
-- TOC entry 5585 (class 0 OID 666544)
-- Dependencies: 243
-- Data for Name: etablissement; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY etablissement (id, id_externe, nom_affichage, version, uai, code_porteur_ent, porteur_ent_id, etablissement_rattachement_id, type_etablissement, ministere_tutelle, academie, est_actif, import_id, date_desactivation, annuaire_import_id, inserted, adresse_1, adresse_2, code_postal, ville) FROM stdin;
4	TEST_L	Lycée Montaigne	0	TEST_L	ENT	\N	\N	\N	\N	\N	t	\N	\N	\N	t	\N	\N	\N	\N
6	TEST_C	Collège Pascal	0	TEST_C	ENT	\N	\N	\N	\N	\N	t	\N	\N	\N	t	\N	\N	\N	\N
\.


--
-- TOC entry 5586 (class 0 OID 666555)
-- Dependencies: 245
-- Data for Name: etablissement_sts; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY etablissement_sts (id, etablissement_id, version_import_sts, date_import_sts) FROM stdin;
\.


--
-- TOC entry 5587 (class 0 OID 666561)
-- Dependencies: 247
-- Data for Name: fiche_eleve_commentaire; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY fiche_eleve_commentaire (id, personne_id, commentaire) FROM stdin;
\.


--
-- TOC entry 5588 (class 0 OID 666569)
-- Dependencies: 249
-- Data for Name: filiere; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY filiere (id, id_externe, libelle, version) FROM stdin;
\.


--
-- TOC entry 5589 (class 0 OID 666575)
-- Dependencies: 251
-- Data for Name: fonction; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY fonction (id, code, libelle) FROM stdin;
1	AC	ADMINISTRATEUR_CENTRAL
2	AL	ADMINISTRATEUR_LOCAL
3	CD	CORRESPONDANT_DEPLOIEMENT
4	UI	INVITE
5	ELEVE	ELEVE
6	PERS_REL_ELEVE	PERSONNES EN RELATION ELEVE
7	ENS	ENSEIGNEMENT
8	DIR	DIRECTION
9	EDU	EDUCATION
10	DOC	DOCUMENTATION
11	CFC	CONSEILLER EN\n      FORMATION CONTINUE
12	CTR	CHEF DE\n      TRAVAUX
13	ADF	PERSONNELS\n      ADMINISTRATIFS
14	ALB	LABORATOIRE
15	ASE	ASSISTANT\n      ETRANGER
16	LAB	PERSONNELS DE\n      LABORATOIRE
17	MDS	PERSONNELS\n      MEDICO-SOCIAUX
18	OUV	PERSONNELS\n      OUVRIERS ET DE SERVICES
19	SUR	SURVEILLANCE
20	ORI	ORIENTATION
21	AED	ASSISTANT_EDUCATION
22	AVS	AUXILIAIRE_VIE_SCOLAIRE
23	APP	APPRENTISSAGE
\.


--
-- TOC entry 5590 (class 0 OID 666589)
-- Dependencies: 253
-- Data for Name: import_temps; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY import_temps (id, date_debut_traitement, date_fin_traitement, traitement) FROM stdin;
\.


--
-- TOC entry 5591 (class 0 OID 666595)
-- Dependencies: 255
-- Data for Name: matiere; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY matiere (version, id, code_sts, libelle_court, code_gestion, libelle_edition, etablissement_id, origine, specialite, annee_scolaire_id, libelle_long) FROM stdin;
0	1	\N	Mathématiques	TEST__1	Mathématiques	4	AUTO	f	1	Mathématiques
0	2	\N	SES	TEST__2	SES	4	AUTO	f	1	SES
0	3	\N	SES Spécialité	TEST__3	SES Spécialité	4	AUTO	f	1	SES Spécialité
0	4	\N	Histoire	TEST__4	Histoire	6	AUTO	f	1	Histoire
0	5	\N	Géographie	TEST__5	Géographie	6	AUTO	f	1	Géographie
0	6	\N	Communication	TEST__6	Communication	4	AUTO	f	1	Communication
0	7	\N	Anglais	TEST__7	Anglais	4	AUTO	f	1	Anglais
\.


--
-- TOC entry 5592 (class 0 OID 666604)
-- Dependencies: 257
-- Data for Name: mef; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY mef (id, code, formation, specialite, libelle_long, libelle_edition, mefstat11, mefstat4, annuaire_import_id, inserted) FROM stdin;
\.


--
-- TOC entry 5593 (class 0 OID 666613)
-- Dependencies: 259
-- Data for Name: modalite_cours; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY modalite_cours (code_sts, version, libelle_court, libelle_long, co_ens, id, no_ordre) FROM stdin;
\.


--
-- TOC entry 5594 (class 0 OID 666621)
-- Dependencies: 261
-- Data for Name: modalite_matiere; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY modalite_matiere (id, libelle, code, etablissement_id, version, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5595 (class 0 OID 666629)
-- Dependencies: 263
-- Data for Name: niveau; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY niveau (id, libelle_court, libelle_long, libelle_edition, annuaire_import_id, inserted) FROM stdin;
1	INDÉTERMINÉ	INDÉTERMINÉ	INDÉTERMINÉ	\N	f
4	TEST__1	Première	\N	\N	t
6	TEST__2	Terminale	\N	\N	t
8	TEST__3	BTS 1	\N	\N	t
10	TEST__4	BTS 2	\N	\N	t
12	TEST__5	6ème	\N	\N	t
\.


--
-- TOC entry 5596 (class 0 OID 666636)
-- Dependencies: 264
-- Data for Name: niveau_general; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY niveau_general (id, libelle, etablissement_id, version) FROM stdin;
\.


--
-- TOC entry 5597 (class 0 OID 666643)
-- Dependencies: 267
-- Data for Name: periode; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY periode (id, type_periode_id, date_debut, date_fin, date_fin_saisie, date_publication_bulletins, structure_enseignement_id, date_publication_releves) FROM stdin;
\.


--
-- TOC entry 5579 (class 0 OID 666486)
-- Dependencies: 232
-- Data for Name: personne; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY personne (id, autorite_id, nom, prenom, civilite_id, telephone_pro, telephone_perso, telephone_portable, fax, adresse, code_postal, ville, pays, date_naissance, sexe, photo, etablissement_rattachement_id, email, nom_normalise, prenom_normalise, regime_id, login, numero_bureau, id_sconet, porteur_ent_id, academie, inserted) FROM stdin;
4	4	dupond	mary	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	DUPOND	MARY	\N	\N	\N	\N	\N	\N	t
6	6	durand	paul	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	DURAND	PAUL	\N	\N	\N	\N	\N	\N	t
8	8	Durandine	Pauline	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	DURANDINE	PAULINE	\N	\N	\N	\N	\N	\N	t
10	10	Durand	Emilie	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	DURAND	EMILIE	\N	\N	\N	\N	\N	\N	t
\.


--
-- TOC entry 5598 (class 0 OID 666650)
-- Dependencies: 270
-- Data for Name: personne_propriete_scolarite; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY personne_propriete_scolarite (id, personne_id, propriete_scolarite_id, est_active, aaf_import_id, date_desactivation, date_debut, date_fin, compteur_references, udt_import_id, actif_avant_suppression, origine, annuaire_import_id, inserted) FROM stdin;
4	4	4	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
6	4	6	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
8	4	8	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
10	4	10	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
12	6	14	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
14	6	18	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
16	8	14	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
18	8	18	t	\N	\N	2013-09-23 11:18:42.811164	\N	\N	\N	\N	AUTO	\N	t
28	4	30	t	\N	\N	2013-09-23 11:18:42.85561	\N	\N	\N	\N	AUTO	\N	t
30	4	32	t	\N	\N	2013-09-23 11:18:42.85561	\N	\N	\N	\N	AUTO	\N	t
32	4	28	t	\N	\N	2013-09-23 11:18:42.85561	\N	\N	\N	\N	AUTO	\N	t
\.


--
-- TOC entry 5599 (class 0 OID 666658)
-- Dependencies: 272
-- Data for Name: porteur_ent; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY porteur_ent (id, code, nom, nom_court, email_projet, url_retour_logout, url_acces_ent, est_actif, import_id, date_desactivation, annuaire_import_id, inserted) FROM stdin;
4	ENT	Porteur Default pour tests et dev	Porteur Default	\N	http://localhost:8080/eliot-tdbase	http://localhost:8080/eliot-tdbase	t	\N	\N	\N	t
\.


--
-- TOC entry 5600 (class 0 OID 666668)
-- Dependencies: 274
-- Data for Name: preference_etablissement; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY preference_etablissement (id, etablissement_id, nb_annees_conservation_archives_bulletins, nb_annees_conservation_archives_cdt, version, nom_etablissement, adresse_1_etablissement, adresse_2_etablissement, code_postal_etablissement, ville_etablissement, logo_etablissement, cachet_etablissement, lvs_active, lvs_url, annee_scolaire_id, magister_url, magister_active, inserted) FROM stdin;
\.


--
-- TOC entry 5601 (class 0 OID 666682)
-- Dependencies: 276
-- Data for Name: propriete_scolarite; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY propriete_scolarite (id, etablissement_id, structure_enseignement_id, annee_scolaire_id, matiere_id, fonction_id, responsable_structure_enseignement, porteur_ent_id, annuaire_import_id, inserted, autorite_id) FROM stdin;
28	6	\N	1	4	7	\N	\N	\N	t	\N
30	4	\N	1	2	7	\N	\N	\N	t	\N
32	4	\N	1	1	7	\N	\N	\N	t	\N
34	6	\N	1	\N	7	\N	\N	\N	t	\N
36	4	\N	1	\N	7	\N	\N	\N	t	\N
12	\N	4	1	\N	5	\N	\N	\N	t	\N
14	\N	8	1	\N	5	\N	\N	\N	t	\N
16	\N	10	1	\N	5	\N	\N	\N	t	\N
18	\N	6	1	\N	5	\N	\N	\N	t	\N
4	\N	4	1	\N	7	\N	\N	\N	t	\N
6	\N	8	1	\N	7	\N	\N	\N	t	\N
8	\N	10	1	\N	7	\N	\N	\N	t	\N
10	\N	6	1	\N	7	\N	\N	\N	t	\N
\.


--
-- TOC entry 5602 (class 0 OID 666689)
-- Dependencies: 278
-- Data for Name: regime; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY regime (id, code) FROM stdin;
1	EXTERNAT
2	DEMI-PENSION
3	INTERNAT
\.


--
-- TOC entry 5603 (class 0 OID 666694)
-- Dependencies: 280
-- Data for Name: rel_classe_filiere; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY rel_classe_filiere (classe_id, filiere_id) FROM stdin;
\.


--
-- TOC entry 5604 (class 0 OID 666697)
-- Dependencies: 281
-- Data for Name: rel_classe_groupe; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY rel_classe_groupe (classe_id, groupe_id, inserted, annuaire_import_id) FROM stdin;
6	8	t	\N
10	8	t	\N
\.


--
-- TOC entry 5605 (class 0 OID 666700)
-- Dependencies: 282
-- Data for Name: rel_periode_service; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY rel_periode_service (id, service_id, periode_id, coeff, version, option, ordre, evaluable) FROM stdin;
\.


--
-- TOC entry 5606 (class 0 OID 666710)
-- Dependencies: 284
-- Data for Name: responsable_eleve; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY responsable_eleve (id, responsable_legal, parent, personne_id, eleve_id, est_active, import_id, date_desactivation, est_validee, actif_avant_suppression, annuaire_import_id, inserted) FROM stdin;
4	1	t	10	6	t	\N	\N	f	\N	\N	t
6	1	t	10	8	t	\N	\N	f	\N	\N	t
\.


--
-- TOC entry 5607 (class 0 OID 666719)
-- Dependencies: 286
-- Data for Name: service; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY service (id, version, nb_heures, co_ens, modalite_cours_id, matiere_id, structure_enseignement_id, version_import_sts, actif, origine, service_principal, choisi_pour_sport) FROM stdin;
\.


--
-- TOC entry 5608 (class 0 OID 666729)
-- Dependencies: 288
-- Data for Name: signature; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY signature (id, proprietaire_id, version, titre, image_signature) FROM stdin;
\.


--
-- TOC entry 5609 (class 0 OID 666737)
-- Dependencies: 290
-- Data for Name: source_import; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY source_import (id, code, libelle) FROM stdin;
1	STS	STSweb
2	AAF	Annuaire Académique Fédérateur
3	UDT	UnDeuxTEMPS
\.


--
-- TOC entry 5610 (class 0 OID 666740)
-- Dependencies: 291
-- Data for Name: sous_service; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY sous_service (id, coeff, service_id, modalite_matiere_id, version, ordre, evaluable, type_periode_id) FROM stdin;
\.


--
-- TOC entry 5611 (class 0 OID 666749)
-- Dependencies: 293
-- Data for Name: structure_enseignement; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY structure_enseignement (id, id_externe, type, version, etablissement_id, annee_scolaire_id, code, actif, niveau_id, annuaire_import_id, inserted, groupe_ent) FROM stdin;
4	TEST_C.TEST__6ème1	CLASSE	0	6	1	TEST__6ème1	t	12	\N	t	f
6	TEST_L.TEST__1ereA	CLASSE	0	4	1	TEST__1ereA	t	4	\N	t	f
10	TEST_L.TEST__Terminale_D	CLASSE	0	4	1	TEST__Terminale_D	t	6	\N	t	f
8	TEST_L.TEST__1ereA_G1	GROUPE	1	4	1	TEST__1ereA_G1	t	\N	\N	t	t
\.


--
-- TOC entry 5612 (class 0 OID 666758)
-- Dependencies: 295
-- Data for Name: structure_enseignement_preferences; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY structure_enseignement_preferences (id, structure_enseignement_id, niveau_general_id, version) FROM stdin;
\.


--
-- TOC entry 5613 (class 0 OID 666763)
-- Dependencies: 297
-- Data for Name: structure_enseignement_sts; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY structure_enseignement_sts (id, structure_enseignement_id, version_import_sts) FROM stdin;
\.


--
-- TOC entry 5614 (class 0 OID 666769)
-- Dependencies: 299
-- Data for Name: type_activite; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY type_activite (id, code, libelle, modifiable, etablissement_id, version) FROM stdin;
3	EVAL	Evaluation	f	\N	0
1	INTER	Activité interactive	t	\N	0
2	DMAIS	Devoir à la maison	t	\N	0
4	APSA	Activités Phys. Sport. & Art. 	f	\N	0
\.


--
-- TOC entry 5615 (class 0 OID 666774)
-- Dependencies: 301
-- Data for Name: type_periode; Type: TABLE DATA; Schema: ent; Owner: eliot_scolarite
--

COPY type_periode (id, libelle, version, intervalle, nature, etablissement_id) FROM stdin;
1	\N	0	S1	NOTATION	\N
2	\N	0	S2	NOTATION	\N
3	\N	0	T1	NOTATION	\N
4	\N	0	T2	NOTATION	\N
5	\N	0	T3	NOTATION	\N
6	\N	0	ANNEE	NOTATION	\N
\.


SET search_path = ent_2011_2012, pg_catalog;

--
-- TOC entry 5616 (class 0 OID 666784)
-- Dependencies: 303
-- Data for Name: calendrier; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY calendrier (id, jour_semaine_ferie, version, annee_scolaire_id, premier_jour, dernier_jour, etablissement_id) FROM stdin;
\.


--
-- TOC entry 5617 (class 0 OID 666787)
-- Dependencies: 304
-- Data for Name: enseignement; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY enseignement (enseignant_id, version, service_id, nb_heures, version_import_sts, actif, id, origine) FROM stdin;
\.


--
-- TOC entry 5618 (class 0 OID 666793)
-- Dependencies: 305
-- Data for Name: matiere; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY matiere (version, id, code_sts, libelle_court, code_gestion, libelle_edition, etablissement_id, origine, specialite, annee_scolaire_id, libelle_long) FROM stdin;
\.


--
-- TOC entry 5619 (class 0 OID 666800)
-- Dependencies: 306
-- Data for Name: modalite_matiere; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY modalite_matiere (id, libelle, code, etablissement_id, version, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5620 (class 0 OID 666806)
-- Dependencies: 307
-- Data for Name: periode; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY periode (id, type_periode_id, date_debut, date_fin, date_fin_saisie, date_publication_bulletins, structure_enseignement_id, date_publication_releves) FROM stdin;
\.


--
-- TOC entry 5621 (class 0 OID 666809)
-- Dependencies: 308
-- Data for Name: personne_propriete_scolarite; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY personne_propriete_scolarite (id, personne_id, propriete_scolarite_id, est_active, aaf_import_id, date_desactivation, date_debut, date_fin, compteur_references, udt_import_id, origine) FROM stdin;
\.


--
-- TOC entry 5622 (class 0 OID 666814)
-- Dependencies: 309
-- Data for Name: preference_etablissement; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY preference_etablissement (id, etablissement_id, nb_annees_conservation_archives_bulletins, nb_annees_conservation_archives_cdt, version, nom_etablissement, adresse_1_etablissement, adresse_2_etablissement, code_postal_etablissement, ville_etablissement, logo_etablissement, cachet_etablissement, lvs_active, lvs_url, sms_fournisseur_etablissement_id, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5623 (class 0 OID 666824)
-- Dependencies: 310
-- Data for Name: propriete_scolarite; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY propriete_scolarite (id, etablissement_id, structure_enseignement_id, annee_scolaire_id, niveau_id, matiere_id, mef_id, fonction_id, responsable_structure_enseignement, porteur_ent_id) FROM stdin;
\.


--
-- TOC entry 5624 (class 0 OID 666828)
-- Dependencies: 311
-- Data for Name: rel_classe_filiere; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY rel_classe_filiere (classe_id, filiere_id) FROM stdin;
\.


--
-- TOC entry 5625 (class 0 OID 666831)
-- Dependencies: 312
-- Data for Name: rel_classe_groupe; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY rel_classe_groupe (classe_id, groupe_id) FROM stdin;
\.


--
-- TOC entry 5626 (class 0 OID 666834)
-- Dependencies: 313
-- Data for Name: rel_periode_service; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY rel_periode_service (id, service_id, periode_id, coeff, version, option, ordre, evaluable) FROM stdin;
\.


--
-- TOC entry 5627 (class 0 OID 666846)
-- Dependencies: 314
-- Data for Name: service; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY service (id, version, nb_heures, co_ens, modalite_cours_id, matiere_id, structure_enseignement_id, version_import_sts, actif, origine, service_principal) FROM stdin;
\.


--
-- TOC entry 5628 (class 0 OID 666854)
-- Dependencies: 315
-- Data for Name: sous_service; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY sous_service (id, coeff, service_id, modalite_matiere_id, version, ordre, evaluable, type_periode_id) FROM stdin;
\.


--
-- TOC entry 5629 (class 0 OID 666861)
-- Dependencies: 316
-- Data for Name: structure_enseignement; Type: TABLE DATA; Schema: ent_2011_2012; Owner: eliot_scolarite
--

COPY structure_enseignement (id, id_externe, type, version, etablissement_id, annee_scolaire_id, type_intervalle, code, version_import_sts, actif, niveau_id, brevet_serie_id, date_publication_brevet) FROM stdin;
\.


SET search_path = entcdt, pg_catalog;

--
-- TOC entry 5630 (class 0 OID 666867)
-- Dependencies: 317
-- Data for Name: activite; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY activite (id, auteur_id, chapitre_id, contexte_activite_id, date_creation, date_modification, date_publication, titre, objectif, enonce, description, annotation_privee, ordre, est_publiee, est_terminee, code_matiere, cahier_de_textes_id, item_id, import_id, date_donnee_le, type_activite_id) FROM stdin;
\.


--
-- TOC entry 5631 (class 0 OID 666878)
-- Dependencies: 319
-- Data for Name: cahier_de_textes; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY cahier_de_textes (id, fichier_id, service_id, nom, description, date_creation, item_id, est_vise, annee_scolaire_id, droits_incomplets, parent_incorporation_id, import_id, etablissement_id, est_fusionne, est_masque) FROM stdin;
\.


--
-- TOC entry 5632 (class 0 OID 666889)
-- Dependencies: 321
-- Data for Name: chapitre; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY chapitre (id, chapitre_parent_id, auteur_id, nom, description, ordre, cahier_de_textes_id, import_id) FROM stdin;
\.


--
-- TOC entry 5633 (class 0 OID 666898)
-- Dependencies: 323
-- Data for Name: contexte_activite; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY contexte_activite (id, code, nom, description) FROM stdin;
\.


--
-- TOC entry 5634 (class 0 OID 666906)
-- Dependencies: 325
-- Data for Name: date_activite; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY date_activite (id, activite_id, date_activite, date_echeance, evenement_id) FROM stdin;
\.


--
-- TOC entry 5635 (class 0 OID 666911)
-- Dependencies: 327
-- Data for Name: dossier; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY dossier (id, acteur_id, nom, description, est_defaut, ordre) FROM stdin;
\.


--
-- TOC entry 5636 (class 0 OID 666920)
-- Dependencies: 329
-- Data for Name: fichier; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY fichier (id, nom, blob, id_externe, type_mime, datastore_code, migration_erreur_nb) FROM stdin;
\.


--
-- TOC entry 5637 (class 0 OID 666929)
-- Dependencies: 331
-- Data for Name: import; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY import (id, date_debut_import, date_fin_import) FROM stdin;
\.


--
-- TOC entry 5638 (class 0 OID 666934)
-- Dependencies: 333
-- Data for Name: rel_activite_acteur; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY rel_activite_acteur (activite_id, acteur_id, annotation, est_lu, est_termine, est_nouvelle, id) FROM stdin;
\.


--
-- TOC entry 5639 (class 0 OID 666945)
-- Dependencies: 335
-- Data for Name: rel_cahier_acteur; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY rel_cahier_acteur (cahier_de_textes_id, acteur_id, sera_notifie, alias_nom, id) FROM stdin;
\.


--
-- TOC entry 5640 (class 0 OID 666951)
-- Dependencies: 337
-- Data for Name: rel_cahier_groupe; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY rel_cahier_groupe (cahier_de_textes_id, groupe_id, notification_obligatoire, id) FROM stdin;
\.


--
-- TOC entry 5641 (class 0 OID 666957)
-- Dependencies: 339
-- Data for Name: rel_dossier_autorisation_cahier; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY rel_dossier_autorisation_cahier (dossier_id, autorisation_id, id) FROM stdin;
\.


--
-- TOC entry 5642 (class 0 OID 666962)
-- Dependencies: 341
-- Data for Name: ressource; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY ressource (id, activite_id, fichier_id, url, ordre, description, est_publiee, date_publication, type_ressource, catalogue_ressource_id_externe) FROM stdin;
\.


--
-- TOC entry 5643 (class 0 OID 666973)
-- Dependencies: 343
-- Data for Name: textes_preferences_utilisateur; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY textes_preferences_utilisateur (id, utilisateur_id, date_derniere_notification) FROM stdin;
\.


--
-- TOC entry 5644 (class 0 OID 666980)
-- Dependencies: 346
-- Data for Name: visa; Type: TABLE DATA; Schema: entcdt; Owner: eliot_scolarite
--

COPY visa (id, date_visee, auteur_personne_id, cahier_vise_id, commentaire, etablissement_uai) FROM stdin;
\.


SET search_path = entdemon, pg_catalog;

--
-- TOC entry 5645 (class 0 OID 666988)
-- Dependencies: 348
-- Data for Name: demande_traitement; Type: TABLE DATA; Schema: entdemon; Owner: eliot_scolarite
--

COPY demande_traitement (id, date_demande, date_debut_execution_traitement, date_fin_execution_traitement, date_annulation_execution_traitement, statut, traitement_type, traitement_rapport, traitement_args, demandeur_autorite_id, etablissement_id, annee_scolaire_id, nom) FROM stdin;
\.


SET search_path = entnotes, pg_catalog;

--
-- TOC entry 5646 (class 0 OID 666996)
-- Dependencies: 350
-- Data for Name: appreciation_classe_enseignement_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY appreciation_classe_enseignement_periode (id, classe_id, periode_id, appreciation, version, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5647 (class 0 OID 667004)
-- Dependencies: 352
-- Data for Name: appreciation_eleve_enseignement_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY appreciation_eleve_enseignement_periode (id, eleve_id, periode_id, appreciation, version, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5648 (class 0 OID 667012)
-- Dependencies: 354
-- Data for Name: appreciation_eleve_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY appreciation_eleve_periode (id, eleve_id, periode_id, appreciation, version) FROM stdin;
\.


--
-- TOC entry 5649 (class 0 OID 667020)
-- Dependencies: 356
-- Data for Name: avis; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY avis (id, version, libelle, ordre, type_id) FROM stdin;
\.


--
-- TOC entry 5650 (class 0 OID 667023)
-- Dependencies: 357
-- Data for Name: avis_eleve_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY avis_eleve_periode (id, version, avis_id, eleve_id, periode_id, type_avis_id) FROM stdin;
\.


--
-- TOC entry 5651 (class 0 OID 667030)
-- Dependencies: 360
-- Data for Name: brevet_epreuve; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_epreuve (id, code, libelle, note_max, indicative, optionnelle, personnalisable, notee, epreuve_exclusive_id, epreuve_matieres_a_heriter_id, serie_id, mode_calcul_note, exportable) FROM stdin;
1	101	FRANÇAIS	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
2	102	MATHEMATIQUES	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
3	103	PREMIERE LANGUE VIVANTE	20	f	f	t	t	\N	\N	1	PREMIERE_TROUVEE	t
4	104	SCIENCES DE LA VIE ET DE LA TERRE	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
5	105	PHYSIQUE-CHIMIE	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
7	107	ARTS PLASTIQUES	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
8	108	EDUCATION MUSICALE	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
9	109	TECHNOLOGIE	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
10	110	DEUXIEME LANGUE VIVANTE	20	f	f	t	t	\N	\N	1	PREMIERE_TROUVEE	t
11	112	VIE SCOLAIRE	20	f	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
12	113	OPTION FACULTATIVE	10	f	t	t	t	\N	\N	1	PREMIERE_TROUVEE	t
13	121	HISTOIRE-GEOGRAPHIE	20	t	f	f	t	\N	\N	1	PREMIERE_TROUVEE	t
14	122	EDUCATION CIVIQUE	20	t	f	f	t	\N	13	1	PREMIERE_TROUVEE	t
31	101	FRANÇAIS	20	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
32	102	MATHEMATIQUES	20	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
35	105	PREVENTION SANTE ENVIRONNEMENT	20	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
37	107	EDUCATION ARTISTIQUE	20	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
39	112	VIE SCOLAIRE	20	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
40	121	HISTOIRE-GEOGRAPHIE EDUCATION CIVIQUE	20	t	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
54	101	FRANÇAIS	20	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
55	102	MATHEMATIQUES	20	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
59	107	EDUCATION SOCIOCULTURELLE	20	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
61	112	VIE SCOLAIRE	20	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
62	121	HISTOIRE-GEOGRAPHIE EDUCATION CIVIQUE	20	t	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
15	130	NIVEAU A2 DE LANGUE REGIONALE	\N	t	t	f	f	\N	\N	1	PREMIERE_TROUVEE	t
41	130	NIVEAU A2 DE LANGUE REGIONALE	\N	t	t	f	f	\N	\N	3	PREMIERE_TROUVEE	t
63	130	NIVEAU A2 DE LANGUE REGIONALE	\N	t	t	f	f	\N	\N	5	PREMIERE_TROUVEE	t
56	103	PREMIERE LANGUE VIVANTE	20	f	f	f	t	\N	\N	5	MOYENNE	t
99	999	HISTOIRE DES ARTS	40	t	f	f	t	\N	\N	1	PREMIERE_TROUVEE	f
100	999	HISTOIRE DES ARTS	40	t	f	f	t	\N	\N	3	PREMIERE_TROUVEE	f
98	999	HISTOIRE DES ARTS	40	t	f	f	t	\N	\N	5	PREMIERE_TROUVEE	f
6	106	EDUCATION PHYSIQUE ET SPORTIVE	20	f	f	f	t	\N	\N	1	MOYENNE_SPORT	t
36	106	EDUCATION PHYSIQUE ET SPORTIVE	20	f	f	f	t	\N	\N	3	MOYENNE_SPORT	t
58	106	EDUCATION PHYSIQUE ET SPORTIVE	20	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
33	103	LANGUES VIVANTES	20	f	f	f	t	\N	\N	3	MOYENNE	t
38	108	SCIENCES ET TECHNOLOGIE	40	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
101	110	DECOUVERTE PROFESSIONNELLE	60	f	f	f	t	\N	\N	3	PREMIERE_TROUVEE	t
57	105	PREVENTION SANTE ENVIRONNEMENT	20	f	f	t	t	\N	\N	5	PREMIERE_TROUVEE	t
60	109	TECHNOLOGIE, SCIENCES ET DECOUVERTE DE LA VIE\n      PROFESSIONNELLE ET DES METIERS	60	f	f	f	t	\N	\N	5	PREMIERE_TROUVEE	t
\.


--
-- TOC entry 5652 (class 0 OID 667037)
-- Dependencies: 362
-- Data for Name: brevet_fiche; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_fiche (id, eleve_id, annee_scolaire_id, avis) FROM stdin;
\.


--
-- TOC entry 5653 (class 0 OID 667042)
-- Dependencies: 364
-- Data for Name: brevet_note; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_note (id, appreciation, valeur_numerique, valeur_textuelle_id, epreuve_id, matiere_id, fiche_id) FROM stdin;
\.


--
-- TOC entry 5654 (class 0 OID 667050)
-- Dependencies: 366
-- Data for Name: brevet_note_valeur_textuelle; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_note_valeur_textuelle (id, valeur) FROM stdin;
1	AB
2	DI
3	VA
4	NV
\.


--
-- TOC entry 5655 (class 0 OID 667053)
-- Dependencies: 367
-- Data for Name: brevet_rel_epreuve_matiere; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_rel_epreuve_matiere (id, epreuve_id, matiere_id) FROM stdin;
\.


--
-- TOC entry 5656 (class 0 OID 667058)
-- Dependencies: 369
-- Data for Name: brevet_rel_epreuve_note_valeur_textuelle; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_rel_epreuve_note_valeur_textuelle (brevet_epreuve_id, valeur_textuelle_id) FROM stdin;
1	1
2	1
3	1
3	2
4	1
4	2
5	1
5	2
6	1
6	2
7	1
7	2
8	1
8	2
9	1
9	2
10	1
10	2
11	1
12	1
12	2
13	1
14	1
15	1
15	3
15	4
31	1
32	1
33	1
33	2
35	1
35	2
36	1
36	2
37	1
37	2
38	1
38	2
39	1
40	1
41	1
41	3
41	4
54	1
55	1
56	1
56	2
57	1
57	2
58	1
58	2
59	1
59	2
60	1
60	2
61	1
62	1
63	1
63	3
63	4
99	1
100	1
98	1
101	1
101	2
\.


--
-- TOC entry 5657 (class 0 OID 667063)
-- Dependencies: 371
-- Data for Name: brevet_serie; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY brevet_serie (id, libelle_court, libelle_long, libelle_edition, annee_scolaire_id) FROM stdin;
1	Générale	GENERALE	Générale	1
3	Professionnelle sans option de série	PROFESSIONNELLE sans option de série	Professionnelle sans option de série	1
5	Professionnelle option de série Agricole	PROFESSIONNELLE option de série Agricole	Professionnelle option de série Agricole	1
\.


--
-- TOC entry 5658 (class 0 OID 667073)
-- Dependencies: 374
-- Data for Name: dirty_moyenne; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY dirty_moyenne (id, date_changement, eleve_id, classe_id, periode_id, service_id, sous_service_id, type_moyenne, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5659 (class 0 OID 667078)
-- Dependencies: 376
-- Data for Name: etablissement_notes; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY etablissement_notes (id, etablissement_id, "precision", annuaire_import_id) FROM stdin;
\.


--
-- TOC entry 5660 (class 0 OID 667087)
-- Dependencies: 378
-- Data for Name: evaluation; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY evaluation (id, titre, date_evaluation, description, coefficient, note_max_possible, est_publiable, version, date_creation, ordre, moyenne, modalite_matiere_id, enseignement_id, cree_par_webservice, type_activite_id, ramener_sur_20) FROM stdin;
\.


--
-- TOC entry 5661 (class 0 OID 667100)
-- Dependencies: 380
-- Data for Name: info_calcul_moyennes_classe; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY info_calcul_moyennes_classe (id, classe_id, calcul_en_cours, date_debut_calcul, date_fin_calcul, version, date_verrou) FROM stdin;
\.


--
-- TOC entry 5662 (class 0 OID 667108)
-- Dependencies: 383
-- Data for Name: modele_appreciation_professeur; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY modele_appreciation_professeur (id, autorite_id, texte, version) FROM stdin;
\.


--
-- TOC entry 5663 (class 0 OID 667116)
-- Dependencies: 385
-- Data for Name: note; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY note (id, valeur_numerique, evaluation_id, eleve_id, version, note_textuelle_id, choisie_pour_sport) FROM stdin;
\.


--
-- TOC entry 5664 (class 0 OID 667127)
-- Dependencies: 387
-- Data for Name: note_textuelle; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY note_textuelle (id, code, libelle, etablissement_id, version, annee_scolaire_id, inserted) FROM stdin;
\.


--
-- TOC entry 5805 (class 0 OID 671802)
-- Dependencies: 617
-- Data for Name: preference_utilisateur_notes; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY preference_utilisateur_notes (id, personne_id, rangs, moyennes_precedentes, version) FROM stdin;
\.


--
-- TOC entry 5665 (class 0 OID 667133)
-- Dependencies: 389
-- Data for Name: rel_evaluation_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY rel_evaluation_periode (evaluation_id, periode_id) FROM stdin;
\.


--
-- TOC entry 5666 (class 0 OID 667136)
-- Dependencies: 390
-- Data for Name: resultat_classe_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_classe_periode (structure_enseignement_id, periode_id, moyenne, moyenne_max, moyenne_min, id) FROM stdin;
\.


--
-- TOC entry 5667 (class 0 OID 667144)
-- Dependencies: 392
-- Data for Name: resultat_classe_service_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_classe_service_periode (structure_enseignement_id, service_id, periode_id, moyenne, moyenne_max, moyenne_min, id) FROM stdin;
\.


--
-- TOC entry 5668 (class 0 OID 667152)
-- Dependencies: 394
-- Data for Name: resultat_classe_sous_service_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_classe_sous_service_periode (id, moyenne, resultat_classe_service_periode_id, sous_service_id, moyenne_max, moyenne_min) FROM stdin;
\.


--
-- TOC entry 5669 (class 0 OID 667160)
-- Dependencies: 396
-- Data for Name: resultat_eleve_enseignement_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_eleve_enseignement_periode (id, periode_id, eleve_id, moyenne, enseignement_id, note_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5670 (class 0 OID 667169)
-- Dependencies: 398
-- Data for Name: resultat_eleve_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_eleve_periode (autorite_eleve_id, periode_id, moyenne, id, note_textuelle_id, rang, nb_eleves) FROM stdin;
\.


--
-- TOC entry 5671 (class 0 OID 667178)
-- Dependencies: 400
-- Data for Name: resultat_eleve_service_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_eleve_service_periode (autorite_eleve_id, service_id, periode_id, moyenne, id, note_textuelle_id, rang, nb_eleves, nb_notes) FROM stdin;
\.


--
-- TOC entry 5672 (class 0 OID 667187)
-- Dependencies: 402
-- Data for Name: resultat_eleve_sous_service_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_eleve_sous_service_periode (id, moyenne, resultat_eleve_service_periode_id, sous_service_id, note_textuelle_id, nb_notes) FROM stdin;
\.


--
-- TOC entry 5673 (class 0 OID 667196)
-- Dependencies: 404
-- Data for Name: resultat_enseignement_periode; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY resultat_enseignement_periode (id, periode_id, moyenne, moyenne_max, moyenne_min, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5674 (class 0 OID 667204)
-- Dependencies: 406
-- Data for Name: structure_enseignement_notes; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY structure_enseignement_notes (id, structure_enseignement_id, brevet_serie_id, date_publication_brevet, type_intervalle, version) FROM stdin;
\.


--
-- TOC entry 5675 (class 0 OID 667210)
-- Dependencies: 408
-- Data for Name: type_avis; Type: TABLE DATA; Schema: entnotes; Owner: eliot_scolarite
--

COPY type_avis (id, version, libelle, ordre, etablissement_id, inserted) FROM stdin;
\.


SET search_path = entnotes_2011_2012, pg_catalog;

--
-- TOC entry 5676 (class 0 OID 667216)
-- Dependencies: 410
-- Data for Name: appreciation_classe_enseignement_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY appreciation_classe_enseignement_periode (id, classe_id, periode_id, appreciation, version, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5677 (class 0 OID 667222)
-- Dependencies: 411
-- Data for Name: appreciation_eleve_enseignement_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY appreciation_eleve_enseignement_periode (id, eleve_id, periode_id, appreciation, version, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5678 (class 0 OID 667228)
-- Dependencies: 412
-- Data for Name: appreciation_eleve_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY appreciation_eleve_periode (id, eleve_id, periode_id, appreciation, version) FROM stdin;
\.


--
-- TOC entry 5679 (class 0 OID 667234)
-- Dependencies: 413
-- Data for Name: avis_eleve_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY avis_eleve_periode (id, version, avis_id, eleve_id, periode_id, type_avis_id) FROM stdin;
\.


--
-- TOC entry 5680 (class 0 OID 667237)
-- Dependencies: 414
-- Data for Name: brevet_epreuve; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_epreuve (id, code, libelle, note_max, indicative, optionnelle, personnalisable, notee, epreuve_exclusive_id, epreuve_matieres_a_heriter_id, serie_id) FROM stdin;
\.


--
-- TOC entry 5681 (class 0 OID 667240)
-- Dependencies: 415
-- Data for Name: brevet_fiche; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_fiche (id, eleve_id, annee_scolaire_id, avis) FROM stdin;
\.


--
-- TOC entry 5682 (class 0 OID 667243)
-- Dependencies: 416
-- Data for Name: brevet_note; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_note (id, appreciation, valeur_numerique, valeur_textuelle_id, epreuve_id, matiere_id, fiche_id) FROM stdin;
\.


--
-- TOC entry 5683 (class 0 OID 667249)
-- Dependencies: 417
-- Data for Name: brevet_rel_epreuve_matiere; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_rel_epreuve_matiere (id, epreuve_id, matiere_id) FROM stdin;
\.


--
-- TOC entry 5684 (class 0 OID 667252)
-- Dependencies: 418
-- Data for Name: brevet_rel_epreuve_note_valeur_textuelle; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_rel_epreuve_note_valeur_textuelle (brevet_epreuve_id, valeur_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5685 (class 0 OID 667255)
-- Dependencies: 419
-- Data for Name: brevet_serie; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY brevet_serie (id, libelle_court, libelle_long, libelle_edition, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5686 (class 0 OID 667261)
-- Dependencies: 420
-- Data for Name: evaluation; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY evaluation (id, titre, date_evaluation, description, coefficient, note_max_possible, est_publiable, version, date_creation, ordre, moyenne, modalite_matiere_id, enseignement_id, cree_par_webservice) FROM stdin;
\.


--
-- TOC entry 5687 (class 0 OID 667271)
-- Dependencies: 421
-- Data for Name: info_calcul_moyennes_classe; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY info_calcul_moyennes_classe (id, classe_id, calcul_en_cours, date_debut_calcul, date_fin_calcul, version, date_verrou) FROM stdin;
\.


--
-- TOC entry 5688 (class 0 OID 667275)
-- Dependencies: 422
-- Data for Name: note; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY note (id, valeur_numerique, evaluation_id, eleve_id, version, note_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5689 (class 0 OID 667283)
-- Dependencies: 423
-- Data for Name: note_textuelle; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY note_textuelle (id, code, libelle, etablissement_id, version, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5690 (class 0 OID 667286)
-- Dependencies: 424
-- Data for Name: rel_evaluation_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY rel_evaluation_periode (evaluation_id, periode_id) FROM stdin;
\.


--
-- TOC entry 5691 (class 0 OID 667289)
-- Dependencies: 425
-- Data for Name: resultat_classe_enseignement_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_classe_enseignement_periode (id, structure_enseignement_id, periode_id, moyenne, moyenne_max, moyenne_min, enseignement_id) FROM stdin;
\.


--
-- TOC entry 5692 (class 0 OID 667295)
-- Dependencies: 426
-- Data for Name: resultat_classe_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_classe_periode (structure_enseignement_id, periode_id, moyenne, moyenne_max, moyenne_min, id) FROM stdin;
\.


--
-- TOC entry 5693 (class 0 OID 667301)
-- Dependencies: 427
-- Data for Name: resultat_classe_service_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_classe_service_periode (structure_enseignement_id, service_id, periode_id, moyenne, moyenne_max, moyenne_min, id) FROM stdin;
\.


--
-- TOC entry 5694 (class 0 OID 667307)
-- Dependencies: 428
-- Data for Name: resultat_classe_sous_service_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_classe_sous_service_periode (id, moyenne, resultat_classe_service_periode_id, sous_service_id, moyenne_max, moyenne_min) FROM stdin;
\.


--
-- TOC entry 5695 (class 0 OID 667313)
-- Dependencies: 429
-- Data for Name: resultat_eleve_enseignement_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_eleve_enseignement_periode (id, periode_id, eleve_id, moyenne, enseignement_id, note_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5696 (class 0 OID 667320)
-- Dependencies: 430
-- Data for Name: resultat_eleve_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_eleve_periode (autorite_eleve_id, periode_id, moyenne, id, note_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5697 (class 0 OID 667327)
-- Dependencies: 431
-- Data for Name: resultat_eleve_service_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_eleve_service_periode (autorite_eleve_id, service_id, periode_id, moyenne, id, note_textuelle_id) FROM stdin;
\.


--
-- TOC entry 5698 (class 0 OID 667334)
-- Dependencies: 432
-- Data for Name: resultat_eleve_sous_service_periode; Type: TABLE DATA; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

COPY resultat_eleve_sous_service_periode (id, moyenne, resultat_eleve_service_periode_id, sous_service_id, note_textuelle_id) FROM stdin;
\.


SET search_path = enttemps, pg_catalog;

--
-- TOC entry 5699 (class 0 OID 667341)
-- Dependencies: 433
-- Data for Name: absence_journee; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY absence_journee (id, etablissement_id, date, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5700 (class 0 OID 667346)
-- Dependencies: 435
-- Data for Name: agenda; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY agenda (id, item_id, type_agenda_id, structure_enseignement_id, nom, description, date_creation, date_modification, etablissement_id, enseignant_id, droits_incomplets, couleur) FROM stdin;
\.


--
-- TOC entry 5701 (class 0 OID 667355)
-- Dependencies: 437
-- Data for Name: appel; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY appel (id, evenement_id, appelant_id, operateur_saisie_id, date_saisie, valide, date_heure_debut, date_heure_fin, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5702 (class 0 OID 667361)
-- Dependencies: 439
-- Data for Name: appel_ligne; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY appel_ligne (id, appel_id, autorite_id, motif_id, retard, presence, absence_justifiee, heure_arrivee, depart_anticipe, heure_depart, absence_previsionnelle, commentaire_arrivee, commentaire_depart, heure_debut, heure_fin, sanction_id, operateur_saisie_id, date_saisie, absence_journee_id, demi_pension, internat, dispense, matiere_id) FROM stdin;
\.


--
-- TOC entry 5703 (class 0 OID 667381)
-- Dependencies: 441
-- Data for Name: appel_plage_horaire; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY appel_plage_horaire (appel_id, plage_horaire_id) FROM stdin;
\.


--
-- TOC entry 5704 (class 0 OID 667384)
-- Dependencies: 442
-- Data for Name: date_exclue; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY date_exclue (id, date_exclue, evenement_id) FROM stdin;
\.


--
-- TOC entry 5705 (class 0 OID 667391)
-- Dependencies: 445
-- Data for Name: evenement; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY evenement (id, auteur_id, objet, lieu, description, uid, rappel, confidentialite, disponibilite, date_heure_debut, date_heure_fin, date_creation, date_modification, frequence, intervalle, date_debut_recurrence, date_fin_recurrence, occurence, agenda_maitre_id, toute_la_journee, critere, type_id, enseignement_id, udt_evenement_ids, recurrence) FROM stdin;
\.


--
-- TOC entry 5706 (class 0 OID 667400)
-- Dependencies: 447
-- Data for Name: groupe_motif; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY groupe_motif (id, preference_etablissement_absences_id, libelle, modifiable, ordre) FROM stdin;
\.


--
-- TOC entry 5707 (class 0 OID 667410)
-- Dependencies: 449
-- Data for Name: incident; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY incident (id, date, type_id, lieu_id, description, etablissement_id, gravite, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5708 (class 0 OID 667415)
-- Dependencies: 451
-- Data for Name: lieu_incident; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY lieu_incident (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5709 (class 0 OID 667420)
-- Dependencies: 453
-- Data for Name: motif; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY motif (id, libelle, couleur, groupe_motif_id, modifiable, dispo_bulletin, dispo_stats) FROM stdin;
\.


--
-- TOC entry 5710 (class 0 OID 667431)
-- Dependencies: 455
-- Data for Name: partenaire_a_prevenir; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY partenaire_a_prevenir (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5711 (class 0 OID 667434)
-- Dependencies: 456
-- Data for Name: partenaire_a_prevenir_incident; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY partenaire_a_prevenir_incident (id, incident_id, partenaire_a_prevenir_id) FROM stdin;
\.


--
-- TOC entry 5712 (class 0 OID 667441)
-- Dependencies: 459
-- Data for Name: plage_horaire; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY plage_horaire (id, preference_etablissement_absences_id, debut, fin, matin, version, lundi, mardi, mercredi, jeudi, vendredi, samedi, dimanche) FROM stdin;
\.


--
-- TOC entry 5713 (class 0 OID 667453)
-- Dependencies: 461
-- Data for Name: preference_etablissement_absences; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY preference_etablissement_absences (id, etablissement_id, pas_decompte_absences_retards, param_item_id, version, autorise_saisie_hors_edt, longueur_plage, annee_scolaire_id, taux_absences_calcul_mode, affichage_edt) FROM stdin;
\.


--
-- TOC entry 5714 (class 0 OID 667460)
-- Dependencies: 463
-- Data for Name: preference_utilisateur_agenda; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY preference_utilisateur_agenda (id, utilisateur_id, agenda_id, nom_personnalise, couleur, notification) FROM stdin;
\.


--
-- TOC entry 5715 (class 0 OID 667465)
-- Dependencies: 465
-- Data for Name: protagoniste_incident; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY protagoniste_incident (id, incident_id, autorite_id, qualite_id, type) FROM stdin;
\.


--
-- TOC entry 5716 (class 0 OID 667470)
-- Dependencies: 467
-- Data for Name: punition; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY punition (id, date, type_punition_id, effectue, description, incident_id, etablissement_id, eleve_id, censeur_id, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5717 (class 0 OID 667475)
-- Dependencies: 469
-- Data for Name: qualite_protagoniste; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY qualite_protagoniste (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5718 (class 0 OID 667480)
-- Dependencies: 471
-- Data for Name: rel_agenda_evenement; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY rel_agenda_evenement (evenement_id, agenda_id, id) FROM stdin;
\.


--
-- TOC entry 5719 (class 0 OID 667485)
-- Dependencies: 473
-- Data for Name: repeter_jour_annee; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY repeter_jour_annee (id, jour_annee, evenement_id) FROM stdin;
\.


--
-- TOC entry 5720 (class 0 OID 667490)
-- Dependencies: 475
-- Data for Name: repeter_jour_mois; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY repeter_jour_mois (id, jour_mois, evenement_id) FROM stdin;
\.


--
-- TOC entry 5721 (class 0 OID 667495)
-- Dependencies: 477
-- Data for Name: repeter_jour_semaine; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY repeter_jour_semaine (id, jour, evenement_id) FROM stdin;
\.


--
-- TOC entry 5722 (class 0 OID 667500)
-- Dependencies: 479
-- Data for Name: repeter_mois; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY repeter_mois (id, mois, evenement_id) FROM stdin;
\.


--
-- TOC entry 5723 (class 0 OID 667505)
-- Dependencies: 481
-- Data for Name: repeter_semaine_annee; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY repeter_semaine_annee (id, semaine_annee, evenement_id) FROM stdin;
\.


--
-- TOC entry 5724 (class 0 OID 667510)
-- Dependencies: 483
-- Data for Name: sanction; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY sanction (id, date, type_sanction_id, effectue, eleve_id, censeur_id, description, incident_id, absence_liee, debut_absence, fin_absence, motif_id, etablissement_id, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5725 (class 0 OID 667515)
-- Dependencies: 485
-- Data for Name: type_agenda; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY type_agenda (id, code, libelle) FROM stdin;
1	ETS	Agenda structure
2	ETE	Agenda Enseignement
3	CSE	Calendrier scolaire
4	STA	Agenda standard
\.


--
-- TOC entry 5726 (class 0 OID 667520)
-- Dependencies: 487
-- Data for Name: type_evenement; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY type_evenement (id, type) FROM stdin;
2	APPEL
3	JOUR_FERIE
4	FERMETURE_HEBDO
5	COURS
6	UTILISATEUR
7	UDT
\.


--
-- TOC entry 5727 (class 0 OID 667525)
-- Dependencies: 489
-- Data for Name: type_incident; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY type_incident (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5728 (class 0 OID 667530)
-- Dependencies: 491
-- Data for Name: type_punition; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY type_punition (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5729 (class 0 OID 667535)
-- Dependencies: 493
-- Data for Name: type_sanction; Type: TABLE DATA; Schema: enttemps; Owner: eliot_scolarite
--

COPY type_sanction (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


SET search_path = enttemps_2011_2012, pg_catalog;

--
-- TOC entry 5730 (class 0 OID 667540)
-- Dependencies: 495
-- Data for Name: absence_journee; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY absence_journee (id, etablissement_id, date, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5731 (class 0 OID 667543)
-- Dependencies: 496
-- Data for Name: agenda; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY agenda (id, item_id, type_agenda_id, structure_enseignement_id, nom, description, date_creation, date_modification, etablissement_id, enseignant_id, droits_incomplets, couleur) FROM stdin;
\.


--
-- TOC entry 5732 (class 0 OID 667550)
-- Dependencies: 497
-- Data for Name: appel; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY appel (id, evenement_id, appelant_id, operateur_saisie_id, date_saisie, valide, date_heure_debut, date_heure_fin, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5733 (class 0 OID 667554)
-- Dependencies: 498
-- Data for Name: appel_ligne; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY appel_ligne (id, appel_id, autorite_id, motif_id, retard, presence, absence_justifiee, heure_arrivee, depart_anticipe, heure_depart, absence_previsionnelle, commentaire_arrivee, commentaire_depart, heure_debut, heure_fin, sanction_id, operateur_saisie_id, date_saisie, absence_journee_id, demi_pension, internat) FROM stdin;
\.


--
-- TOC entry 5734 (class 0 OID 667572)
-- Dependencies: 499
-- Data for Name: appel_plage_horaire; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY appel_plage_horaire (appel_id, plage_horaire_id) FROM stdin;
\.


--
-- TOC entry 5735 (class 0 OID 667575)
-- Dependencies: 500
-- Data for Name: calendrier; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY calendrier (id, jour_semaine_ferie, version, annee_scolaire_id, premier_jour, dernier_jour, etablissement_id) FROM stdin;
\.


--
-- TOC entry 5736 (class 0 OID 667578)
-- Dependencies: 501
-- Data for Name: evenement; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY evenement (id, auteur_id, objet, lieu, description, uid, rappel, confidentialite, disponibilite, date_heure_debut, date_heure_fin, date_creation, date_modification, recurrence, frequence, intervalle, date_debut_recurrence, date_fin_recurrence, occurence, agenda_maitre_id, toute_la_journee, critere, type_id, enseignement_id, udt_evenement_ids) FROM stdin;
\.


--
-- TOC entry 5737 (class 0 OID 667584)
-- Dependencies: 502
-- Data for Name: groupe_motif; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY groupe_motif (id, preference_etablissement_absences_id, libelle, modifiable, ordre) FROM stdin;
\.


--
-- TOC entry 5738 (class 0 OID 667592)
-- Dependencies: 503
-- Data for Name: incident; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY incident (id, date, type_id, lieu_id, description, etablissement_id, gravite, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5739 (class 0 OID 667595)
-- Dependencies: 504
-- Data for Name: lieu_incident; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY lieu_incident (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5740 (class 0 OID 667598)
-- Dependencies: 505
-- Data for Name: motif; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY motif (id, libelle, couleur, groupe_motif_id, modifiable, dispo_bulletin, dispo_stats) FROM stdin;
\.


--
-- TOC entry 5741 (class 0 OID 667607)
-- Dependencies: 506
-- Data for Name: partenaire_a_prevenir; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY partenaire_a_prevenir (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5742 (class 0 OID 667610)
-- Dependencies: 507
-- Data for Name: partenaire_a_prevenir_incident; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY partenaire_a_prevenir_incident (id, incident_id, partenaire_a_prevenir_id) FROM stdin;
\.


--
-- TOC entry 5743 (class 0 OID 667613)
-- Dependencies: 508
-- Data for Name: plage_horaire; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY plage_horaire (id, preference_etablissement_absences_id, debut, fin, matin, version, lundi, mardi, mercredi, jeudi, vendredi, samedi, dimanche) FROM stdin;
\.


--
-- TOC entry 5744 (class 0 OID 667623)
-- Dependencies: 509
-- Data for Name: preference_etablissement_absences; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY preference_etablissement_absences (id, etablissement_id, pas_decompte_absences_retards, param_item_id, version, autorise_saisie_hors_edt, longueur_plage, annee_scolaire_id) FROM stdin;
\.


--
-- TOC entry 5745 (class 0 OID 667626)
-- Dependencies: 510
-- Data for Name: protagoniste_incident; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY protagoniste_incident (id, incident_id, autorite_id, qualite_id, type) FROM stdin;
\.


--
-- TOC entry 5746 (class 0 OID 667629)
-- Dependencies: 511
-- Data for Name: punition; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY punition (id, date, type_punition_id, effectue, description, incident_id, etablissement_id, eleve_id, censeur_id, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5747 (class 0 OID 667632)
-- Dependencies: 512
-- Data for Name: qualite_protagoniste; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY qualite_protagoniste (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5748 (class 0 OID 667635)
-- Dependencies: 513
-- Data for Name: rel_agenda_evenement; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY rel_agenda_evenement (evenement_id, agenda_id, id) FROM stdin;
\.


--
-- TOC entry 5749 (class 0 OID 667638)
-- Dependencies: 514
-- Data for Name: sanction; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY sanction (id, date, type_sanction_id, effectue, eleve_id, censeur_id, description, incident_id, absence_liee, debut_absence, fin_absence, motif_id, etablissement_id, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5750 (class 0 OID 667641)
-- Dependencies: 515
-- Data for Name: type_incident; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY type_incident (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5751 (class 0 OID 667644)
-- Dependencies: 516
-- Data for Name: type_punition; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY type_punition (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


--
-- TOC entry 5752 (class 0 OID 667647)
-- Dependencies: 517
-- Data for Name: type_sanction; Type: TABLE DATA; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

COPY type_sanction (id, libelle, preference_etablissement_absences_id) FROM stdin;
\.


SET search_path = forum, pg_catalog;

--
-- TOC entry 5753 (class 0 OID 667650)
-- Dependencies: 518
-- Data for Name: commentaire; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY commentaire (id, version, discussion_id, autorite_id, contenu, date_creation, code_etat_commentaire, libelle_auteur) FROM stdin;
\.


--
-- TOC entry 5754 (class 0 OID 667658)
-- Dependencies: 520
-- Data for Name: commentaire_lu; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY commentaire_lu (commentaire_id, version, autorite_id, date_lecture) FROM stdin;
\.


--
-- TOC entry 5755 (class 0 OID 667661)
-- Dependencies: 521
-- Data for Name: discussion; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY discussion (id, version, autorite_id, code_etat_discussion, code_type_moderation, libelle, date_creation, item_cible_id) FROM stdin;
\.


--
-- TOC entry 5756 (class 0 OID 667666)
-- Dependencies: 523
-- Data for Name: etat_commentaire; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY etat_commentaire (code, version, libelle) FROM stdin;
\.


--
-- TOC entry 5757 (class 0 OID 667669)
-- Dependencies: 524
-- Data for Name: etat_discussion; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY etat_discussion (code, version, libelle) FROM stdin;
\.


--
-- TOC entry 5758 (class 0 OID 667672)
-- Dependencies: 525
-- Data for Name: type_moderation; Type: TABLE DATA; Schema: forum; Owner: eliot_scolarite
--

COPY type_moderation (code, version, libelle) FROM stdin;
\.


SET search_path = impression, pg_catalog;

--
-- TOC entry 5802 (class 0 OID 671723)
-- Dependencies: 611
-- Data for Name: bulletin_options; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY bulletin_options (id, template_document_id, moyenne_generale, coefficient, moyenne_precedente, moyenne_min_max, nombre_notes, rangs, classe_id, portee) FROM stdin;
1	1	t	t	f	t	f	f	4	CONSULTATION
2	1	t	t	f	t	f	f	6	CONSULTATION
3	1	t	t	f	t	f	f	10	CONSULTATION
4	1	t	t	f	t	f	f	4	CONSEIL_DE_CLASSE
5	1	t	t	f	t	f	f	6	CONSEIL_DE_CLASSE
6	1	t	t	f	t	f	f	10	CONSEIL_DE_CLASSE
\.


--
-- TOC entry 5759 (class 0 OID 667675)
-- Dependencies: 526
-- Data for Name: publipostage_suivi; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY publipostage_suivi (id, media, periode, accuse_reception, accuse_envoi, classe_id, personne_id, operateur_id, template_document_id, date_envoi, version, type_fonctionnalite_id, etablissement_id, responsable_id, sms_fournisseur_etablissement_id, message_id_externe, erreur, statut) FROM stdin;
\.


--
-- TOC entry 5760 (class 0 OID 667683)
-- Dependencies: 528
-- Data for Name: sms_fournisseur; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY sms_fournisseur (id, nom, url_envoi_http, url_envoi_https, url_suivi_http) FROM stdin;
\.


--
-- TOC entry 5761 (class 0 OID 667689)
-- Dependencies: 529
-- Data for Name: sms_fournisseur_etablissement; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY sms_fournisseur_etablissement (id, sms_fournisseur_id, sms_login, sms_mot_de_passe, sms_identifiants_codes, sms_https_envoi, etablissement_id, actif) FROM stdin;
\.


--
-- TOC entry 5762 (class 0 OID 667696)
-- Dependencies: 532
-- Data for Name: template_champ_memo; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_champ_memo (id, champ, template, template_document_id, size) FROM stdin;
\.


--
-- TOC entry 5763 (class 0 OID 667704)
-- Dependencies: 534
-- Data for Name: template_document; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_document (id, nom, descriptif, media, template_eliot_id, etablissement_id, code, systeme, numero_version, actif, police, id_cachet) FROM stdin;
1	Bulletin de notes 1	Bulletin de notes 1	1	\N	\N	BULLETIN_NOTES_1	t	0	t	\N	\N
\.


--
-- TOC entry 5764 (class 0 OID 667715)
-- Dependencies: 536
-- Data for Name: template_document_sous_template_eliot; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_document_sous_template_eliot (id, param, template_document_id, template_eliot_id) FROM stdin;
\.


--
-- TOC entry 5765 (class 0 OID 667720)
-- Dependencies: 538
-- Data for Name: template_eliot; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_eliot (id, nom, descriptif, sous_rapport, template_jasper_id, type_donnees_id, type_fonctionnalite_id, code, numero_version, info_absences, info_retards, info_releve_notes, info_bulletin_notes, info_detail_absences, info_detail_retards) FROM stdin;
\.


--
-- TOC entry 5766 (class 0 OID 667734)
-- Dependencies: 540
-- Data for Name: template_jasper; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_jasper (id, jrxml, sous_template_id, jasper, param, template_dynamique_factory_classe) FROM stdin;
\.


--
-- TOC entry 5767 (class 0 OID 667742)
-- Dependencies: 542
-- Data for Name: template_type_donnees; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_type_donnees (id, libelle, code) FROM stdin;
3	Données\n      générales élèves	ELEVE_GENE
4	Données\n      de notes élèves	ELEVE_NOTES
5	Données\n      des absences élèves	ELEVE_ABSENCES
6	Données\n      des retards élèves	ELEVE_RETARDS
7	Données\n      de synthèse de notes de la classe	SYNTHESE_CLASSE_NOTES
8	Données liées au\n      brevet	ELEVE_BREVET
\.


--
-- TOC entry 5768 (class 0 OID 667747)
-- Dependencies: 544
-- Data for Name: template_type_fonctionnalite; Type: TABLE DATA; Schema: impression; Owner: eliot_scolarite
--

COPY template_type_fonctionnalite (id, libelle, parent_id, code) FROM stdin;
1	Général	\N	GENERAL
2	Gestion des notes	\N	NOTES
3	Gestion des absences	\N	ABSENCES
4	Bulletin de notes	2	BULLETIN_NOTES
5	Lettre	1	LETTRE
6	Lettre d'absences	3	LETTRE_ABSENCES
7	Lettre de retards	3	LETTRE_RETARDS
8	Appréciations	2	APPRECIATIONS
9	Relevé de notes	2	RELEVE_NOTES
10	Synthèse de notes	\N	SYNTHESE_NOTES
11	Brevet	\N	BREVET
12	Sms	\N	SMS
\.


SET search_path = notification, pg_catalog;

--
-- TOC entry 5769 (class 0 OID 667752)
-- Dependencies: 546
-- Data for Name: droit_fonction; Type: TABLE DATA; Schema: notification; Owner: eliot_scolarite
--

COPY droit_fonction (id, fonction_id, notification_type_id) FROM stdin;
1	2	1
2	8	1
3	12	1
4	9	1
5	6	2
6	2	3
7	8	3
8	12	3
9	9	3
10	5	4
11	6	4
12	2	5
13	8	5
14	12	5
15	9	5
\.


--
-- TOC entry 5770 (class 0 OID 667757)
-- Dependencies: 548
-- Data for Name: email_notification; Type: TABLE DATA; Schema: notification; Owner: eliot_scolarite
--

COPY email_notification (id, email, autorite_id) FROM stdin;
\.


--
-- TOC entry 5771 (class 0 OID 667762)
-- Dependencies: 550
-- Data for Name: notification_type; Type: TABLE DATA; Schema: notification; Owner: eliot_scolarite
--

COPY notification_type (id, code, libelle) FROM stdin;
1	SCOLARITE_MAJ_EMPLOI_DU_TEMPS	Mise à jour de l'emploi du temps
2	ABSENCES_SAISIE_ABSENCES_SANS_MOTIF	Saisie d'une absence sans motif
3	ABSENCES_FIN_PUBLISPOSTAGE	Fin d'impression du publipostage de lettres d'absences/retards
4	NOTES_PUBLIE_EVALUATION	Publication d'un nouveau devoir
5	NOTES_FIN_PUBLISPOSTAGE	Fin d’impression du publipostage des relevés de note, bulletin
\.


--
-- TOC entry 5772 (class 0 OID 667767)
-- Dependencies: 552
-- Data for Name: parametrage_etablissement; Type: TABLE DATA; Schema: notification; Owner: eliot_scolarite
--

COPY parametrage_etablissement (id, etablissement_id, notification_type_id, fonction_id, sms_actif, email_actif) FROM stdin;
\.


--
-- TOC entry 5773 (class 0 OID 667774)
-- Dependencies: 554
-- Data for Name: preference_utilisateur; Type: TABLE DATA; Schema: notification; Owner: eliot_scolarite
--

COPY preference_utilisateur (id, personne_id, sms_actif, email_actif, notification_type_id, etablissement_id) FROM stdin;
\.


SET search_path = parametrage_classe, pg_catalog;

--
-- TOC entry 5806 (class 0 OID 671847)
-- Dependencies: 620
-- Data for Name: creation_sous_services; Type: TABLE DATA; Schema: parametrage_classe; Owner: eliot_scolarite
--

COPY creation_sous_services (id, classe_id, nature_periode, type_periode_id, type_periode_coefficient1_id, type_periode_coefficient2_id, type_periode_coefficient3_id, type_periode_coefficient4_id) FROM stdin;
\.


--
-- TOC entry 5808 (class 0 OID 671911)
-- Dependencies: 623
-- Data for Name: creation_sous_services_etat; Type: TABLE DATA; Schema: parametrage_classe; Owner: eliot_scolarite
--

COPY creation_sous_services_etat (id, creation_sous_services_sous_matiere_id, etat, service_id) FROM stdin;
\.


--
-- TOC entry 5807 (class 0 OID 671881)
-- Dependencies: 622
-- Data for Name: creation_sous_services_sous_matiere; Type: TABLE DATA; Schema: parametrage_classe; Owner: eliot_scolarite
--

COPY creation_sous_services_sous_matiere (id, modalite_matiere_id, coefficient1, coefficient2, coefficient3, coefficient4, creation_sous_services_id) FROM stdin;
\.


--
-- TOC entry 5803 (class 0 OID 671750)
-- Dependencies: 614
-- Data for Name: report; Type: TABLE DATA; Schema: parametrage_classe; Owner: eliot_scolarite
--

COPY report (id, classe_source_id, nature_periode, type_periode_id, report_sous_services, report_ordre, report_coefficients, etablissement_id) FROM stdin;
\.


--
-- TOC entry 5804 (class 0 OID 671770)
-- Dependencies: 616
-- Data for Name: report_traitement; Type: TABLE DATA; Schema: parametrage_classe; Owner: eliot_scolarite
--

COPY report_traitement (id, report_id, classe_cible_id, service_cible_id, etat) FROM stdin;
\.


SET search_path = public, pg_catalog;

--
-- TOC entry 5774 (class 0 OID 667785)
-- Dependencies: 557
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: eliot_scolarite
--

COPY databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase) FROM stdin;
29	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.504752+02	423	MARK_RAN	3:ddb6eb2ee431a5f09c1d524bb3d85d95	Drop Column		\N	2.0.2
1	jtra	changelogs/securite/2013-03-27-0025761-2.xml	2013-09-23 10:48:46.380646+02	478	EXECUTED	\N	Insert Row	Passage en 2.9.1-B2	\N	2.0.2
-1	onic	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 10:48:26.127169+02	1	MARK_RAN	3:bc3e934de6a3376a1b319903ecad4713	Custom SQL	Création du language plpgsql	\N	2.0.2
0	fsil	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 10:48:29.817741+02	2	EXECUTED	3:baa73a109643e2c9451a82acaee22b4e	Custom SQL	Initialisation du schéma	\N	2.0.2
1	jbui	changelogs/securite/2011-12-14-0011796.xml	2013-09-23 10:48:29.831654+02	3	EXECUTED	3:b03324b20e5b0aa13b992e127a135436	Insert Row	Passage en 2.7.0-RC1	\N	2.0.2
1	jbui	changelogs/securite/2011-12-15-0011796.xml	2013-09-23 10:48:29.836801+02	4	EXECUTED	3:22c4d3ace74aa908149f827b4b833cc6	Insert Row	Passage en 2.7.1-SNAPSHOT	\N	2.0.2
1	msan	changelogs/securite/2011-12-15-0014296.xml	2013-09-23 10:48:29.863548+02	5	EXECUTED	3:e3e45ec2a5f238389215f0c6ef309b75	Modify data type (x2)	Passage int -> bigint	\N	2.0.2
1	msan	changelogs/securite/2011-12-19-0016895.xml	2013-09-23 10:48:29.884981+02	6	EXECUTED	3:a6bda8292cca461d9a7be8f465ccd0c1	Custom SQL (x4)	Passage timestamp with timezone -> timestamp without timezone	\N	2.0.2
1	msan	changelogs/securite/2011-12-20-0016866.xml	2013-09-23 10:48:29.89699+02	7	EXECUTED	3:64dee1504b0f30289bff0f4a95422a71	Rename Column (x6)	Mise a conformite de nommage	\N	2.0.2
2	msan	changelogs/securite/2011-12-20-0016866.xml	2013-09-23 10:48:29.908617+02	8	EXECUTED	3:e05c592cf90407066e68970fe7bc3dfd	Custom SQL (x6)	Mise a conformite de nommage	\N	2.0.2
3	msan	changelogs/securite/2011-12-20-0016866.xml	2013-09-23 10:48:31.009652+02	9	EXECUTED	3:4287ccced336a7eea95d409850075c23	Drop Index, Create Index, Drop Index, Create Index	Mise a conformite de nommage	\N	2.0.2
4	msan	changelogs/securite/2011-12-20-0016866.xml	2013-09-23 10:48:31.026584+02	10	EXECUTED	3:893f6c6f97f1e74b66b495dabc9ee489	Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint	Mise a conformite de nommage	\N	2.0.2
5	msan	changelogs/securite/2011-12-20-0016866.xml	2013-09-23 10:48:31.043734+02	11	EXECUTED	3:29920699587ab35bf502dacb68d5eb4c	Drop Foreign Key Constraint, Custom SQL, Drop Foreign Key Constraint, Custom SQL, Drop Foreign Key Constraint, Custom SQL	Mise a conformite de nommage	\N	2.0.2
1	jbui	changelogs/securite/2012-01-19-0011796.xml	2013-09-23 10:48:31.049394+02	12	EXECUTED	3:9b7e119dacaa0a918f5db6c27aee6116	Insert Row	Passage en 2.7.1-A1	\N	2.0.2
1	jbui	changelogs/securite/2012-03-30-0011796.xml	2013-09-23 10:48:31.054558+02	13	EXECUTED	3:7824b045fd95b3cbfeb53825c1bead84	Insert Row	Passage en 2.7.1-RC1	\N	2.0.2
1	jbui	changelogs/securite/2012-04-03-0011796.xml	2013-09-23 10:48:31.060536+02	14	EXECUTED	3:4546823a942e42b60bea307524d32f11	Insert Row	Passage en 2.7.2-SNAPSHOT	\N	2.0.2
1	jtra	changelogs/securite/2012-06-06-0011796.xml	2013-09-23 10:48:31.065315+02	15	EXECUTED	3:c993e7fa47596dc08d3eb0932fbeb426	Insert Row	Passage en 2.7.2 (la version 2.7.2 n'avais pas été tagguée)	\N	2.0.2
2	jtra	changelogs/securite/2012-06-06-0011796.xml	2013-09-23 10:48:31.069663+02	16	EXECUTED	3:10c7991df0e5f9d0c0edffecfd4fedc8	Insert Row	Passage en 2.8.0-A1	\N	2.0.2
1	jtra	changelogs/securite/2012-06-08-0011796.xml	2013-09-23 10:48:31.074344+02	17	EXECUTED	3:970a05ad66c2692ed2f986bdf9507eea	Insert Row	Passage en 2.8.0-RC1	\N	2.0.2
1	msan	changelogs/securite/2012-06-06-0020568.xml	2013-09-23 10:48:31.085123+02	18	EXECUTED	3:a9317296d521476900544ee0066d7b05	Add Column	Ajut de colonne valeur_permissions_explicite_defaut dans autorisation	\N	2.0.2
1	jtra	changelogs/securite/2012-06-13-0020725.xml	2013-09-23 10:48:31.106459+02	19	EXECUTED	3:1b1bf4fe497c9b4d9204175d39c10a21	Create Table, Create Sequence, Create Table, Create Sequence, Add Foreign Key Constraint	Mise en place du workflow de la bascule d'année	\N	2.0.2
2	jtra	changelogs/securite/2012-06-13-0020725.xml	2013-09-23 10:48:31.11384+02	20	EXECUTED	3:f4b64b7a6613b3c78c6d46932e7fcd16	Add Unique Constraint	Ajout de la contrainte d'unicité sur workflow_code	\N	2.0.2
3	jtra	changelogs/securite/2012-06-13-0020725.xml	2013-09-23 10:48:31.126002+02	21	EXECUTED	3:943b7e408ae5fc735f136b759663458b	Drop Table (x2), Drop Sequence (x2)	Suppression des tables workflow_execution et tache_execution	\N	2.0.2
4	jtra	changelogs/securite/2012-06-13-0020725.xml	2013-09-23 10:48:31.139474+02	22	EXECUTED	3:dc327f17830f8ba41b06015926805e8f	Create Table, Create Sequence	Création table etape	\N	2.0.2
5	jtra	changelogs/securite/2012-06-13-0020725.xml	2013-09-23 10:48:31.151411+02	23	EXECUTED	3:0030b70d92272154f3ae1fb1afd9a993	Rename Column, Modify data type, Add Unique Constraint	Améliorations table etape	\N	2.0.2
1	jcok	changelogs/securite/2012-06-21-0020901.xml	2013-09-23 10:48:31.157095+02	24	EXECUTED	3:d8550c9db13757f3c857a6314fae85a3	Drop Table	Suppression de la table historique, maintenant inutile pour la bascule d'année\n      (un système d'étapes historise maintenant la bascule)	\N	2.0.2
1	othe	changelogs/securite/2012-06-27-0021088.xml	2013-09-23 10:48:31.161848+02	25	EXECUTED	3:022c1fae165aabfd2ed6eec6938bd414	Insert Row	Passage en 2.8.1-RC1	\N	2.0.2
1	jbui	changelogs/securite/2012-07-10-0021428.xml	2013-09-23 10:48:31.168974+02	26	EXECUTED	3:8f4679ba55ff35e74e2ea470898356ef	Insert Row	Passage en 2.8.2-A1	\N	2.0.2
1	jtra	changelogs/securite/2012-07-20-0021632.xml	2013-09-23 10:48:31.173592+02	27	EXECUTED	3:fbbe3793da9a8c601fe4095c32e3341a	Insert Row	Passage en 2.8.2-RC1	\N	2.0.2
1	agia	changelogs/securite/2012-12-14-0024627.xml	2013-09-23 10:48:31.178134+02	28	EXECUTED	3:8526a9647133e63a23737236a86dbadf	Insert Row	Passage en 2.9.0-RC1	\N	2.0.2
1	ywan	changelogs/scolarite/2011-09-19-0014645.xml	2013-09-23 10:48:31.194565+02	29	EXECUTED	3:cec50a0ade70a1f4a1bac42bc53c81a3	Create Table, Create Sequence, Add Foreign Key Constraint, Create Index	Ajout d'une table 'ent.fiche_eleve_commentaire'	\N	2.0.2
2	ywan	changelogs/scolarite/2011-09-19-0014645.xml	2013-09-23 10:48:31.202067+02	30	EXECUTED	3:ad4bd6c9a9fbf80eb1596477f7f74cdc	Drop Index, Add Unique Constraint	Changement de fk en contraite unique	\N	2.0.2
1	othe	changelogs/scolarite/2011-09-20-0014292.xml	2013-09-23 10:48:31.207178+02	31	EXECUTED	3:0d6261cde9e98118af55ac19acfe6d63	Custom SQL	Modification de la table de suivi eleve	\N	2.0.2
2	othe	changelogs/scolarite/2011-09-20-0014292.xml	2013-09-23 10:48:31.219057+02	32	EXECUTED	3:3ab965ae7b99d6b1173d2c8589e47a74	Custom SQL	Ajout du flag actif dans la table des template document	\N	2.0.2
1	bper	changelogs/scolarite/2011-09-21-0014721.xml	2013-09-23 10:48:31.225294+02	33	EXECUTED	3:c159d1dfab59e737cff68be26ab096a2	Add Column	Ajout des colonnes 'login' et 'numero_bureau' dans la table 'ent.personne'	\N	2.0.2
1	bper	changelogs/scolarite/2011-09-26-0014836.xml	2013-09-23 10:48:31.234324+02	34	EXECUTED	3:048bc29fcc6ed2d196508ad4adff398b	Custom SQL (x2), Add Not-Null Constraint (x2)	Ajout de contraintes NOT NULL dans la table 'ent.matiere'	\N	2.0.2
1	jbui	changelogs/scolarite/2011-09-28-0014836.xml	2013-09-23 10:48:31.240211+02	35	EXECUTED	3:6a2df80c689a499466b31162c9a80ab7	Drop Not-Null Constraint (x2)	Suppression des contraintes not null sur ent.matiere.libelle_court et\n      ent.matiere.libelle_edition	\N	2.0.2
2	jbui	changelogs/scolarite/2011-09-28-0014836.xml	2013-09-23 10:48:31.248079+02	36	EXECUTED	3:f16820dd329e609f8092fe62406a63d4	Custom SQL (x2), Add Not-Null Constraint (x2)	Re-création des contraintes not-null sur ent.matiere.libelle_court et\n        ent.matiere.libelle_edition	\N	2.0.2
1	bper	changelogs/scolarite/2011-09-30-0014617.xml	2013-09-23 10:48:31.256844+02	37	EXECUTED	3:7ee02c98f3631a4f5b5ffe90a638c7cb	Custom SQL	Ajout de l'index conditionnel dans la table 'entdemon.demande_traitement'	\N	2.0.2
1	jtra	changelogs/scolarite/2011-10-05-0014955.xml	2013-09-23 10:48:31.264494+02	38	EXECUTED	3:9e3382f20152ab0bff1bfec3706fed7b	Drop Foreign Key Constraint, Add Foreign Key Constraint	Ajout du ON DELETE CASCADE entre discussion et Item	\N	2.0.2
1	bper	changelogs/scolarite/2011-11-16-0016053.xml	2013-09-23 10:48:31.271812+02	39	EXECUTED	3:46c5feff1dd15cb90b16f40bd7e6b1c4	Custom SQL, Add Unique Constraint	Ajout de UK sur la colonne 'classe_id' dans la table\n      'entnotes.dernier_changement_dans_classe'	\N	2.0.2
1	jbui	changelogs/scolarite/2011-11-22-0016112.xml	2013-09-23 10:48:31.276959+02	40	EXECUTED	3:663c87ef335c8cf5bfe68bda787e10c1	Custom SQL	Suppression des appel_ligne n'ayant ni appel_id, ni heure_debut ou\n      heure_fin	\N	2.0.2
2	jbui	changelogs/scolarite/2011-11-22-0016112.xml	2013-09-23 10:48:31.28144+02	41	EXECUTED	3:d38ebe0ac7c877c5f2e62f225337324d	Custom SQL	Ajout d'une contrainte check empêchant la création d'appel_ligne sans\n      appel_id ni heure_debut ni heure_fin.	\N	2.0.2
1	jtra	changelogs/scolarite/2011-11-24-0016194.xml	2013-09-23 10:48:31.288039+02	42	EXECUTED	3:f82e94d20328a6a7fa736448b65a08b1	Custom SQL (x3)	L'annomalie 0016194 a corrompu des absences journée transformées en appel\n      Ce script rétablit ces absences	\N	2.0.2
1	bper	changelogs/scolarite/2011-11-24-0016294.xml	2013-09-23 10:48:31.410876+02	43	EXECUTED	3:fbe0465d7dd1a2febf0b57f6fd87a9d8	Drop Foreign Key Constraint (x7), Drop Primary Key, Add Unique Constraint, Add Column, Create Sequence, Custom SQL, Add Not-Null Constraint, Add Primary Key, Add Column, Add Foreign Key Constraint, Custom SQL, Drop Index, Create Index, Drop Column (x2)...	Remplacement de clé composite par l'id dans la table 'ent.rel_enseignant_service'	\N	2.0.2
1	othe	changelogs/scolarite/2011-11-28-0016350.xml	2013-09-23 10:48:31.424022+02	44	EXECUTED	3:27fd389218e2d4fbfcfde2006486044b	Custom SQL	Le champ param de la table template_jasper peut être nullable	\N	2.0.2
1	jbui	changelogs/scolarite/2011-12-01-0016471.xml	2013-09-23 10:48:31.429738+02	45	EXECUTED	3:bfd8a74aa5f00feeb822b1d606a7e5fd	Custom SQL (x2)		\N	2.0.2
1	bper	changelogs/scolarite/2011-12-02-0016486.xml	2013-09-23 10:48:31.45806+02	46	EXECUTED	3:462b38449721deb38f531700bb2ea3f4	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Ajout des suppressions en cascade dans la table 'dirty_moyenne'	\N	2.0.2
1	bper	changelogs/scolarite/2011-12-05-0016246.xml	2013-09-23 10:48:31.465952+02	47	EXECUTED	3:f3309478ff49ad62e728ec9083eebd55	Add Column	Ajout de colonne 'date_verrou' dans la table 'entnotes.info_calcul_moyennes_classe'	\N	2.0.2
1	bper	changelogs/scolarite/2011-12-09-0016609.xml	2013-09-23 10:48:31.473676+02	48	EXECUTED	3:0e54b047f1fe2640e44581dc767ce6d4	Custom SQL	Changement de type de colonne 'date_verrou' dans la table 'entnotes.info_calcul_moyennes_classe'	\N	2.0.2
1	msan	changelogs/scolarite/2011-12-15-0014296.xml	2013-09-23 10:48:31.59775+02	49	EXECUTED	3:82128b3269a52c60a0787b709ff4b022	Drop View, Modify data type, Create View, Modify data type (x11)	Passage int -> bigint	\N	2.0.2
2	msan	changelogs/scolarite/2011-12-15-0014296.xml	2013-09-23 10:48:31.635165+02	50	EXECUTED	3:44dfe04c97c4af9e262d9fda37187eb0	Modify data type (x4)	Passage int -> bigint	\N	2.0.2
4	msan	changelogs/scolarite/2011-12-15-0014296.xml	2013-09-23 10:48:32.179506+02	51	EXECUTED	3:afe35caece42e29be073684f62c96ef9	Modify data type (x27)	Passage int -> bigint	\N	2.0.2
5	msan	changelogs/scolarite/2011-12-15-0014296.xml	2013-09-23 10:48:32.205093+02	52	EXECUTED	3:ba3b33724e422c6fe3a24fd0c7f45aa8	Modify data type	Passage int -> bigint	\N	2.0.2
1	msan	changelogs/scolarite/2011-12-19-0016895.xml	2013-09-23 10:48:32.357991+02	53	EXECUTED	3:a13da56cb5cc0781c119ce5abf8ba40c	Custom SQL (x19)	Passage timestamp with timezone -> timestamp without timezone	\N	2.0.2
2	msan	changelogs/scolarite/2011-12-19-0016895.xml	2013-09-23 10:48:32.37581+02	54	EXECUTED	3:4f8a5293cf9dcfc9440e7f01d8f1f8dc	Custom SQL (x2)	Passage timestamp without timezone -> date, ou la partie time ne sert a rien	\N	2.0.2
1	msan	changelogs/scolarite/2011-12-20-0016867.xml	2013-09-23 10:48:32.390891+02	55	EXECUTED	3:22152a946784c7c412fdac8689ec56ff	Drop Primary Key, Add Unique Constraint, Add Column, Create Sequence, Custom SQL, Add Not-Null Constraint, Add Primary Key	Remplacement de clé composite par l'id dans la table 'ent.rel_activite_acteur'	\N	2.0.2
2	msan	changelogs/scolarite/2011-12-20-0016867.xml	2013-09-23 10:48:32.406607+02	56	EXECUTED	3:4b05a467c7022284b5a3a2ff88604552	Drop Primary Key, Add Unique Constraint, Add Column, Create Sequence, Custom SQL, Add Not-Null Constraint, Add Primary Key	Remplacement de clé composite par l'id dans la table 'ent.rel_cahier_acteur'	\N	2.0.2
3	msan	changelogs/scolarite/2011-12-20-0016867.xml	2013-09-23 10:48:32.421019+02	57	EXECUTED	3:992f6af78942c810f3c4010235baf5e8	Drop Primary Key, Add Unique Constraint, Add Column, Create Sequence, Custom SQL, Add Not-Null Constraint, Add Primary Key	Remplacement de clé composite par l'id dans la table 'ent.rel_cahier_groupe'	\N	2.0.2
4	msan	changelogs/scolarite/2011-12-20-0016867.xml	2013-09-23 10:48:32.434975+02	58	EXECUTED	3:00a410b69ba488d49841a510f714c70d	Drop Primary Key, Add Unique Constraint, Add Column, Create Sequence, Custom SQL, Add Not-Null Constraint, Add Primary Key	Remplacement de clé composite par l'id dans la table 'ent.rel_dossier_autorisation_cahier'	\N	2.0.2
1	msan	changelogs/scolarite/2011-12-20-0016866.xml	2013-09-23 10:48:32.440856+02	59	EXECUTED	3:fdf35788dd0077d5f8a16e84f1964db6	Rename Table, Custom SQL	Renommage rel_enseignant_service -> enseignement	\N	2.0.2
2	msan	changelogs/scolarite/2011-12-20-0016866.xml	2013-09-23 10:48:32.445294+02	60	EXECUTED	3:f3f6c3a79c4c174f38d4cc69861904cd	Create Index	Mise a conformite de nommage	\N	2.0.2
1	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.462582+02	61	EXECUTED	3:78ffedec65d3cf0a990f82c9fc9d49b2	Rename Table (x7), Custom SQL (x7)	Mise a conformite de nommage	\N	2.0.2
2	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.467186+02	62	EXECUTED	3:30a41c0fa1cefc86266ef70bc46392ab	Custom SQL	Mise a conformite de nommage	\N	2.0.2
3	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.471765+02	63	EXECUTED	3:48b938efe13de8328c7c1c4c6e42f75e	Rename Column (x2)	Mise a conformite de nommage	\N	2.0.2
4	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.582842+02	64	EXECUTED	3:bea6a468ec47de166bc210c83b619557	Rename Column (x56), Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Unique Constraint, Add Unique Constraint, Drop Uniq...	Mise a conformite de nommage	\N	2.0.2
5	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.594136+02	65	EXECUTED	3:3d86dc73ae69be42b2e957683ee63e69	Drop Column	Colonne ne plus utilisee contexte_activite.proprietaire_id supprimee	\N	2.0.2
6	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.603859+02	66	EXECUTED	3:76f6374fba1db115364e15fc4bc7a392	Drop Table (x2)	Tables ne plus utilisees etat_chapitre et etat_dossier supprimees	\N	2.0.2
7	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.66308+02	67	EXECUTED	3:d9981f8749565b57b57285b691c53ec6	Drop Foreign Key Constraint (x3), Drop Primary Key, Add Primary Key, Add Foreign Key Constraint (x3), Rename Column, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Cons...	Mise a conformite de nommage	\N	2.0.2
8	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.693076+02	68	EXECUTED	3:5d7a76f6b8b16f1e1d7b5d21c0ce0027	Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Custom SQL	Mise a conformite de nommage	\N	2.0.2
9	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.700871+02	69	EXECUTED	3:ab08279b18b16f3a932aad0116ec8bbb	Drop Primary Key, Add Primary Key	Mise a conformite de nommage (correction de 8)	\N	2.0.2
10	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.721183+02	70	EXECUTED	3:faab9974f6f18e4bad95cd381aebe069	Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Index, Create Index, Drop Index, Create Index	Mise a conformite de nommage	\N	2.0.2
11	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.73866+02	71	EXECUTED	3:4fb251333856478ad95ea4ac8f8d9cca	Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Index, Create Index	Mise a conformite de nommage	\N	2.0.2
12	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.756357+02	72	EXECUTED	3:56932937f3ad5c90e276da65b88b224e	Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Unique Constraint, Add Unique Constraint	Mise a conformite de nommage	\N	2.0.2
13	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.802662+02	73	EXECUTED	3:3914e9788411fc8d508e558b8d284048	Drop Foreign Key Constraint (x9), Drop Primary Key, Add Primary Key, Add Foreign Key Constraint (x9), Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Unique Constraint, Add Unique Constraint	Mise a conformite de nommage	\N	2.0.2
14	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.826572+02	74	EXECUTED	3:ba3dd39d302caf798b7a55b8d3a3c47e	Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Index, Create Index	Mise a conformite de nommage	\N	2.0.2
15	msan	changelogs/scolarite/2011-12-21-0016866.xml	2013-09-23 10:48:32.837601+02	75	EXECUTED	3:91dd1ffcc475235f4593fc0128eea6b2	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Index, Create Index	Mise a conformite de nommage	\N	2.0.2
1	bper	changelogs/scolarite/2011-12-23-0016534.xml	2013-09-23 10:48:32.8493+02	76	EXECUTED	3:bda54d101d19221cbeb875a02936f022	Drop Column (x8)	Suppression des colonnes 'version' dans les tables 'resultat_xxx'	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:32.861518+02	77	EXECUTED	3:1a887b0548fcff678312858ca6f76a73	Rename Column (x9)	Mise a conformite de nommage	\N	2.0.2
2	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:32.895511+02	78	EXECUTED	3:c39604918d8bbe1c4f428a699f4bea13	Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Const...	Mise a conformite de nommage	\N	2.0.2
3	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:32.944658+02	79	EXECUTED	3:f6a3b1c7b6188e808e98654df6f61dfb	Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create Index, Drop Index, Create...	Mise a conformite de nommage	\N	2.0.2
4	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:32.957343+02	80	EXECUTED	3:fff6765d139ff77750c1f43b2923a243	Custom SQL (x6)	Mise a conformite de nommage	\N	2.0.2
5	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:32.965638+02	81	EXECUTED	3:cf42c05ea0e38ce3b3ca2a58f2b6aec0	Drop Index, Custom SQL	Mise a conformite de nommage	\N	2.0.2
6	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:33.094346+02	82	EXECUTED	3:5e4d98510ccedc13549104c5315c5292	Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint, Drop Unique Const...	Mise a conformite de nommage	\N	2.0.2
7	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:33.123928+02	83	EXECUTED	3:b69e7ec4b6d2bd4cc128fa0401240c79	Drop Foreign Key Constraint (x5), Drop Primary Key, Add Primary Key, Add Foreign Key Constraint (x5)	Mise a conformite de nommage	\N	2.0.2
8	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:33.199916+02	84	EXECUTED	3:9db6125fea56b6e703a34c5c2ec1e953	Drop Foreign Key Constraint (x13), Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Primary Key, Add Primary Key, Drop Pr...	Mise a conformite de nommage	\N	2.0.2
9	msan	changelogs/scolarite/2012-01-02-0016866.xml	2013-09-23 10:48:33.215779+02	85	EXECUTED	3:c91ab08bb81f3c862c7016222ac932c6	Drop Index, Create Index, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint	Mise a conformite de nommage	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.071141+02	86	EXECUTED	3:82892fb7c184ff514e7eac065d2e9026	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
2	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.116369+02	87	EXECUTED	3:f90f8ba507e0c98c2b0033491ef06f45	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
3	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.127828+02	88	EXECUTED	3:e676dec2ec3d2486bb652facc9902dc9	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint	Mise a conformite de nommage	\N	2.0.2
4	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.243627+02	89	EXECUTED	3:95db50efa2258de320b9061f1ace6b5f	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
5	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.391263+02	90	EXECUTED	3:db5f2d9638b81476a9f42d6e56c74137	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
6	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.429594+02	91	EXECUTED	3:8eaea7c351ced7a27edf406bec350a13	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
7	msan	changelogs/scolarite/2012-01-03-0016866.xml	2013-09-23 10:48:34.492667+02	92	EXECUTED	3:d7748bd724d119d8ce848a7af961fd5d	Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constra...	Mise a conformite de nommage	\N	2.0.2
1	jbui	changelogs/scolarite/2012-01-04-0016932.xml	2013-09-23 10:48:34.500726+02	93	EXECUTED	3:c5e895ee4897c83b77ca1a88a4f9a4b7	Custom SQL (x3)	Correction d'absences ayantdes flags incohérents et pose d'une contrainte.	\N	2.0.2
2	jbui	changelogs/scolarite/2012-01-04-0016932.xml	2013-09-23 10:48:34.505976+02	94	EXECUTED	3:501f86bc9f97501fa18bd41c1a3a83c1	Custom SQL (x2)	Correction des éventuelles appel_ligne ayant un flag retard à true\n      et pas d'heure d'arrivée. Pose d'une contrainte.	\N	2.0.2
3	jbui	changelogs/scolarite/2012-01-04-0016932.xml	2013-09-23 10:48:34.511093+02	95	EXECUTED	3:696bf997c6abe817ee9a231dd2428423	Custom SQL (x2)	Correction des éventuelles appel_ligne ayant un flag depart_anticipe\n      à true, et pas d'heure de départ. Pose d'une contrainte.	\N	2.0.2
1	jbui	changelogs/scolarite/2012-01-04-0014579.xml	2013-09-23 10:48:34.514468+02	96	EXECUTED	3:e3d3588cd96b28f724c26e9f27ae8ea9	Rename Column	Renommage de la colonne enttemps.appel_ligne.personne_id en autorite_id	\N	2.0.2
2	jbui	changelogs/scolarite/2012-01-04-0014579.xml	2013-09-23 10:48:34.520976+02	97	EXECUTED	3:70d4ea60af7be9ce8dd0f5f4692344c7	Drop Foreign Key Constraint, Add Foreign Key Constraint	Renommage de la foreign key fk_appel_ligne_autorite_personne en\n      fk_appel_ligne_autorite_eleve	\N	2.0.2
3	jbui	changelogs/scolarite/2012-01-04-0014579.xml	2013-09-23 10:48:34.527457+02	98	EXECUTED	3:f8b24836443122a246b1e3937b303886	Drop Unique Constraint, Add Unique Constraint	Renommage de la contrainte unique uk_appel_ligne_appel_id_personne_id en\n      uk_appel_ligne_appel_id_autorite_id	\N	2.0.2
4	jbui	changelogs/scolarite/2012-01-04-0014579.xml	2013-09-23 10:48:34.533326+02	99	EXECUTED	3:1bce9b702a398e905bd5cdcdebba400d	Drop Index, Create Index	Renommage de l'index idx_appel_ligne_personne_id en\n      idx_appel_ligne_autorite_id	\N	2.0.2
1	jbui	changelogs/scolarite/2012-01-06-0017199.xml	2013-09-23 10:48:34.541702+02	100	EXECUTED	3:e239717bc178e97a727e8cb62b7d01c3	Drop Column, Add Column, Add Foreign Key Constraint	Déplacement de la référence au niveau de ent.mef vers\n      ent.structure_enseignement.	\N	2.0.2
2	jbui	changelogs/scolarite/2012-01-06-0017199.xml	2013-09-23 10:48:34.546173+02	101	EXECUTED	3:be7459d853764f8f5906833bcb3bee09	Drop Column	Suppression du champ ent.niveau.code_mefstat4	\N	2.0.2
3	jbui	changelogs/scolarite/2012-01-06-0017199.xml	2013-09-23 10:48:34.551073+02	102	EXECUTED	3:74d0bcf456286b7a5469209969733959	Add Unique Constraint	Ajout d'une contrainte unique sur ent.niveau.libelle_court	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-10-0012729.xml	2013-09-23 10:48:34.555348+02	103	EXECUTED	3:f02658f691c29947b7eacd1b39628ada	Custom SQL	ajout de contraint sur appel_ligne	\N	2.0.2
2	msan	changelogs/scolarite/2012-01-10-0012729.xml	2013-09-23 10:48:34.566822+02	104	EXECUTED	3:8542a15d9fe1c4d67d4e3c20f5fb03ee	Custom SQL (x6)	mis a conformite des checks sur appel_ligne	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-11-0016370.xml	2013-09-23 10:48:34.575141+02	105	EXECUTED	3:a24bc9eaabb2a236966b9bb186709a94	Update Data (x2)	retards / départs anticipés / presences prévisionnels / non valables mis dans l'etat possible	\N	2.0.2
2	msan	changelogs/scolarite/2012-01-11-0016370.xml	2013-09-23 10:48:34.579607+02	106	EXECUTED	3:ee7aa911cbc8c917079bc9ccbeda68de	Custom SQL	ajout de contrainte sur appel_ligne pour eviter les situations impossibles	\N	2.0.2
1	bper	changelogs/scolarite/2012-01-11-0017223.xml	2013-09-23 10:48:34.585889+02	107	EXECUTED	3:0c1cce0df0b6a9c8d9126c91ae10cc40	Drop Table	Suppression de la table 'entnotes.dernier_changement_dans_classe'	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-11-0012216.xml	2013-09-23 10:48:34.597011+02	108	EXECUTED	3:8951e2922e9599e831aad33ed83ea583	Add Column, Custom SQL, Add Not-Null Constraint, Add Foreign Key Constraint, Add Unique Constraint	ajout de la colonne etablissement_id dans calendrier	\N	2.0.2
2	msan	changelogs/scolarite/2012-01-11-0012216.xml	2013-09-23 10:48:34.603835+02	109	EXECUTED	3:68400422d3643696e1b32a297dc2f677	Drop Foreign Key Constraint, Drop Unique Constraint, Drop Column	suppression de la colonne preference_etablissement_absences_id dans calendrier	\N	2.0.2
3		changelogs/scolarite/2012-01-11-0012216.xml	2013-09-23 10:48:34.608183+02	110	EXECUTED	3:e9911031cdc5e4dfd11719ab6faf71a1	Custom SQL	changement de schema de calendrier a ent	\N	2.0.2
4		changelogs/scolarite/2012-01-11-0012216.xml	2013-09-23 10:48:34.611839+02	111	EXECUTED	3:8b36ad54f2f929fb8c45cb4eff415c81	Custom SQL	changement de schema de calendier_id_seq a ent	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-12-0012216.xml	2013-09-23 10:48:34.617172+02	112	EXECUTED	3:f725b9a2a68c3efb0e89655596092e4d	Drop Column (x2)	suppression de dateDebut/dateFin d'anneeScolaire (les dates sont dans les calendriers de chaque etablissement)	\N	2.0.2
1	msan	changelogs/scolarite/2012-01-16-0017424.xml	2013-09-23 10:48:34.631354+02	113	EXECUTED	3:b85ececb0c68544993e239a702020e11	Add Column, Update Data (x2), Add Not-Null Constraint, Add Column, Custom SQL (x3)	Ajoute de colonne type dans entcdt.ressource	\N	2.0.2
1	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.644801+02	114	EXECUTED	3:1f91a4be691f74aa36f993e544300e38	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des types d'incident, types de\n      punition, types de sanction, La qualité des protagonistes, les partenaires\n      à prévenir, les lieux des incidents.	\N	2.0.2
2	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.655124+02	115	EXECUTED	3:2bf9fbebd01c3b3a1bc3a57c994814fa	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des types de punition	\N	2.0.2
3	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.665519+02	116	EXECUTED	3:da913fa7d61e9eddc719953cdafeda89	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des types de sanction	\N	2.0.2
4	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.675548+02	117	EXECUTED	3:4d544b6caa9816e7827fd4b0ecf93e88	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des qualité des protagonistes	\N	2.0.2
5	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.685632+02	118	EXECUTED	3:561851ee2427f67542f05a3f4b35aa01	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des partenaires à prévenir.	\N	2.0.2
6	jcok	changelogs/scolarite/2012-01-31-0017171.xml	2013-09-23 10:48:34.695964+02	119	EXECUTED	3:1a621edc6d9fdcdea2e8b686b1a0d143	Create Procedure, Custom SQL (x4)	Procedure stockée, va éliminer les doublons des lieux des incidents.	\N	2.0.2
1	bahj	changelogs/scolarite/2012-02-06-0017883.xml	2013-09-23 10:48:34.700813+02	120	EXECUTED	3:a8087ad6cba2221fc7a09b182ff36fce	Custom SQL	Création d'un objet Niveau de libellé court : "Indéterminé"\n            utilisé pour les structures de type classe dont le niveau\n            n'est pas renseigné	\N	2.0.2
2	bahj	changelogs/scolarite/2012-02-06-0017883.xml	2013-09-23 10:48:34.70497+02	121	EXECUTED	3:36098700fce546420c007bf10d3ca555	Custom SQL	Migration des d	\N	2.0.2
3	bahj	changelogs/scolarite/2012-02-06-0017883.xml	2013-09-23 10:48:34.709162+02	122	EXECUTED	3:8f9f59dd06cd790683fec0c153de3390	Custom SQL	Ajout d'une contrainte sur les niveaux associés au structures\n            d'enseignements.\n            - Si structure de type classe : niveau not null\n            - Si structure de type groupe : niveau null	\N	2.0.2
1	bahj	changelogs/scolarite/2012-02-07-0017883.xml	2013-09-23 10:48:34.713411+02	123	EXECUTED	3:fbdd8cf244a3ff2add4be9c64d41fcd4	Custom SQL		\N	2.0.2
1	jbui	changelogs/scolarite/2012-02-07-0017199.xml	2013-09-23 10:48:34.717672+02	124	EXECUTED	3:33fd92fcef95f2ea8566c6519e70b3e3	Add Column	Ajout de l'id sconet dans la table personne.	\N	2.0.2
1	jbui	changelogs/scolarite/2012-02-08-0017941.xml	2013-09-23 10:48:34.72989+02	125	EXECUTED	3:c3411a949b1fe10b4f84640fbd33f4b2	Add Column	Ajout de la colonne ent.matiere.specialite	\N	2.0.2
1	othe	changelogs/scolarite/2012-02-23-0018228.xml	2013-09-23 10:48:34.734151+02	126	EXECUTED	3:79e3d0b3bda73cbd41a232aa969e13c9	Add Column	Ajout de la colonne cachet sur les préférences établissement	\N	2.0.2
1	bahj-jcok	changelogs/scolarite/2012-02-22-0018209.xml	2013-09-23 10:48:34.757288+02	127	EXECUTED	3:7eee6f0895cb5f027a7b73e569f6733e	Add Column	Ajout des colonnes suivantes dans la table PreferencesEtablissement\n      - lvs_url : l'url vers lvs\n      - lvs_active : flag qui indique si le liaison vers lvs est active	\N	2.0.2
1	msan	changelogs/scolarite/2012-02-28-0018332.xml	2013-09-23 10:48:34.769304+02	128	EXECUTED	3:13cc842a9eb28fdf45e2cdde05353e4f	Create Table, Add Primary Key, Add Foreign Key Constraint, Create Sequence	Creation du tableau appel_en_cours	\N	2.0.2
2	msan	changelogs/scolarite/2012-02-28-0018332.xml	2013-09-23 10:48:34.781013+02	129	EXECUTED	3:20552130a8c4daf3d0699adef3e88033	Create Table, Add Primary Key, Add Foreign Key Constraint (x2)	Creation du tableau appel_en_cours_plage_horaire	\N	2.0.2
3	msan	changelogs/scolarite/2012-02-28-0018332.xml	2013-09-23 10:48:34.798119+02	130	EXECUTED	3:a8dfb1caafb61e13b3d07b44c86afef5	Add Column, Add Not-Null Constraint, Add Foreign Key Constraint (x2), Drop Foreign Key Constraint, Add Foreign Key Constraint	Ajout des champs dans appel_en_cours	\N	2.0.2
1	bper	changelogs/scolarite/2012-02-28-0018332-2.xml	2013-09-23 10:48:34.811691+02	131	EXECUTED	3:fb9d4cc147d5242d79676e5e02317e6d	Custom SQL	Changement de type des colonnes 'date_xxx' de la table 'appel_en_cours'	\N	2.0.2
2	bper	changelogs/scolarite/2012-02-28-0018332-2.xml	2013-09-23 10:48:34.81752+02	132	EXECUTED	3:ef8a7067fc2e526af1832c114788ecd5	Add Not-Null Constraint (x3)	Ajout des contraintes NOT NULL sur les colonnes 'date_xxx' de la table 'appel_en_cours'	\N	2.0.2
1	msan	changelogs/scolarite/2012-02-29-0018332.xml	2013-09-23 10:48:34.826644+02	133	EXECUTED	3:c58b03885dba62421a31e8cc30a14639	Drop Table (x2)	Suppression des tableaux appel_en_cours, appel_en_cours_plage_horaire	\N	2.0.2
1	othe	changelogs/scolarite/2012-03-01-0018401.xml	2013-09-23 10:48:34.831155+02	134	EXECUTED	3:4025318402a3f645c575f2d4ef0411ab	Custom SQL	Suppression de modèles usines éronés	\N	2.0.2
2	othe	changelogs/scolarite/2012-03-01-0018401.xml	2013-09-23 10:48:34.834455+02	135	EXECUTED	3:93e42cae295bc2a619b57224dbdb55ff	Custom SQL	Suppression de modèles usines éronés	\N	2.0.2
1	msan	changelogs/scolarite/2012-03-12-0018343.xml	2013-09-23 10:48:34.840752+02	136	EXECUTED	3:577d3bdf4136368c5ff32b83df1a2dda	Add Column, Rename Column, Custom SQL	Ajout de colonne periode.date_publication_releves	\N	2.0.2
2	msan	changelogs/scolarite/2012-03-12-0018343.xml	2013-09-23 10:48:34.845105+02	137	EXECUTED	3:3b27fd409366d102e55d63fac6c83263	Custom SQL	Positionnement de periode.date_publication_releves a la debut de la periode	\N	2.0.2
1	bper	changelogs/scolarite/2012-03-29-0018128.xml	2013-09-23 10:48:34.917433+02	138	EXECUTED	3:03b2cf80229b3935e2e256effe3e18f1	Create Table (x2), Add Foreign Key Constraint (x3), Add Unique Constraint, Create Table (x2), Add Unique Constraint, Add Foreign Key Constraint (x2), Create Table, Add Foreign Key Constraint (x3), Create Sequence, Create Table, Add Unique Constraint, A...	Ajout des tables pour la gestion de Brevet	\N	2.0.2
1	jbui	changelogs/scolarite/2012-03-29-0019221.xml	2013-09-23 10:48:34.93583+02	139	EXECUTED	3:012bb74c760888079ce1f5cdc9ef0eb7	Drop Not-Null Constraint, Add Column, Custom SQL, Add Column	Stockage des fichiers d'eliot-textes sur un NAS	\N	2.0.2
1	bper	changelogs/scolarite/2012-04-02-0018128.xml	2013-09-23 10:48:35.974658+02	140	EXECUTED	3:ec388e05e1275764a299cf93ff07716c	Insert Row (x104), Update Data, Insert Row (x30), Update Data, Insert Row (x143)	Ajout des données de Brevet	\N	2.0.2
1	bahj	changelogs/scolarite/2012-04-03-0019221.xml	2013-09-23 10:48:36.014264+02	141	EXECUTED	3:17c2052a445b462119496a2fde8fa6b4	Custom SQL (x3)	Mise à jour des données de type de persistance dans la table Fichier	\N	2.0.2
2	jtra	changelogs/scolarite/2012-04-03-0019221.xml	2013-09-23 10:48:36.019307+02	142	EXECUTED	3:5a27ff69e580a1e35a1d5c9ebbe44110	Custom SQL	Renommage des valeurs de type de persistance	\N	2.0.2
3	jbui	changelogs/scolarite/2012-04-03-0019221.xml	2013-09-23 10:48:36.026651+02	143	EXECUTED	3:c5238815298981da306bf86c49321ab6	Add Column, Custom SQL, Add Not-Null Constraint, Drop Column	Renommage de la colonne entcdt.fichier.type_persistance en datastore_code	\N	2.0.2
1	jbui	changelogs/scolarite/2012-04-10-0019469.xml	2013-09-23 10:48:36.036409+02	144	EXECUTED	3:f2002e53356200de7c0e158aea90eb51	Add Column	Ajout de la colonne entcdt.fichier.migration_erreur_nb	\N	2.0.2
1	bper	changelogs/scolarite/2012-04-11-0018128.xml	2013-09-23 10:48:36.041139+02	145	EXECUTED	3:fa9f3e8940d4729d641b49a40141eac3	Update Data	Correction de données dans la table 'brevet_epreuve'	\N	2.0.2
2	bper	changelogs/scolarite/2012-04-11-0018128.xml	2013-09-23 10:48:36.05234+02	146	EXECUTED	3:77f5486c4c4baca6ec5bf990b37bd9a2	Drop Table, Drop Sequence, Add Column, Add Foreign Key Constraint	Suppression de la table 'brevet_rel_epreuve_matiere_eleve'\n            Ajout de la colonne 'matiere_id' dans la table 'brevet_note'	\N	2.0.2
1	bper	changelogs/scolarite/2012-04-17-0018128.xml	2013-09-23 10:48:36.057805+02	147	EXECUTED	3:a23f7983b697390ef6578f4efd00bfbd	Add Unique Constraint	Ajout de UK dans la table 'brevet_note'	\N	2.0.2
1	bper	changelogs/scolarite/2012-04-17-0019367.xml	2013-09-23 10:48:36.061823+02	148	EXECUTED	3:06990ba3f0676351f7e726aecbff4bfe	Add Column	Ajout de la colenne 'brevet_avis' dans la table 'ent.personne'	\N	2.0.2
1	othe	changelogs/scolarite/2012-04-24-0019788.xml	2013-09-23 10:48:36.065548+02	149	EXECUTED	3:276ac9f4b6277e11aba842e597024734	Custom SQL	Ajout du type de donnée publipostage brevet	\N	2.0.2
2	othe	changelogs/scolarite/2012-04-24-0019788.xml	2013-09-23 10:48:36.069244+02	150	EXECUTED	3:6b6defef61603b07aeac40e8b7e6d079	Custom SQL	Ajout du type de fonctionnalité publipostage brevet	\N	2.0.2
1	bper	changelogs/scolarite/2012-04-26-0019847.xml	2013-09-23 10:48:36.083714+02	151	EXECUTED	3:f2cbd99e60c1e1f2a9b34fee8b47df74	Add Column, Update Data (x8), Add Not-Null Constraint	Ajout de la colonne 'libelle_edition' dans la table 'brevet_serie'	\N	2.0.2
1	jbui	changelogs/scolarite/2012-05-14-0008904.xml	2013-09-23 10:48:36.102187+02	152	EXECUTED	3:9ae7c7d505a7427451dd33202264ec67	Create Table, Add Primary Key, Create Sequence, Add Column, Add Foreign Key Constraint		\N	2.0.2
2	jbui	changelogs/scolarite/2012-05-14-0008904.xml	2013-09-23 10:48:36.122335+02	153	EXECUTED	3:7988c125f4cc89d22b950ae899e12da2	Drop Column, Add Column		\N	2.0.2
3	jbui	changelogs/scolarite/2012-05-14-0008904.xml	2013-09-23 10:48:36.127855+02	154	EXECUTED	3:2ea0700b91090d153132252a6b7109b7	Update Data		\N	2.0.2
1	othe	changelogs/scolarite/2012-05-11-0008904.xml	2013-09-23 10:48:36.138534+02	155	EXECUTED	3:e8e8f724e25eec2f8262dfe0468668f7	Add Column (x3), Add Foreign Key Constraint (x2)	Ajout du suivi des sms	\N	2.0.2
1	bper	changelogs/scolarite/2012-05-15-0018336.xml	2013-09-23 10:48:36.154019+02	156	EXECUTED	3:20e4f3b56848b12773f3f9e54367f832	Add Column	Ajout de la colonne 'precision' dans la table 'ent.etablissement'	\N	2.0.2
1	othe	changelogs/scolarite/2012-05-15-0008904-2.xml	2013-09-23 10:48:36.158488+02	157	EXECUTED	3:5055c583f00de086f5d22c2ad4da1624	Add Column	Ajout du suivi des sms	\N	2.0.2
1	jcok	changelogs/scolarite/2012-05-15-0008904.xml	2013-09-23 10:48:36.170334+02	158	EXECUTED	3:b4d9b892084d921dd1cb484fb4110fdb	Create Table, Add Primary Key, Create Sequence, Add Foreign Key Constraint		\N	2.0.2
2	jcok	changelogs/scolarite/2012-05-15-0008904.xml	2013-09-23 10:48:36.177346+02	159	EXECUTED	3:5656f81402198e725ff5986bb904f833	Add Column, Add Foreign Key Constraint	Ajout du lien de preference_etablissement vers sms_fournisseur_etablissement	\N	2.0.2
3	jcok	changelogs/scolarite/2012-05-15-0008904.xml	2013-09-23 10:48:36.184005+02	160	EXECUTED	3:24e306013b0021932d5bd242a7c3df8c	Add Column, Add Foreign Key Constraint		\N	2.0.2
4	jcok	changelogs/scolarite/2012-05-15-0008904.xml	2013-09-23 10:48:36.194796+02	161	EXECUTED	3:dd0c184d782c82720ecc85574825f5c9	Drop Column (x6)		\N	2.0.2
5	jcok	changelogs/scolarite/2012-05-15-0008904.xml	2013-09-23 10:48:36.201016+02	162	EXECUTED	3:b8a14cfee781b22223935219f4313260	Drop Column		\N	2.0.2
1	othe	changelogs/scolarite/2012-05-16-0008904.xml	2013-09-23 10:48:36.204716+02	163	EXECUTED	3:3383d9633284718ab343ec4eb2d783b6	Drop Column		\N	2.0.2
2	othe	changelogs/scolarite/2012-05-16-0008904.xml	2013-09-23 10:48:36.208563+02	164	EXECUTED	3:d7d68dd31f6ee23555cd0dafbcb1d181	Add Column		\N	2.0.2
1	othe	changelogs/scolarite/2012-05-16-0008904-2.xml	2013-09-23 10:48:36.212263+02	165	EXECUTED	3:706cc825d1949fed76036756e2f5db88	Drop Column		\N	2.0.2
2	othe	changelogs/scolarite/2012-05-16-0008904-2.xml	2013-09-23 10:48:36.216033+02	166	EXECUTED	3:0855e70aaec902c4d9fb63b48cc2994a	Add Column		\N	2.0.2
1	othe	changelogs/scolarite/2012-05-16-0008904-3.xml	2013-09-23 10:48:36.219756+02	167	EXECUTED	3:726a445bc9bac1959815f9d3046c039c	Custom SQL	Ajout du type de fonctionnalité sms	\N	2.0.2
1	othe	changelogs/scolarite/2012-05-21-0008904.xml	2013-09-23 10:48:36.236442+02	168	EXECUTED	3:700e14f4fe54d131a94c3462caf14172	Add Column (x3), Drop Column (x12)	Nouvelles colonnes pour les url	\N	2.0.2
1	bper	changelogs/scolarite/2012-05-18-0018337.xml	2013-09-23 10:48:36.240843+02	169	EXECUTED	3:f4ff2af6a77f7e94c4a2791668983554	Drop Column	Suppression de la colonne 'valeur_non_numerique' de la table 'ent.note'	\N	2.0.2
2	bper	changelogs/scolarite/2012-05-18-0018337.xml	2013-09-23 10:48:36.276665+02	170	EXECUTED	3:f482eef0f23b4b8b629a293afd045323	Create Table, Create Sequence, Add Foreign Key Constraint, Create Index (x2), Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Custom SQL, Add Column, Add Foreign Key Constraint, Custom SQL, Add Column, Add Foreign Key Co...	Ajout de la table 'entnotes.note_textuelle'	\N	2.0.2
3	bper	changelogs/scolarite/2012-05-18-0018337.xml	2013-09-23 10:48:36.28557+02	171	EXECUTED	3:842c0ecc828b3fa0c987b453c4a19adc	Create Procedure, Custom SQL (x3)	Ajout des valeurs par défaut dans la table 'entnotes.note_textuelle'	\N	2.0.2
4	bper	changelogs/scolarite/2012-05-18-0018337.xml	2013-09-23 10:48:36.289877+02	172	EXECUTED	3:2135b8babb756c9e3c356ab826218775	Custom SQL	Ajout de la containte 'check' dans la table 'entnotes.note'	\N	2.0.2
1	bper	changelogs/scolarite/2012-05-23-0018337.xml	2013-09-23 10:48:36.293844+02	173	EXECUTED	3:a5c8a0bc38e534226102943d56c15834	Drop Column	Suppression de la colonne non utilisée 'appreciation' de la table 'ent.note'	\N	2.0.2
1	othe	changelogs/scolarite/2012-05-24-0020322.xml	2013-09-23 10:48:36.297379+02	174	EXECUTED	3:a806bcf3d1f34ad344a495a4112f0cef	Drop Column	Suppression de la colonne lien https pour le ws suivi sms	\N	2.0.2
2	othe	changelogs/scolarite/2012-05-24-0020322.xml	2013-09-23 10:48:36.301093+02	175	EXECUTED	3:d90f8b7aeed4d6b6ac9f8a55cdd7208b	Add Column	Ajout colonne erreur protocole ws sms	\N	2.0.2
1	msan	changelogs/scolarite/2012-05-31-0020438.xml	2013-09-23 10:48:36.30502+02	176	EXECUTED	3:b4b9f8e2ac79c65b6588231878903880	Drop Column	Suppression de la colonne ordre de rel_dossier_autorisation_cahier qui n'est plus utilisee	\N	2.0.2
1	jbui	changelogs/scolarite/2012-05-30-0020385.xml	2013-09-23 10:48:36.308922+02	177	EXECUTED	3:5dd0f6ddb9b623919b23726a8164c0ce	Custom SQL		\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-01-0020479.xml	2013-09-23 10:48:36.314023+02	178	EXECUTED	3:85ab663d743a2864fa5bbb514fdf44ca	Custom SQL, Add Not-Null Constraint	Mise à jour des données existantes à la valeur par défaut erreur = 0\n      Ajout de la contrainte not null du champ erreur de la tabe\n      PublipostageSuivi	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-04-0020429.xml	2013-09-23 10:48:36.319183+02	179	EXECUTED	3:539a346290a985e39573582ec38efcb0	Drop Column, Add Column	Transformation de champ statut e la tabe PublipostageSuivien enum.	\N	2.0.2
1	msan	changelogs/scolarite/2012-06-05-0019775.xml	2013-09-23 10:48:36.329765+02	180	EXECUTED	3:e3779dc036cb4fc8968e836ee24bb034	Add Column	Ajut de colonne cree_par_webservice dans evaluation	\N	2.0.2
1	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.336534+02	181	EXECUTED	3:f837658bc91adc01a1f5a885787781ae	Add Column, Add Foreign Key Constraint	Annualisation des préferences (une preference-etablissement possède une année)	\N	2.0.2
2	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.340945+02	182	EXECUTED	3:88bd2dd9db561cdf878e3ac2bed1a0e9	Custom SQL	Mise à jour des préferences établissement en cours afin de leur attribuer l'année en cours	\N	2.0.2
3	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.34464+02	183	EXECUTED	3:8672593a3688a029e92e33972ccbb620	Custom SQL	Ajout de la contrainte de l'année scolaire en cours sur les preferences établissements\n      Les preferences etablissement ont forcement une année scolaire	\N	2.0.2
4	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.363344+02	184	EXECUTED	3:40f9508bd8cddea052897d5b4120dfbb	Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint	Rattachement des absences/appels/incidents/punitions/sanctions aux\n      preferences_etablissement (preferences maintenant rattachées à l'année scolaire)	\N	2.0.2
5	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.375185+02	185	EXECUTED	3:c546f5990d3395df9aa1ddcb84043fc9	Custom SQL (x5)	Mise à jour des absences, appels, incidents, punitions, sanctions,\n      afin de leur attibuer leur préferences_etablissement	\N	2.0.2
6	jcok	changelogs/scolarite/2012-06-12-0020668.xml	2013-09-23 10:48:36.383352+02	186	EXECUTED	3:0cd4b2cb95dd1b714cdd9e521d28895e	Custom SQL (x5)	Ajout de la contrainte de l'année scolaire en cours sur les preferences établissements\n      Les preferences etablissement ont forcement une année scolaire	\N	2.0.2
1	jcok	changelogs/scolarite/2012-06-14-0020668.xml	2013-09-23 10:48:36.389994+02	187	EXECUTED	3:21cb1ab65515f98a20137fdc492b8a13	Drop Foreign Key Constraint, Add Foreign Key Constraint	Correction de nommage d'une Foreign Key	\N	2.0.2
1	msan	changelogs/scolarite/2012-06-14-0020675.xml	2013-09-23 10:48:36.39711+02	188	EXECUTED	3:a805c7b62ef4c04a035b86aba69d7180	Add Column, Custom SQL, Add Not-Null Constraint	Ajout de colonne etablissement_uai dans visa	\N	2.0.2
2	msan	changelogs/scolarite/2012-06-14-0020675.xml	2013-09-23 10:48:36.402157+02	189	EXECUTED	3:c6d344d8c72c4e986fc99bc1ec865d89	Add Foreign Key Constraint	Ajout de FK visa -> etablissement	\N	2.0.2
1	bper	changelogs/scolarite/2012-06-14-0020725.xml	2013-09-23 10:48:36.409091+02	190	EXECUTED	3:fce10410772ba6c9bf70929c81886d91	Add Unique Constraint, Custom SQL	Ajout des contraintes d'unicité dans la table 'ent.annee_scolaire'	\N	2.0.2
2	bper	changelogs/scolarite/2012-06-14-0020725.xml	2013-09-23 10:48:36.414862+02	191	EXECUTED	3:5cafc30e28d8108e1d693f1a817aca02	Drop Unique Constraint, Add Unique Constraint	Correction faute d'orthographe sur la contrainte d'unicité dans la table 'ent.annee_scolaire'	\N	2.0.2
1	jcok	changelogs/scolarite/2012-06-14-0020668-2.xml	2013-09-23 10:48:36.419654+02	192	MARK_RAN	3:8c3c771b4ef94a456321c4297b462bbc	Drop Foreign Key Constraint, Add Foreign Key Constraint	Correction orthographe d'une foreign key de la table archive 2011_2012	\N	2.0.2
1	onic	changelogs/scolarite/2012-06-15-0020779.xml	2013-09-23 10:48:36.426387+02	193	EXECUTED	3:0d842892b9e219c34980372ba3fa9103	Add Column, Add Foreign Key Constraint	Annualisation des Notes textuelles	\N	2.0.2
2	onic	changelogs/scolarite/2012-06-15-0020779.xml	2013-09-23 10:48:36.429875+02	194	EXECUTED	3:0da07ff9174120d1820460f79b629dd4	Custom SQL	Mise à jour des notes textuelles en cours afin de leur attribuer l'année en cours	\N	2.0.2
3	onic	changelogs/scolarite/2012-06-15-0020779.xml	2013-09-23 10:48:36.433262+02	195	EXECUTED	3:cadce9eea5d19e30167dc4734e0f5e1e	Custom SQL	Ajout de la contrainte de l'année scolaire en cours sur les notes textuelles	\N	2.0.2
1	jbui	changelogs/scolarite/2012-06-19-0020672.xml	2013-09-23 10:48:36.441228+02	196	EXECUTED	3:682cf75b6839a1e86b335639e4cde56e	Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint	Annualisation de la table matiere	\N	2.0.2
2	jbui	changelogs/scolarite/2012-06-19-0020672.xml	2013-09-23 10:48:36.44926+02	197	EXECUTED	3:4a02029a52032652fca2d1f79bca3c50	Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint	Annualisation de la table modalite_matiere	\N	2.0.2
3	jbui	changelogs/scolarite/2012-06-19-0020672.xml	2013-09-23 10:48:36.45758+02	198	EXECUTED	3:87dbbffe1887f7de0dd3307c12dbba1c	Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint	Annualisation de la table preference_etablissement	\N	2.0.2
0	bper	changelogs/scolarite/2012-06-19-0020779.xml	2013-09-23 10:48:36.463192+02	199	EXECUTED	3:642a88fd476b7c53cadad07151f751c9	Custom SQL	Ajoute une année scolaire 2011-2012 comme année en cours	\N	2.0.2
1	bper	changelogs/scolarite/2012-06-19-0020779.xml	2013-09-23 10:48:36.499064+02	200	EXECUTED	3:1b667272f6bd281811d86d5906c6b7ad	Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint, Create Table, Create Sequence, Add Foreign Key Constraint (x2), Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint, Add Unique Constraint, Add Not-Nul...	Annualisation des données de Brevet	\N	2.0.2
2	bper	changelogs/scolarite/2012-06-19-0020779.xml	2013-09-23 10:48:36.511397+02	201	EXECUTED	3:c6b995786fda8789c18057ffeb6a47cf	Create Sequence (x3), Custom SQL	Ajout des séquences pour les tables de brevet	\N	2.0.2
1	jcok	changelogs/scolarite/2012-06-21-0020859.xml	2013-09-23 10:48:36.515792+02	202	EXECUTED	3:3d8ed525655b585aa5b6acaf05570a10	Drop Foreign Key Constraint	Suppression d'une Foreign Key redondante	\N	2.0.2
1	jcok	changelogs/scolarite/2012-06-21-0020809.xml	2013-09-23 10:48:36.52165+02	203	EXECUTED	3:ca8ff79cac9f4792e8e09bd5a9f37ad6	Drop Table	Suppression de la table preference_utilisateur,\n      Cette table était utilisée pour stocker le dernier établissement utilisé\n      par chaque utilisateur. Cela ne sert plus à rien.	\N	2.0.2
1	jbui	changelogs/scolarite/2012-06-25-0021013.xml	2013-09-23 10:48:36.527978+02	204	EXECUTED	3:4f570983a5495b80de72ab3367c6aace	Custom SQL, Add Foreign Key Constraint	Ajout d'une contrainte d'intégrité entre ent.personne_propriete_scolarite\n      et ent.propriete_scolarite.	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-27-0021058.xml	2013-09-23 10:48:36.57072+02	205	EXECUTED	3:411a13ec1613ceee1bb3cfddb7f60859	Custom SQL, Create Table, Create Sequence, Add Foreign Key Constraint, Create Table, Create Sequence, Add Foreign Key Constraint (x4), Create Table, Create Sequence, Add Foreign Key Constraint (x5)	Création du schéma udt et les tables udt.enseignement et\n      udt.emploi_du_temps qui vont servir au stockage temporaire des données udt	\N	2.0.2
1	jbui	changelogs/scolarite/archivage_2011_2012/bascule_creation_schema.xml	2013-09-23 10:48:37.147275+02	206	EXECUTED	3:d3f0b1580434e52b40d8509f393cefa6	SQL From File (x4)	Creation des schémas	\N	2.0.2
2	jbui	changelogs/scolarite/archivage_2011_2012/bascule_creation_schema.xml	2013-09-23 10:48:37.429603+02	207	EXECUTED	3:3c7a2b2874f5651dde1b161c2028d2f7	SQL From File (x4)	Création des contraintes d'intégrité référentielle	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-27-0021058-2.xml	2013-09-23 10:48:37.441198+02	208	EXECUTED	3:640532e9bb9b1e65f34e9f6562e4f4e4	Rename Table, Rename Column (x3), Drop Column, Add Column	renommage de la table udt.emploi_du_temps en udt.evenement et de\n      certaines colonnes	\N	2.0.2
2	bahj	changelogs/scolarite/2012-06-27-0021058-2.xml	2013-09-23 10:48:37.446487+02	209	EXECUTED	3:49c0eb123f3fe8a11daad7e5602d0031	Add Column	ajout de la colonne couleur dans la table enttemps.agenda	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-27-0021058-3.xml	2013-09-23 10:48:37.450425+02	210	EXECUTED	3:693478fee038acadc108bbf5663a0ce6	Rename Column	renommage de la colonne udt.evenement.idExterne	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-28-0021058.xml	2013-09-23 10:48:37.468885+02	211	EXECUTED	3:a549d8ccaccfc7267c4ca8b4769f2061	Drop Sequence, Create Sequence, Drop Column, Add Column, Drop Column, Add Column, Drop Column, Add Column (x2), Drop Not-Null Constraint, Rename Column (x2)	Modification du schéma udt	\N	2.0.2
2	bahj	changelogs/scolarite/2012-06-28-0021058.xml	2013-09-23 10:48:37.478811+02	212	EXECUTED	3:ccea8f5d4a5fe2060795cae07e8cde7f	Rename Column, Add Column, Add Foreign Key Constraint	Modification de la table ent.personne_propriete_scolarite	\N	2.0.2
3	bahj	changelogs/scolarite/2012-06-28-0021058.xml	2013-09-23 10:48:37.483457+02	213	EXECUTED	3:2ea0a107e018d9678c2a60cc4e03b753	Custom SQL	Ajout d'un type d'import dans la table ent.source_import	\N	2.0.2
1	bahj	changelogs/scolarite/2012-06-28-0021058-2.xml	2013-09-23 10:48:37.496683+02	214	EXECUTED	3:655d193f3cfda8abb898f924cd0053a8	Add Column (x2), Custom SQL (x2)	Ajout de la colonne udt.enseignement.etat\n      Ajout de la colonne udt.import.date_fin_import\n      Ajout d'une check constraint sur les valeur des colonnes :\n      udt.enseignement.etat\n      et udt.evenement.etat	\N	2.0.2
1	bahj	changelogs/scolarite/2012-07-02-0021058.xml	2013-09-23 10:48:37.503288+02	215	EXECUTED	3:5166b13aa4ba67aa9d8b9534cc37e07a	Drop Column, Add Column	Modification du type de la colonne udt.evenement.id_externe	\N	2.0.2
2	bahj	changelogs/scolarite/2012-07-02-0021058.xml	2013-09-23 10:48:37.529419+02	216	EXECUTED	3:caa5534d19450de8e2aaeb0633f565b6	Drop Primary Key, Drop Foreign Key Constraint (x5), Add Primary Key, Add Foreign Key Constraint (x5)	Renommage des constraints suite au renommage de la table udt.evenement	\N	2.0.2
3	bahj	changelogs/scolarite/2012-07-02-0021058.xml	2013-09-23 10:48:37.536186+02	217	EXECUTED	3:b35dc68c0294e1717c1d28bbad252448	Custom SQL	Ajout de nouveaux types d'événements	\N	2.0.2
4	bahj	changelogs/scolarite/2012-07-02-0021058.xml	2013-09-23 10:48:37.543111+02	218	EXECUTED	3:0cec1d63282989c316f0d8efbbcfc13d	Custom SQL	Reprise des données de la table enttemps.evenement.\n      Type événement SIMPLE => 'COURS' événements agendas scolaires\n      Type événement SIMPLE => 'UTILISATEUR' événements agendas personnels	\N	2.0.2
5	bahj	changelogs/scolarite/2012-07-02-0021058.xml	2013-09-23 10:48:37.556946+02	219	EXECUTED	3:ffa1eea03f1afd549df49bc7a3cf34a0	Custom SQL, Add Column, Rename Column, Add Column, Add Foreign Key Constraint	Mise à jour du schéma de la bascule d'année	\N	2.0.2
1	bahj	changelogs/scolarite/2012-07-04-0021058.xml	2013-09-23 10:48:37.562786+02	220	EXECUTED	3:5839268074c2039188824f3862144dc1	Add Column (x2)	Ajout de la colonne enttemps.evenement.udt_evenement_ids et\n      enttemps_2011_2012.evenement.udt_evenement_ids	\N	2.0.2
2	bper	changelogs/scolarite/2012-07-04-0021058.xml	2013-09-23 10:48:37.567708+02	221	EXECUTED	3:f863a426acbf6450c6abc89312f5f6dc	Add Column	Ajout de la colonne 'annnee' dans la table udt.evenement	\N	2.0.2
1	jbui	changelogs/scolarite/2012-07-06-0021322.xml	2013-09-23 10:48:38.235109+02	222	EXECUTED	3:e866f9c74b7be064edb35d2805880738	Custom SQL, Add Not-Null Constraint	Ajout d'une contrainte not null sur date_activite.activite_id	\N	2.0.2
1	bper	changelogs/scolarite/2012-07-13-0021479.xml	2013-09-23 10:48:38.23901+02	223	EXECUTED	3:2398d97cc2f6637d3f5f8d2fcc439abf	Drop Not-Null Constraint	Suppression da la contrainte not null sur la colonne 'type_evenement_id' de la table 'udt.evenement'	\N	2.0.2
1	jbui	changelogs/scolarite/2012-07-13-0021058.xml	2013-09-23 10:48:38.244126+02	224	EXECUTED	3:a0bee63b1b8e43ea747b99ea79640a64	Rename Column, Add Column	Ajout de la date de fin de pré-traitement dans udt.import\n      et renommage de la colonne date en date_debut_pre_traitement	\N	2.0.2
1	jcok	changelogs/scolarite/2012-07-13-0021466.xml	2013-09-23 10:48:38.249613+02	225	EXECUTED	3:ed2d6340ce8c2b1dc2e2c5a66b3448c1	Add Column (x2)	Ajout de la colonne preference_etablissement.magister_url et\n      preference_etablissement.magister_active.	\N	2.0.2
1	jbui	changelogs/scolarite/2012-07-16-0021058.xml	2013-09-23 10:48:38.258617+02	226	EXECUTED	3:1120235396088b2d035bf384842df83a	Drop Column (x3), Custom SQL (x3)	Passage des la colonnes de udt.import en "timestamp without time zone".	\N	2.0.2
2	bahj	changelogs/scolarite/2012-07-16-0021058.xml	2013-09-23 10:48:38.264309+02	227	EXECUTED	3:77df44ae91d81bf8fe2fa9f38983d6cc	Drop Column	Suppression de la colonne udt.evenement.type_evenement_id	\N	2.0.2
1	jbui	changelogs/scolarite/2012-07-17-0021563.xml	2013-09-23 10:48:38.270894+02	228	EXECUTED	3:6d85608359f1b20b8bb6291da3acb3fa	Update Data, Add Not-Null Constraint	Ajout d'une contrainte not null sur le champ\n      ent.structure_enseignement.version_import_sts.	\N	2.0.2
1	bper	changelogs/scolarite/2012-07-18-0021560.xml	2013-09-23 10:48:38.276734+02	229	EXECUTED	3:5410be6a256d7934b9f9ac1b6bdfec77	Custom SQL	Ajout des index dans les tables du schéma udt.	\N	2.0.2
1	jtra	changelogs/scolarite/2012-07-20-0021619.xml	2013-09-23 10:48:38.290277+02	230	EXECUTED	3:41bd1171e6411477f157998314468331	Add Column, Add Unique Constraint	0021619: Rajouter un champ de version dans la table des fournisseurs	\N	2.0.2
1	jcok	changelogs/scolarite/2012-07-23-0021654.xml	2013-09-23 10:48:38.294972+02	231	EXECUTED	3:c72c0d63181a61944645bc3c46991db6	Custom SQL	0021654: Rendre le champ "magisterActive" Not Null, et le mettre à false\n      Afin de garder la cohérence avec la classe de domaine Preferences_etablissement\n      et valider le fait qu'un boolen ne doit pas rester à null dans la bdd	\N	2.0.2
2	jcok	changelogs/scolarite/2012-07-23-0021654.xml	2013-09-23 10:48:38.299133+02	232	EXECUTED	3:010186237510ed4420ec43b3c723cd16	Add Not-Null Constraint		\N	2.0.2
1	onic	changelogs/securite/2012-07-09-0020830.xml	2013-09-23 10:48:38.303666+02	233	EXECUTED	3:1cc281f592b969dc48be28b246e56d49	Add Column	Ajout de la colonne etat sur la table autorite	\N	2.0.2
1	onic	changelogs/scolarite/2012-07-09-0020830-2.xml	2013-09-23 10:48:38.31106+02	234	EXECUTED	3:6c6e8c0fd88ed165e871096b65034f91	Add Column (x3)	Ajout de la colonne actifAvantSuppression sur les tables\n            personne_propriete_scolarite, responsable_eleve et\n            responsable_propriete_scolarite	\N	2.0.2
1	onic	changelogs/securite/2012-07-09-0020830-3.xml	2013-09-23 10:48:38.316501+02	235	EXECUTED	3:d521cd81557cdd38308d8e9672362c8b	Custom SQL (x2)	Migration des données pour la suppression logique	\N	2.0.2
1	bahj	changelogs/scolarite/2012-07-27-0021858.xml	2013-09-23 10:48:38.327509+02	236	EXECUTED	3:a0828024187e8330b3992627903ba3a2	Drop Unique Constraint, Add Unique Constraint, Drop Unique Constraint, Add Unique Constraint	Modification des contraintes unique sur les matières\n      qui ne prennet pas en compte l'année sccolaire	\N	2.0.2
1	jtra	changelogs/scolarite/2012-08-21-0021984.xml	2013-09-23 10:48:38.341059+02	237	EXECUTED	3:678e18bbf7e4c579c780eb2438ad8aed	Add Column, Add Foreign Key Constraint, Add Unique Constraint, Drop Column	Modification de la gestion de la relation Fournisseur SMS / Etablissement\n      Chaque etablissement dispose d'une liste de fournisseur, 1 seul pouvant\n      être actif à un instant t	\N	2.0.2
2	jtra	changelogs/scolarite/2012-08-21-0021984.xml	2013-09-23 10:48:38.347099+02	238	EXECUTED	3:e023b0ece39d8e809c24f96489fb4ebf	Add Unique Constraint	Ajout d'une contrainte d'unicité établissement-fournisseur	\N	2.0.2
1	jcok	changelogs/scolarite/2012-08-23-0021984.xml	2013-09-23 10:48:38.352474+02	239	EXECUTED	3:09d424ce9746814cb009730611ddcee6	Drop Column	retrait de la colonne 'fournisseurVersion' de la table SmsFournisseur\n      Les fournisseurs Sms ne sont plus versionnés.	\N	2.0.2
1	bper	changelogs/scolarite/2012-08-27-0022052.xml	2013-09-23 10:48:38.361576+02	240	EXECUTED	3:6cf34a6753f4f421f556f4de16120236	Add Column, Custom SQL, Add Default Value, Add Not-Null Constraint	Ajout de la colonne 'origine' dans la table 'ent.enseignement'	\N	2.0.2
2	bper	changelogs/scolarite/2012-08-27-0022052.xml	2013-09-23 10:48:38.366087+02	241	EXECUTED	3:a31d54e46d224aa99548c1d497cdd295	Drop Column	Suppression de la colonne 'libelle_matiere' dans la table 'ent.service'	\N	2.0.2
3	agia	changelogs/scolarite/2012-08-27-0022052.xml	2013-09-23 10:48:38.374378+02	242	EXECUTED	3:ba7067a94f14759db366bb2d514b60c5	Add Column, Custom SQL, Add Default Value, Add Not-Null Constraint	Ajout de la colonne 'origine' dans la table 'ent_2011_2012.enseignement'	\N	2.0.2
4	agia	changelogs/scolarite/2012-08-27-0022052.xml	2013-09-23 10:48:38.378596+02	243	EXECUTED	3:600a750ebe734e6a638e4e03f6b91d02	Drop Column	Suppression de la colonne 'libelle_matiere' dans la table 'ent_2011_2012.service'	\N	2.0.2
1	jcok	changelogs/scolarite/2012-08-28-0022055.xml	2013-09-23 10:48:38.383003+02	244	EXECUTED	3:bf1adaf0c210225c697810f57e79213a	Custom SQL	0021850: Ajout du shema "backoffice"\n      et ajout de la table config_backoffice\n      Cette table servira au stockage de paramètres des applications Marketing et backOffice	\N	2.0.2
2	jcok	changelogs/scolarite/2012-08-28-0022055.xml	2013-09-23 10:48:38.396137+02	245	EXECUTED	3:9c208af8e5f55e015d762105f86994cd	Create Table, Create Sequence		\N	2.0.2
1	jcok	changelogs/scolarite/2012-08-28-0022071.xml	2013-09-23 10:48:38.401806+02	246	EXECUTED	3:11023a4444acbebbf2b877acdf265ae6	Drop Not-Null Constraint, Add Default Value	Ajout de la valeur par defaut à False pour la colonne Magister_Active	\N	2.0.2
1	agia	changelogs/scolarite/2012-08-29-0022053.xml	2013-09-23 10:48:38.410626+02	247	EXECUTED	3:6e725f98580b32a2db82b4e5f7ca3140	Drop Foreign Key Constraint, Drop Column, Drop Foreign Key Constraint, Drop Column	Schéma ent_2011_2012:\n\t\t\tSuppression de la colonne source_id de la table propriete_scolarite	\N	2.0.2
2	agia	changelogs/scolarite/2012-08-29-0022053.xml	2013-09-23 10:48:38.423992+02	248	EXECUTED	3:e0a8493cf0d3807b5ee4110e0aa5347f	Add Column, Custom SQL, Add Default Value, Add Not-Null Constraint, Add Column, Custom SQL, Add Default Value, Add Not-Null Constraint	Schéma ent_2011_2012:\n\t\t\tAjout de la colonne 'origine' dans la table PPS	\N	2.0.2
3	agia	changelogs/scolarite/2012-08-29-0022053.xml	2013-09-23 10:48:38.490836+02	249	EXECUTED	3:918b4effee515b47a9d65c8689f3df28	Custom SQL (x2)	Schéma ent_2011_2012:\n\t\t\tMise à jour de PPS pour les enseignements manuels	\N	2.0.2
1	jbui	changelogs/scolarite/2012-09-06-0022142.xml	2013-09-23 10:48:38.512951+02	250	EXECUTED	3:fb2634507a662465232a2870da7593db	Create Table, Add Primary Key, Create Sequence, Add Foreign Key Constraint (x3), Custom SQL	Création de la table des profs principaux	\N	2.0.2
1	jcok	changelogs/scolarite/2012-09-07-0022245.xml	2013-09-23 10:48:38.518626+02	251	EXECUTED	3:0a37bb9845b4d2120fa445f2f4fec0ae	Drop Unique Constraint	Retrait de la contrainte d'unicite portant sur les colonne "actif" et "etablissement_id" d'un fournisseur_etablissement\n            (deux relations entre un fournisseur et un etablissement ne pouvaient pas être inactives)	\N	2.0.2
2	jcok	changelogs/scolarite/2012-09-07-0022245.xml	2013-09-23 10:48:38.524109+02	252	EXECUTED	3:f024db6a47d8536130ed1c1efa845358	Custom SQL	Ajout de la contrainte d'unicite (par le biais d'un index unique) portant sur les colonne "actif" et "etablissement_id" d'un fournisseur_etablissement\n            (Une seule relation peut être active à la fois, mais plusieurs peuvent être inactives)	\N	2.0.2
1	jcok	changelogs/scolarite/2012-09-07-0022055.xml	2013-09-23 10:48:38.53646+02	253	EXECUTED	3:a820b27d875a1624fa0bcd7db36bb489	Create Table, Add Primary Key, Create Sequence	Création de la table des base_eleves backoffice	\N	2.0.2
1	msan	changelogs/scolarite/2012-11-22-0023473.xml	2013-09-23 10:48:39.008341+02	282	EXECUTED	3:4597148f256573f2d1a3937c9a8f24b7	Custom SQL	Indication que les moyennes ENSEIGNEMENT_PERIODE doivent etre calculees	\N	2.0.2
2	jcok	changelogs/scolarite/2012-09-07-0022055.xml	2013-09-23 10:48:38.546134+02	254	EXECUTED	3:b8503b60d35894649a0880a098f0f52e	Drop Column, Add Column, Add Foreign Key Constraint	Ajout de la relation : Une BackofficeConfig contient une base_eleve	\N	2.0.2
3	jcok	changelogs/scolarite/2012-09-07-0022055.xml	2013-09-23 10:48:38.554905+02	255	EXECUTED	3:d867e4ff96e595ff7b55d61e9ba4de5c	Insert Row (x3)	Ajout des données de démarrage de la base_eleve	\N	2.0.2
1	bper	changelogs/scolarite/2012-10-08-0022910.xml	2013-09-23 10:48:38.563417+02	256	EXECUTED	3:068ebd99a79c659e0794ac6308a5225a	Delete Data, Custom SQL	Suppresion de l'avis de conseil de classe "Avertissement"	\N	2.0.2
2	bper	changelogs/scolarite/2012-10-08-0022910.xml	2013-09-23 10:48:38.681158+02	257	EXECUTED	3:0cc58ec2f570efc2cf3b27925cde58b8	Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Add Unique Constraint, Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Create Table, Create Sequence, Add Foreign Key Constraint (x4), Add Unique Constrai...	Migration de schéma pour la gestion des avis (orientation, conseil de classe) plus flexible	\N	2.0.2
1	agia	changelogs/scolarite/2012-10-16-0022502.xml	2013-09-23 10:48:38.710435+02	258	EXECUTED	3:eb8a41d8025277a246aebb92e48cef61	Create Table, Create Sequence, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint	Ajout de la clé étrangère 'import_id' dans la table 'entcdt.activite'	\N	2.0.2
1	jbui	changelogs/scolarite/2012-10-02-0022504.xml	2013-09-23 10:48:38.716159+02	259	EXECUTED	3:73e55b92cd5742d078d02d2abcb72c57	Drop Column		\N	2.0.2
1	jbui	changelogs/scolarite/2012-10-11-0022504.xml	2013-09-23 10:48:38.721111+02	260	EXECUTED	3:8d415e85a9b97fe7b0a4b5001bfd41f0	Add Column		\N	2.0.2
1	jcok	changelogs/scolarite/2012-10-25-0023290.xml	2013-09-23 10:48:38.725609+02	261	EXECUTED	3:6c10532aa8a17b8668d2e15efc08fa30	Add Column	Ajout de la colonne is_eliot_open à la table backoffice_config afin de savoir si un établissement est encore actif	\N	2.0.2
1	jtra	changelogs/scolarite/2012-10-26-0023396.xml	2013-09-23 10:48:38.729995+02	262	EXECUTED	3:de4e172a26457c3bddf79e2188a3fbc0	Create Index	Ajout d'un index sur autorite.id_sts	\N	2.0.2
1	bper	changelogs/scolarite/2012-10-26-0023360.xml	2013-09-23 10:48:38.743086+02	263	EXECUTED	3:b7458f7af42756cc6cc5206d6bebdf62	Create Table, Add Foreign Key Constraint, Add Unique Constraint, Create Sequence, Drop Column	Ajout de la table 'semaine_importee' suppression de la colonne 'date_fin_import' de la table 'udt.import'	\N	2.0.2
1	msan	changelogs/scolarite/2012-11-05-0023473.xml	2013-09-23 10:48:38.751585+02	264	EXECUTED	3:3751e6e510dc4949510b998518bfc05c	Drop Foreign Key Constraint, Drop Unique Constraint, Drop Column, Add Unique Constraint	Suppression de colonne 'classe' dans entnotes.resultat_classe_enseignement_periode	\N	2.0.2
1	agia	changelogs/scolarite/2012-11-16-0023433.xml	2013-09-23 10:48:38.761744+02	265	EXECUTED	3:abc8c985bef2fa1f1770e6f24186c520	Modify data type	Augmentation de la taille de colonne "demande_traitement.nom"	\N	2.0.2
1	msan	changelogs/scolarite/2012-11-19-0023473.xml	2013-09-23 10:48:38.780385+02	266	EXECUTED	3:b86f6e5eecf5a865883e56d9e484e556	Rename Table, Custom SQL, Drop Unique Constraint, Add Unique Constraint, Drop Primary Key, Add Primary Key, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint	Renommage de resultat_classe_enseignement_periode a resultat_enseignement_periode	\N	2.0.2
1	msan	changelogs/scolarite/2012-11-20-0023473.xml	2013-09-23 10:48:38.789425+02	267	EXECUTED	3:1d523fe0101fd85eb1635bc6718a7619	Update Data, Drop Index, Custom SQL	Renommage de DirtyMoyenne CLASSE_ENSEIGNEMENT_PERIODE a ENSEIGNEMENT_PERIODE	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.792781+02	268	EXECUTED	3:fb39502e37142a39caf63ba1c1fc32df	Custom SQL	Création du schéma annuaire_interface.	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.80513+02	269	EXECUTED	3:202682bf5b052edf46185e5faf0b6eda	Create Table, Custom SQL (x2), Add Primary Key, Create Sequence	Création de la table demande_import.	\N	2.0.2
3	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.811775+02	270	EXECUTED	3:73772be625ea2340255553277c30bcbf	Add Column, Add Foreign Key Constraint	Lien entre la table aaf.import et annuaire_interface.demande_import.	\N	2.0.2
4	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.82484+02	271	EXECUTED	3:ed359ab7ca2606bd720929c0fc04ccfd	Create Table, Add Primary Key, Add Foreign Key Constraint, Create Sequence	Création de la table execution	\N	2.0.2
5	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.835336+02	272	EXECUTED	3:41f77db0f17043eafb3c28a54fd49585	Create Table, Add Primary Key, Add Unique Constraint, Create Sequence	Création de la table erreur.	\N	2.0.2
6	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.855377+02	273	EXECUTED	3:18c5f6449052c20b8ccad5f811aa04fa	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x2), Create Sequence	Création de la table porteur_ent.	\N	2.0.2
7	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.876368+02	274	EXECUTED	3:0103363195dccf53325b3abb97d81cd3	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x2), Create Sequence	Création de la table etablissement	\N	2.0.2
8	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.896354+02	275	EXECUTED	3:385f1cd69a61e61d27f7303ec545675d	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x3), Create Sequence	Création de la table structure_enseignement	\N	2.0.2
9	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.920024+02	276	EXECUTED	3:dd20f5b0f723b7a5aeba0ad8ebcad501	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x2), Create Sequence	Création de la table responsable_eleve	\N	2.0.2
10	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.947415+02	277	EXECUTED	3:7629f4f4f3a9290d016f124e9d5cc3fb	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x2), Create Sequence	Création de la table pers_educ_nat	\N	2.0.2
11	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.970266+02	278	EXECUTED	3:cca0a77f5d5ffb03a145cf3c36538336	Create Table, Add Primary Key, Add Foreign Key Constraint (x3), Custom SQL (x2), Create Sequence	Création de la table eleve	\N	2.0.2
12	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.982166+02	279	EXECUTED	3:db573460cff6ad3d26c7903e9de24ea9	Create Table, Add Primary Key, Add Foreign Key Constraint, Create Sequence	Création de la table pers_educ_nat_fonction	\N	2.0.2
13	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:38.998441+02	280	EXECUTED	3:32d132b1bb5d112b99f413749800f385	Create Table, Add Primary Key, Add Foreign Key Constraint, Custom SQL, Create Sequence	Création de la table eleve_repartition	\N	2.0.2
14	jbui	changelogs/scolarite/annuaire_interface/2012-11-21-0023926.xml	2013-09-23 10:48:39.004043+02	281	EXECUTED	3:a4380f9daed363c8b057d63dd2de74d2	Add Unique Constraint		\N	2.0.2
1	jtra	changelogs/scolarite/2012-11-23-0023969.xml	2013-09-23 10:48:39.053763+02	283	EXECUTED	3:95931a4c6976aeacb074298affa318f2	Add Column, Custom SQL, Add Foreign Key Constraint, Add Column, Custom SQL, Add Foreign Key Constraint, Drop Column (x2), Drop Table (x2)	Suppression de la notion de périmètre	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2012-11-23-0023926.xml	2013-09-23 10:48:39.059956+02	284	EXECUTED	3:ef2c57b4d87c0600bea8a4aace8e995b	Custom SQL	Création des types d'erreurs pour annuaire-interface.	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2012-11-23-0023926.xml	2013-09-23 10:48:39.063789+02	285	EXECUTED	3:5f670f0ed5feaf1a6e4a59ab1bf25ed8	Custom SQL		\N	2.0.2
1	bper	changelogs/scolarite/annuaire_interface/2012-11-26-0023926.xml	2013-09-23 10:48:39.06846+02	286	EXECUTED	3:9b58956a79e304d725e882f526a7848e	Rename Column	Renomme la colonne 'type_traitement' en 'type_entite' dans la table 'annuaire_interface.execution'	\N	2.0.2
1	bper	changelogs/scolarite/annuaire_interface/2012-11-27-0023926.xml	2013-09-23 10:48:39.186877+02	287	EXECUTED	3:54c704e5a002c42c8207df9a85f2f3e9	Create Table, Custom SQL (x3), Drop Table, Custom SQL, Add Primary Key, Add Foreign Key Constraint (x3), Drop Table, Custom SQL, Add Primary Key, Add Foreign Key Constraint (x3), Drop Table, Custom SQL, Add Primary Key, Add Foreign Key Constraint (x3),...	Mise en place de l'héritage	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-11-26-0024025.xml	2013-09-23 10:48:39.195385+02	288	EXECUTED	3:d3bb3db0507838652da6743698962ddb	Custom SQL (x2)	Ajout de statut EN_PREPA dans demande_import	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-11-27-0024025.xml	2013-09-23 10:48:39.202405+02	289	EXECUTED	3:fffa2a0b8925c53e911e4667d4ac2845	Drop Column (x2), Add Column (x2)	Passage d'info de responsable_eleve a eleve	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-11-28-0024025.xml	2013-09-23 10:48:39.20708+02	290	EXECUTED	3:94ec74b79aad79024f385f6226628b8e	Custom SQL (x2)	Correction de chk_eleve_repartition_structure_enseignement_code	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-11-28-0024025.xml	2013-09-23 10:48:39.21512+02	291	EXECUTED	3:643707f22696365e26986683a915aa2e	Delete Data, Add Column, Add Not-Null Constraint, Add Foreign Key Constraint	Ajout de la reference de demande_import dans eleve_repartition	\N	2.0.2
3	msan	changelogs/scolarite/annuaire_interface/2012-11-28-0024025.xml	2013-09-23 10:48:39.223114+02	292	EXECUTED	3:05a83c02b527e58811fd2f5fe9fc653c	Delete Data, Add Column, Add Not-Null Constraint, Add Foreign Key Constraint	Ajout de la reference de demande_import dans pers_educ_nat_fonction	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2012-11-30-0023926.xml	2013-09-23 10:48:39.241765+02	293	EXECUTED	3:2f48abc4bb05dd20442766dc8a76a1e6	Add Column (x2), Custom SQL (x2)	Ajout d'une colonne statut sur les table pers_educ_nat_fonction et\n      repartition_eleve	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2012-11-30-0023926.xml	2013-09-23 10:48:39.247606+02	294	EXECUTED	3:66480523eace8e541bc3cd3320bb3aa6	Custom SQL (x2)	Renommage des contraintes chk portant sur les champs "statut"	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.264741+02	295	EXECUTED	3:9d9cb6e0c138428043b5c746faa0a408	Custom SQL, Drop Column, Add Column (x8), Custom SQL	Ajout des colonnes mode_import dans demande_import	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.276932+02	296	EXECUTED	3:68bdc6ddf9a6fc05e74ee531717f3ce5	Custom SQL, Add Column, Custom SQL, Drop Column, Add Column, Custom SQL (x2), Add Not-Null Constraint, Custom SQL		\N	2.0.2
3	msan	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.286547+02	297	EXECUTED	3:8799805e3ae8a45d5cce1bdf07f5493a	Custom SQL (x2)	Correction des contrintes sur les mode_import	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.296989+02	298	EXECUTED	3:8d9b6936bacb3b7cdaeea9a81cf69786	Create Table, Create Sequence	Ajout de la table import dans le schéma annuaire_interface	\N	2.0.2
2	jtra	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.304046+02	299	EXECUTED	3:25229cd6cb6a0219ed84d8e965496351	Create Table, Insert Row	Ajout de la table verrou destinée à exclure des imports concurrents	\N	2.0.2
3	jtra	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.311234+02	300	EXECUTED	3:e9fd12fbe09bc9f160002c3d697ddc99	Add Column, Add Foreign Key Constraint		\N	2.0.2
4	jtra	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.331136+02	301	EXECUTED	3:4bfc75f275c810ddd1461a0d31cd58f6	Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint, Add Column, Add Foreign Key Constraint		\N	2.0.2
5	jtra	changelogs/scolarite/annuaire_interface/2012-12-03-0023926.xml	2013-09-23 10:48:39.339083+02	302	EXECUTED	3:d7b526fd01d43915fbec8745eae3e039	Drop Column, Add Column, Add Foreign Key Constraint		\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-04-0023926.xml	2013-09-23 10:48:39.357135+02	303	EXECUTED	3:4aba16dd098f8fd25576a2f2220b4821	Custom SQL, Add Primary Key, Add Foreign Key Constraint (x3), Create Sequence	Ajout de table hors_aaf	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-12-04-0023926.xml	2013-09-23 10:48:39.372505+02	304	EXECUTED	3:07b09e9d9f6566afd3b30d8c01dc6b47	Create Table, Add Primary Key, Add Foreign Key Constraint (x2), Create Sequence, Custom SQL	Ajout de table hors_aaf_fonction	\N	2.0.2
3	msan	changelogs/scolarite/annuaire_interface/2012-12-04-0023926.xml	2013-09-23 10:48:39.381903+02	305	EXECUTED	3:097f480e59b4a5170de5e9c3218a2231	Custom SQL, Add Primary Key, Create Sequence	Ajout de table admin_local	\N	2.0.2
4	msan	changelogs/scolarite/annuaire_interface/2012-12-04-0023926.xml	2013-09-23 10:48:39.385561+02	306	EXECUTED	3:03d75db8a14b4e700c728fd1ef40466b	Drop Not-Null Constraint	Enlevement de NOT NULL sur etablissement_id_externe de hors_aaf_fonction	\N	2.0.2
5	msan	changelogs/scolarite/annuaire_interface/2012-12-04-0023926.xml	2013-09-23 10:48:39.391214+02	307	EXECUTED	3:f49cf20a8c4ff7f3dad60d49265f7d0d	Rename Column (x4)	Renommage personne_id_externe -> autorite_id_externe	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-05-0023926.xml	2013-09-23 10:48:39.397667+02	308	EXECUTED	3:4671618f1551a08932e61b082fe2f5a3	Modify data type	Agrandissement de taille d'annuaire_interface.execution.type_entite	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-12-05-0023926.xml	2013-09-23 10:48:39.406686+02	309	EXECUTED	3:54b127a14bbad298980f3c9f59ca8e29	Add Foreign Key Constraint (x3)	Ajout de FKs annuaire_interface.admin_local	\N	2.0.2
1	bper	changelogs/scolarite/annuaire_interface/2012-12-06-0023926.xml	2013-09-23 10:48:39.411769+02	310	EXECUTED	3:0f97432fcb294677303800bb83189431	Custom SQL	Ajout de contrainte : une seule demande d'import avec statut 'EN_COURS'\n      possible	\N	2.0.2
2	bper	changelogs/scolarite/annuaire_interface/2012-12-06-0023926.xml	2013-09-23 10:48:39.415261+02	311	EXECUTED	3:4b1551da7d974b3eb7366b179b8e6439	Drop Column	Suppression de la colonne non utilisée 'statut_bak' dans la table\n      'demande_import'	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2012-12-06-0023926.xml	2013-09-23 10:48:39.418719+02	312	EXECUTED	3:a5ee28455b24df0009551ec87a7329e9	Custom SQL		\N	2.0.2
3	jtra	changelogs/scolarite/annuaire_interface/2012-12-06-0023926.xml	2013-09-23 10:48:39.426306+02	313	EXECUTED	3:3061cdbf79e2bc6aefe173c1617fbef1	Custom SQL	Si le statut est EN_ERREUR alors l'entité doit référencer une erreur	\N	2.0.2
4	jtra	changelogs/scolarite/annuaire_interface/2012-12-06-0023926.xml	2013-09-23 10:48:39.429892+02	314	EXECUTED	3:a7024a2fa72b99f1bcaa748b34c62d6f	Insert Row		\N	2.0.2
1	agia	changelogs/scolarite/annuaire_interface/2012-12-07-0023926.xml	2013-09-23 10:48:39.43334+02	315	EXECUTED	3:d0449fdf9235d0eb0cc9aacb8501797f	Custom SQL	Ajout type d'erreur correspondant à un élève ayant\n\t\t\tresponsable_1_id_externe = responsable_2_id_externe	\N	2.0.2
1	agia	changelogs/scolarite/2012-12-07-0023926.xml	2013-09-23 10:48:39.438988+02	316	EXECUTED	3:ce70118118f1b800939b79c31729b8f2	Update Data, Add Not-Null Constraint, Add Default Value	Modification contraintes sur 'ent.responsable_eleve' colonne 'parent'	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2012-12-10-0023926.xml	2013-09-23 10:48:39.445246+02	317	EXECUTED	3:c44c62aff76bc80fdb9dbde28e6426be	Custom SQL (x3)	Ajout de contraintes check sur eleve_repartition, hors_aaf_fonction et\n      pers_educ_nat_fonction, sur le statut + l'id du type d'erreur.	\N	2.0.2
1	agia	changelogs/scolarite/annuaire_interface/2012-12-11-0023926.xml	2013-09-23 10:48:39.482637+02	318	EXECUTED	3:894b1a2d8ae2362af2ecaa16ade7df7e	Drop Foreign Key Constraint, Drop Column, Update Data (x6), Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Constraint, Add Foreign Key Constraint, Drop Foreign Key Cons...	Suppression de la table 'annuaire_interface.import'	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2012-12-11-0023926.xml	2013-09-23 10:48:39.489045+02	319	EXECUTED	3:a0305a953db25ad0a7520f0a32ccfbff	Add Column (x2)		\N	2.0.2
2	jtra	changelogs/scolarite/annuaire_interface/2012-12-11-0023926.xml	2013-09-23 10:48:39.493093+02	320	EXECUTED	3:8d8822c75d7281a918db2a2fb67907e3	Add Column		\N	2.0.2
1	agia	changelogs/scolarite/2012-12-11-0024530.xml	2013-09-23 10:48:39.500835+02	321	EXECUTED	3:64d8cd7a78c377fb2fcf196a59947836	Update Data (x2), Custom SQL	Ajoute la contrainte check sur 'securite.autorite', colonne 'etat', qui\n\t\t\tvérifie les valeurs insérées	\N	2.0.2
2	agia	changelogs/scolarite/2012-12-11-0024530.xml	2013-09-23 10:48:39.505246+02	322	EXECUTED	3:5386379fb96d950fab162a75fd688abf	Custom SQL	Ajoute la contrainte check sur 'securite.autorite', colonne 'etat', qui\n\t\t\tvérifie que les 'autorite' de type 'acteur' ont bien un 'etat'	\N	2.0.2
1	bahj	changelogs/scolarite/annuaire_interface/2012-12-14-0023926.xml	2013-09-23 10:48:39.545784+02	323	EXECUTED	3:6fb52c5c420ba609eddef786863a3169	Modify data type (x2)	Agrandissement de taille d'annuaire_interface.personne.alias\n      et de annuaire_interface.eleve.regime	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-17-0024645.xml	2013-09-23 10:48:39.551052+02	324	EXECUTED	3:4c60a423ccedd1cc2f58dee0aeeca6a2	Custom SQL	Ajout type d'erreur correspondant à un admin local n'ayant pas\n      la personne correspondante	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-12-17-0024645.xml	2013-09-23 10:48:39.555188+02	325	EXECUTED	3:52b2f3e66183ed422d86211ba91d47b6	Custom SQL	Ajout type d'erreur correspondant à un admin local dont l'autorite\n      n'est pas active	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-19-0024646.xml	2013-09-23 10:48:39.559551+02	326	EXECUTED	3:3b7c238ba83584524980bde978f66f62	Add Column	Ajout de porteur_code dans hors_aaf_fonction	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-12-19-0024646.xml	2013-09-23 10:48:39.563196+02	327	EXECUTED	3:adedff592896827d124be96522d54163	Custom SQL	Ajout type d'erreur UI sans l'etablissement de rattachement	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2012-12-21-0023926.xml	2013-09-23 10:48:39.571636+02	328	EXECUTED	3:95c21820eccfe8a10e4a6533fca30e29	Modify data type	Aggrandissement de colonne type_erreur.code	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2012-12-21-0023926.xml	2013-09-23 10:48:39.577495+02	329	EXECUTED	3:6d1529dc68bb1267ee04c6194c78daa9	Custom SQL (x3)	Ajout de types d'erreur	\N	2.0.2
1	jbui	changelogs/scolarite/2013-01-02-0024797.xml	2013-09-23 10:48:39.584552+02	330	EXECUTED	3:0d7980c951b32b752a8e90da98600ad9	Custom SQL	Reprise de données : affectation de etablissement_rattachement_id\n      pour les élèves	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2013-01-07-0023926.xml	2013-09-23 10:48:39.596083+02	331	EXECUTED	3:98b4300bb3c5bf2cc9edaf84ef89f7e0	Drop Default Value, Add Default Value, Drop Default Value, Add Default Value, Drop Default Value, Add Default Value	Ajout de valeurs par défaut sur les champs NB de\n      annuaire_interface.execution	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2013-01-07-0023926.xml	2013-09-23 10:48:39.602248+02	332	EXECUTED	3:0e0a3f3ebff64296b0a1deb9e8c15d99	Custom SQL (x2)	Autoriser le statut "ANNULE" sur les demandes d'import	\N	2.0.2
3	jbui	changelogs/scolarite/annuaire_interface/2013-01-07-0023926.xml	2013-09-23 10:48:39.60875+02	333	EXECUTED	3:5b16cf0dc94d074c633e243ea891847b	Add Column, Add Foreign Key Constraint	Ajout du champ ORDRE sur annuaire_interface.demande_import	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2013-01-08-0023926.xml	2013-09-23 10:48:39.612517+02	334	EXECUTED	3:7a540861f998d6e8ab21462761b53510	Custom SQL	Ajout d'une contrainte chk sur les correctifs d'import	\N	2.0.2
1	jbui	changelogs/securite/2013-01-09-0024893.xml	2013-09-23 10:48:39.616088+02	335	EXECUTED	3:f81d0fb43d0fbc9db72900e04946661c	Insert Row	Passage en 2.9.0-RC3	\N	2.0.2
1	bahj	changelogs/scolarite/annuaire_interface/2013-01-09-0023926.xml	2013-09-23 10:48:39.619247+02	336	EXECUTED	3:022f5b62bdeef53fedbf524e129dbe30	Custom SQL	Ajout d'un nouveau type d'erreur	\N	2.0.2
2	jbui	changelogs/scolarite/annuaire_interface/2013-01-09-0023926.xml	2013-09-23 10:48:39.63419+02	337	EXECUTED	3:91aaa3d066648334c06edf193e250de8	Add Column (x2), Custom SQL	Ajout de l'état de désactivation dans annuaire_interface.demande_import	\N	2.0.2
1	jbui	changelogs/scolarite/annuaire_interface/2013-01-10-0023926.xml	2013-09-23 10:48:39.641768+02	338	EXECUTED	3:049781849bbb296ac7d271028a7bb15c	Add Column	Ajout de la colonne annuaire_interface.execution.action	\N	2.0.2
1	jbui	changelogs/securite/2013-01-10-0024935.xml	2013-09-23 10:48:39.65119+02	339	EXECUTED	3:20b38cb65d7299a1bb7716fcdfc3b5f0	Custom SQL (x6)	Pose de contraintes sur les champs est_active, etat et date_desactivation\n      de securite.autorite	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-01-11-0023926.xml	2013-09-23 10:48:39.655038+02	340	EXECUTED	3:a7272e85fbd2f1c540b3fbfd0b05c346	Insert Row	Ajout d'un nouveau type d'erreur	\N	2.0.2
1	msan	changelogs/scolarite/2013-01-21-0021316.xml	2013-09-23 10:48:39.662006+02	341	EXECUTED	3:54c48bfafdaaa261d9a3c77dec278d39	Drop Table	Suppression de ent.responsable_propriete_scolarite qui n'est plus utilisee	\N	2.0.2
1	jbui	changelogs/scolarite/2013-01-21-0025254.xml	2013-09-23 10:48:39.670997+02	342	EXECUTED	3:a58ae39ae17f6bb2217ae622eaa7662e	Add Column (x2), Add Foreign Key Constraint	Ajout de l'académie et du porteur sur la table ent.personne	\N	2.0.2
2	jtra	changelogs/scolarite/2013-01-31-0025308.xml	2013-09-23 10:48:40.683388+02	375	EXECUTED	3:864dbb5482fa1ff9220678e11b1866bd	Drop Sequence (x7)	Suppression des sequence inutiles	\N	2.0.2
1	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.68492+02	343	EXECUTED	3:8b94d5daf57535eb961389d34857bdab	Create Table, Add Foreign Key Constraint, Add Unique Constraint, Create Sequence	Creation de table entnotes.etablissement_notes	\N	2.0.2
2	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.692423+02	344	EXECUTED	3:8d36b4051924c02b562e0bb96e8fdf3b	Create Procedure, Custom SQL (x3)	Deplacement de precision depuis ent.etablissement vers entnotes.etablissement_notes	\N	2.0.2
3	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.696646+02	345	EXECUTED	3:60b11309723e54b15afa3be4126e5bb7	Drop Column	Suppression de colonne precision de table ent.etablissement	\N	2.0.2
4	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.702573+02	346	EXECUTED	3:cb40a1b1d99aa252653e613ddce864e5	Add Column (x3)	Ajout d'annuaire_import_id dans ent.propriete_scolarite, ent.mef, ent.niveau	\N	2.0.2
5	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.712733+02	347	EXECUTED	3:ccf6fa11a34a0156a1b2e0ea9c762508	Add Foreign Key Constraint (x3)	FKs d'annuaire_import_id's	\N	2.0.2
6	msan	changelogs/scolarite/2013-01-23-0025308.xml	2013-09-23 10:48:39.719117+02	348	EXECUTED	3:33526fc18d190995f191e9b242186c66	Add Column, Add Foreign Key Constraint	Ajout d'annuaire_import_id dans entnotes.etablissement_notes	\N	2.0.2
1	jcok	changelogs/scolarite/annuaire_interface/2013-01-21-0025267.xml	2013-09-23 10:48:39.729514+02	349	EXECUTED	3:eed1eaa1467ece361e818d3128050dfb	Create Table, Create Sequence	Ajout de la table 'type_alerte'	\N	2.0.2
2	jcok	changelogs/scolarite/annuaire_interface/2013-01-21-0025267.xml	2013-09-23 10:48:39.737778+02	350	EXECUTED	3:ddc9159aba4a66da9fb6b960019536a7	Custom SQL	Population de la table 'type_alerte'	\N	2.0.2
3	jcok	changelogs/scolarite/annuaire_interface/2013-01-21-0025267.xml	2013-09-23 10:48:39.750989+02	351	EXECUTED	3:c188068b33ef0150b3d6e812a9bd8f9b	Create Table, Add Foreign Key Constraint (x2), Create Sequence	Ajout de la table 'alerte'	\N	2.0.2
4	jcok	changelogs/scolarite/annuaire_interface/2013-01-21-0025267.xml	2013-09-23 10:48:39.756294+02	352	EXECUTED	3:8ac85b554001efa3d1b6e1f559d71c8f	Custom SQL	Ajout de la contrainte de valeur sur le type d'entité	\N	2.0.2
1	onic	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.451675+02	353	EXECUTED	3:7277b1530f201907ac45ad89522b74f9	Add Column (x14)	Ajout de la colonne inserted sur toutes les tables modifiées par l’import annuaire	\N	2.0.2
2	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.46468+02	354	EXECUTED	3:517eed71c8514d678c1a20620d29abf8	Create Table, Create Sequence, Add Foreign Key Constraint, Add Unique Constraint	Creation de ent.etablissement_sts	\N	2.0.2
3	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.476432+02	355	EXECUTED	3:277030b02a24f794d3ed64d274c4218f	Create Table, Create Sequence, Add Foreign Key Constraint, Add Unique Constraint	Creation de ent.structure_enseignement_sts	\N	2.0.2
4	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.485118+02	356	EXECUTED	3:7e71b9749ca780e187bf744637442fdb	Create Procedure, Custom SQL (x3)	Deplacement de version_import_sts, date_import_sts vers ent.etablissement_sts	\N	2.0.2
5	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.493318+02	357	EXECUTED	3:7a2ff4ffd37f63f9810bec323a5d95b0	Create Procedure, Custom SQL (x3)	Deplacement de version_import_sts vers ent.structure_enseignement_sts	\N	2.0.2
6	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.499134+02	358	EXECUTED	3:609636480d869d451fa4e1d0f4122509	Drop Column (x2)	Suppression de version_import_sts, date_import_sts de ent.etablissement	\N	2.0.2
7	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.503035+02	359	EXECUTED	3:147a59be65d00632946863bddd1b5197	Drop Column	Suppression de version_import_sts de ent.structure_enseignement	\N	2.0.2
8	msan	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.512559+02	360	EXECUTED	3:f6196c7cbf56db242de77ee9288a5769	Modify data type	Changement de type service.version_import_sts int -> long	\N	2.0.2
9	onic	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.531544+02	361	EXECUTED	3:c2f038d22fb6842278d22e893edcb018	Create Table, Add Foreign Key Constraint (x2), Add Unique Constraint, Create Sequence, Create Procedure, Custom SQL (x3)	Deplacement de informations depuis ent.structure_enseignement vers entnotes.structure_enseignement_notes	\N	2.0.2
10	onic	changelogs/scolarite/2013-01-24-0025308.xml	2013-09-23 10:48:40.539037+02	362	EXECUTED	3:7be0f8d1d1e12914d9a3e8ec897fcd84	Drop Column (x3)	Suppression de colonnes de table ent.structure_enseignement	\N	2.0.2
1	msan	changelogs/scolarite/2013-01-25-0025308.xml	2013-09-23 10:48:40.54793+02	363	EXECUTED	3:edf8a862910f77d2b9fd11c6ae727274	Modify data type	Changement de type enseignement.version_import_sts int -> long	\N	2.0.2
1	msan	changelogs/scolarite/2013-01-28-0025308.xml	2013-09-23 10:48:40.556184+02	364	EXECUTED	3:c1f4fc19bdaeafcda99dfaa7d2332f61	Add Column	Ajout de version dans StructureEnsignementNotes	\N	2.0.2
2	msan	changelogs/scolarite/2013-01-28-0025308.xml	2013-09-23 10:48:40.565326+02	365	EXECUTED	3:161066d37fddf63272dd768f4bd0a26a	Custom SQL, Create Table, Create Sequence	Creation de schema synchro, table synchro.execution	\N	2.0.2
3	msan	changelogs/scolarite/2013-01-28-0025308.xml	2013-09-23 10:48:40.573356+02	366	EXECUTED	3:ade7868ed145ed0ddb2135c2ae17d6cb	Create Table, Create Sequence	Creation de table udt.import_execution	\N	2.0.2
1	msan	changelogs/scolarite/2013-01-29-0025308.xml	2013-09-23 10:48:40.583276+02	367	EXECUTED	3:ff27ae2a2789e8c6f0e79e04a8a680e6	Custom SQL	Changement de type synchro.execution.date et import_execution.date_debut_traitement	\N	2.0.2
1	jbui	changelogs/scolarite/2013-01-29-0025308.xml	2013-09-23 10:48:40.591677+02	368	EXECUTED	3:bd94e883143f20d2d1171714feb2de00	Create Table, Add Primary Key, Insert Row		\N	2.0.2
2	bahj	changelogs/scolarite/2013-01-29-0025308.xml	2013-09-23 10:48:40.609772+02	369	EXECUTED	3:39c765636799021347ad0d9cabd8f684	Add Default Value (x14)	Mise de la valeur par défaut TRUE de la colonne inserted\n            sur toutes les tables modifiées par l’import annuaire	\N	2.0.2
3	bahj	changelogs/scolarite/2013-01-29-0025308.xml	2013-09-23 10:48:40.626781+02	370	EXECUTED	3:759232726e32ccd83668a6c5040abecd	Update Data (x14)	Reprise des données de toutes les tables modifiées par l’import\n            annuaire, met la colonne inserted à 'FALSE'	\N	2.0.2
2	jbui	changelogs/scolarite/2013-01-29-0025308.xml	2013-09-23 10:48:40.650887+02	371	EXECUTED	3:d3c8f19946479cf4f94a34845ad9f2b6	Create Procedure, Custom SQL (x3), Alter Sequence (x14)		\N	2.0.2
1	bahj	changelogs/scolarite/2013-01-30-0025308.xml	2013-09-23 10:48:40.65589+02	372	EXECUTED	3:8242765699c02a2566c5e8ef5a4ebe88	Drop Table	Suppression de la table udt.import_execution	\N	2.0.2
2	bahj	changelogs/scolarite/2013-01-30-0025308.xml	2013-09-23 10:48:40.665306+02	373	EXECUTED	3:5f05f11729b3ebdd3b0319cf419d01c8	Create Sequence, Create Table, Add Primary Key, Custom SQL	Création de la table ent.import_temps utilisée par les imports\n            d'emploi du temps	\N	2.0.2
1	jtra	changelogs/scolarite/2013-01-31-0025308.xml	2013-09-23 10:48:40.670294+02	374	EXECUTED	3:e766912fabd911a53e9d4253188ca61c	Drop Sequence	Suppression de la sequence bascule_annee.historique_id_seq	\N	2.0.2
3	jtra	changelogs/scolarite/2013-01-31-0025308.xml	2013-09-23 10:48:40.687873+02	376	EXECUTED	3:06c12135e61e55aca66ec02edbeb4741	Drop Sequence	Suppression des sequence inutiles	\N	2.0.2
4	jtra	changelogs/scolarite/2013-01-31-0025308.xml	2013-09-23 10:48:40.692523+02	377	EXECUTED	3:9305d5bdf25a9028d8dc3e94eafa878a	Drop Sequence	Suppression des sequence inutiles	\N	2.0.2
5	jtra	changelogs/scolarite/2013-01-31-0025308.xml	2013-09-23 10:48:40.697314+02	378	EXECUTED	3:a75b62afe61cdabbca75e4757c5c8289	Drop Sequence	Suppression des sequence inutiles	\N	2.0.2
1	othe	changelogs/securite/2013-02-01-0025502.xml	2013-09-23 10:48:40.700813+02	379	EXECUTED	3:315c314a5f2fcc3aaa49f1a2e01e5d35	Insert Row	Passage en 2.9.0-RC6	\N	2.0.2
1	othe	changelogs/scolarite/2013-02-01-0025308.xml	2013-09-23 10:48:40.704461+02	380	EXECUTED	3:e10e725d5480d29e34d274f05767744d	Add Column	Ajout de la clé de verrou dans la synchro	\N	2.0.2
1	agia	changelogs/scolarite/2013-02-06-0025563.xml	2013-09-23 10:48:40.736323+02	381	EXECUTED	3:b7115c89ea8aa01f2918eaeef070b395	Update Data (x2), Custom SQL	Suppression de séries	\N	2.0.2
1	bper	changelogs/scolarite/2013-02-07-0025564.xml	2013-09-23 10:48:40.749738+02	382	EXECUTED	3:edd2aa94a42e0045d9a16dab22b4a3a1	Add Column, Custom SQL	Ajout de la colonne 'mode_calcul_note' dans dans la table 'entnotes.brevet_epreuve'	\N	2.0.2
1	agia	changelogs/scolarite/annuaire_interface/2013-02-07-0025251.xml	2013-09-23 10:48:40.755162+02	383	EXECUTED	3:293f9866b78fafced4ff4fea7b86ee56	Insert Row (x2)	Ajout d'un nouveau type d'erreur	\N	2.0.2
1	bper	changelogs/scolarite/2013-02-08-0025570.xml	2013-09-23 10:48:40.766707+02	384	EXECUTED	3:e38500c0fdca0dbb34fceebbf54e2a24	Add Column, Custom SQL	Ajout de la colonne 'exportable' dans dans la table 'entnotes.brevet_epreuve' et l'ajout des epreuves 'HISTOIRE DES ARTS'	\N	2.0.2
1	bahj	changelogs/scolarite/2013-02-11-0025655.xml	2013-09-23 10:48:40.772452+02	385	EXECUTED	3:d1b64428cd824de53b7a0f66f3979b13	Custom SQL	Ajoute le type d'agenda ETS	\N	2.0.2
2	bahj	changelogs/scolarite/2013-02-11-0025655.xml	2013-09-23 10:48:40.777551+02	386	EXECUTED	3:d93b3dba4e3e6c018dcc5953d2164b85	Custom SQL	Ajoute le type d'agenda ETE	\N	2.0.2
3	bahj	changelogs/scolarite/2013-02-11-0025655.xml	2013-09-23 10:48:40.781987+02	387	EXECUTED	3:7eea96151d78f2c2cade1876730c574d	Custom SQL	Ajoute le type d'agenda CSE	\N	2.0.2
4	bahj	changelogs/scolarite/2013-02-11-0025655.xml	2013-09-23 10:48:40.786513+02	388	EXECUTED	3:e460e857ea91e992584e10bbdab8f8ad	Custom SQL	Ajoute le type d'agenda STA	\N	2.0.2
1	agia	changelogs/scolarite/2013-02-13-0025725.xml	2013-09-23 10:48:40.818595+02	389	EXECUTED	3:fe4541a3d68297d7e7868a91e64baa9c	Create Table, Add Foreign Key Constraint, Create Sequence, Custom SQL, Add Column, Custom SQL, Drop Foreign Key Constraint, Drop Column, Rename Column, Add Foreign Key Constraint, Drop Table	Suppression de la table "entcdt.type_activite"	\N	2.0.2
2	agia	changelogs/scolarite/2013-02-13-0025725.xml	2013-09-23 10:48:40.826556+02	390	EXECUTED	3:e3376a40c598eceffc6b849701dac6f9	Modify data type		\N	2.0.2
3	bper	changelogs/scolarite/2013-02-13-0025725.xml	2013-09-23 10:48:40.840048+02	391	EXECUTED	3:c33619bdbe5bf17296e4ea0a30d03872	Custom SQL	Ajout des contraintes d'unicité sur la table "ent.type_activite"	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-14-0025741.xml	2013-09-23 10:48:40.84408+02	392	EXECUTED	3:f5071ce0ed856555edbd595b3c20d492	Custom SQL	0025741: Ajout du shema "emaeval_interface"	\N	2.0.2
2	jcok	changelogs/scolarite/2013-02-14-0025741.xml	2013-09-23 10:48:40.850231+02	393	EXECUTED	3:03e02625fe519d99e6da5f18c5125a97	Custom SQL	Ajoute la vue emaeval_interface.utilisateur	\N	2.0.2
1	jbui	changelogs/securite/2013-02-15-0025761.xml	2013-09-23 10:48:40.853542+02	394	EXECUTED	3:052690ae96d387b1d24fa6d90b6558f0	Insert Row	Passage en 2.9.0-RC7	\N	2.0.2
1	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:40.8617+02	395	EXECUTED	3:6edf889a57d00cdb426824992fc2ebef	Rename Column, Add Column, Custom SQL, Add Not-Null Constraint, Drop Column	Changement de l'ordre de ent.matiere.libelle_long	\N	2.0.2
2	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:40.871624+02	396	EXECUTED	3:1841f60a9fa94f42d85038b42287b870	Drop Index, Rename Column, Add Column, Custom SQL, Drop Column, Create Index	Changement de l'ordre de securite.autorite.id_sts	\N	2.0.2
3	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:40.878865+02	397	EXECUTED	3:500cfc713d6380d2774280163904ed99	Rename Column, Add Column, Custom SQL, Add Not-Null Constraint, Drop Column	Changement de l'ordre de ent_2011_2012.matiere.libelle_long	\N	2.0.2
4	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:40.896896+02	398	EXECUTED	3:d5a7d1bfbe6a969502e7944412d7d1b7	Rename Column, Add Column, Custom SQL, Drop Column	Changement de l'ordre de enttemps.evenement.recurrence	\N	2.0.2
5	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.361783+02	399	MARK_RAN	3:988845496fb72de74d35359894b5d60f	Drop Sequence	Suppression d'une séquence en trop	\N	2.0.2
6	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.371066+02	400	MARK_RAN	3:62680784adeb53d243b7b7d990b80663	Drop Table	Suppression de la table entcdt.activity_date.	\N	2.0.2
7	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.376661+02	401	MARK_RAN	3:8a6169ce21ac92f225463a3dafcf081b	Drop Table	Suppression de la table entcdt.rel_activity_actor.	\N	2.0.2
8	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.381607+02	402	MARK_RAN	3:fe41e4a6e801f94684c91192bd6c635c	Drop Table	Suppression de la table entcdt.resource.	\N	2.0.2
9	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.386336+02	403	MARK_RAN	3:eb3f6f7adca04b767c53accc624f4a17	Drop Table	Suppression de la table entcdt.activity.	\N	2.0.2
10	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.391108+02	404	MARK_RAN	3:24f1c7a6dfe59bcbb5bdd43df0a2e122	Drop Table	Suppression de la table entcdt.chapter_state	\N	2.0.2
11	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.395791+02	405	MARK_RAN	3:e3fd670e47ad06c2b455504484580028	Drop Table	Suppression de la table entcdt.chapter	\N	2.0.2
12	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.401221+02	406	MARK_RAN	3:4854d11294fa31246ce029737dac2a03	Drop Table	Suppression de la table entcdt.rel_book_act_group	\N	2.0.2
13	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.406041+02	407	MARK_RAN	3:c8004c741b36ecc44bf7b54c2fa3141e	Drop Table	Suppression de la table entcdt.rel_book_actor	\N	2.0.2
14	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.410981+02	408	MARK_RAN	3:2ec575277ebff9348eba1eb27ebddf51	Drop Table	Suppression de la table entcdt.activity_book	\N	2.0.2
15	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.415476+02	409	MARK_RAN	3:d4a589f4314a923dd181c25383f12938	Drop Table	Suppression de la table entcdt.book_group_state	\N	2.0.2
16	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.420555+02	410	MARK_RAN	3:cfc5eaa41875a3db2acd959a69fb1d46	Drop Table	Suppression de la table entcdt.activity_book_group	\N	2.0.2
17	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.425714+02	411	MARK_RAN	3:05c71fceef40b4d25521c4a9cfcb0a97	Drop Table	Suppression de la table entcdt.activity_context	\N	2.0.2
18	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.430272+02	412	MARK_RAN	3:5169e71c700d507ac9b716cc990ea5c9	Drop Table	Suppression de la table entcdt.activity_type	\N	2.0.2
19	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.43714+02	413	MARK_RAN	3:e9510551b7a242eca69acfae228eb2b3	Drop Column	Suppression de la colonne entnotes.resultat_classe_service_periode.rel_modalite_matiere_id	\N	2.0.2
20	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.444077+02	414	MARK_RAN	3:c3f5a43ff04e41340ba4e2090ea59a50	Drop Column		\N	2.0.2
21	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.450885+02	415	MARK_RAN	3:1a51c3818b4c7d4b0d90234dcd5ad69f	Drop Column		\N	2.0.2
22	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.457678+02	416	MARK_RAN	3:3eb15ffa3cf9291364bcd444691c8dd9	Drop Column		\N	2.0.2
23	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.464433+02	417	MARK_RAN	3:136fcd19a11cdf0df503c6d420b262d0	Drop Column		\N	2.0.2
24	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.471515+02	418	MARK_RAN	3:436fe859250653e4eecdb85bd4678f3f	Drop Column		\N	2.0.2
25	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.47864+02	419	MARK_RAN	3:c9fc6942571db71e4e11eac19a4f8b26	Drop Column		\N	2.0.2
26	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.485598+02	420	MARK_RAN	3:f4a89258ff8bcc8d73006de5af73ab1f	Drop Column		\N	2.0.2
27	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.492016+02	421	MARK_RAN	3:10c3c2ff827ab97e2c729f3c65f6d33b	Drop Column		\N	2.0.2
28	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:43.498784+02	422	MARK_RAN	3:065ea7dd521dc14379bcb901673a02d0	Drop Column		\N	2.0.2
30	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:45.821442+02	424	MARK_RAN	3:3d73966cd8ebc28b929ba4a1284e18c6	Drop Index		\N	2.0.2
31	jbui	changelogs/scolarite/2013-02-18-0025774.xml	2013-09-23 10:48:45.829246+02	425	MARK_RAN	3:c930175dd8aaa2670e54d64091c2ff6e	Drop Column		\N	2.0.2
1	bper	changelogs/scolarite/2013-02-18-0025784.xml	2013-09-23 10:48:45.840652+02	426	EXECUTED	3:12a6573ad6b42f078a826650248cdc74	Add Column, Add Foreign Key Constraint, Custom SQL, Add Not-Null Constraint	Ajout de la colonne 'type' dans la table 'evaluation'	\N	2.0.2
1	bahj	changelogs/scolarite/2013-02-18-0025782.xml	2013-09-23 10:48:45.84483+02	427	EXECUTED	3:c6f7a5130982b32a48764316ab8172e5	Add Column	Ajout de la colonne etablissement dans la table\n            entcdt.cahier_de_textes	\N	2.0.2
1	bper	changelogs/scolarite/2013-02-20-0025839.xml	2013-09-23 10:48:45.851865+02	428	EXECUTED	3:780c0d973ed816546f51bc8c0b8f3c02	Custom SQL	Ajout de la contrainte d'unicité dans la table 'securite.autorisation' avec gestion des doublons : un item peut avoir un seul propriétaire	\N	2.0.2
2	bper	changelogs/scolarite/2013-02-20-0025839.xml	2013-09-23 10:48:45.860781+02	429	EXECUTED	3:d16e18f6a51d878b49d42600d8e43683	Custom SQL	Re-affectation des activités aux types de l'établissement de rattachement du propriétaire	\N	2.0.2
1	othe	changelogs/scolarite/2013-02-20-0025834.xml	2013-09-23 10:48:45.864923+02	430	EXECUTED	3:d6919166809dd12d5fc3473e2b738046	Custom SQL	Ajout du schéma notification	\N	2.0.2
2	othe	changelogs/scolarite/2013-02-20-0025834.xml	2013-09-23 10:48:45.873925+02	431	EXECUTED	3:aa720254eb581fc9335c92fd25aca358	Create Sequence, Create Table, Add Primary Key	Ajoute la table des types de notifications	\N	2.0.2
3	othe	changelogs/scolarite/2013-02-20-0025834.xml	2013-09-23 10:48:45.890453+02	432	EXECUTED	3:2a394f00d69f8acf7cb70ea94d30b07e	Create Sequence, Create Table, Add Primary Key, Add Foreign Key Constraint (x3)	Ajoute la table du parametrage des notifications par établissement et par profil	\N	2.0.2
4	othe	changelogs/scolarite/2013-02-20-0025834.xml	2013-09-23 10:48:45.904468+02	433	EXECUTED	3:7104146ee0ee27a113160b8d5718f0ad	Create Sequence, Create Table, Add Primary Key, Add Foreign Key Constraint (x2)	Ajoute la table du parametrage de désactivation des notifications pour chaque utilisateur	\N	2.0.2
5	othe	changelogs/scolarite/2013-02-20-0025834.xml	2013-09-23 10:48:45.912644+02	434	EXECUTED	3:c821e81094b7bfcc57bb05294f9cf1ef	Insert Row (x5)	Ajoute des notifications	\N	2.0.2
1	bahj	changelogs/scolarite/2013-02-20-0025782.xml	2013-09-23 10:48:45.917834+02	435	EXECUTED	3:e388da4252b6469b5088e27c699dd5f4	Custom SQL	Ajout d'une contrainte de vérification des types de cahiers de\n            textes	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-21-0025834.xml	2013-09-23 10:48:45.925968+02	436	EXECUTED	3:b39c39a21be21f9766772f912fed819c	Custom SQL	Mise à jour des champs de notification_type	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-21-0025834-2.xml	2013-09-23 10:48:45.938834+02	437	EXECUTED	3:c44adbfa540b93739e8f2c16471c3926	Create Sequence, Create Table, Add Primary Key, Add Foreign Key Constraint (x2)	Ajoute la table des droits de notification pour chaque Fonction	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-21-0025834-3.xml	2013-09-23 10:48:45.950094+02	438	EXECUTED	3:e43536fd7d317de9968838ce76926bee	Custom SQL	Ajoute les droits des differentes fonctions (droits de notifications)	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-22-0025834.xml	2013-09-23 10:48:45.962866+02	439	EXECUTED	3:6e3d75fda2dc52b5684d48c67f49d52a	Drop Column (x2), Add Column (x2)	Mise à jour des champs de parametrageEtablissement	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-25-0025834.xml	2013-09-23 10:48:45.975836+02	440	EXECUTED	3:d777f9e6a7bb2ae4d83e7f88e07e6daa	Rename Table, Add Column (x2)	Mise à jour de la table preference utilisateur concernant les notifications	\N	2.0.2
1	agia	changelogs/scolarite/2013-02-25-0025906.xml	2013-09-23 10:48:45.980477+02	441	EXECUTED	3:3481a9edbf6a1d443fda1dd99384e12b	Custom SQL	Ajout du type d'activités/devoirs "APSA"	\N	2.0.2
2	agia	changelogs/scolarite/2013-02-25-0025906.xml	2013-09-23 10:48:45.984928+02	442	EXECUTED	3:c2fcee9760289077148c0676aaa5fdaf	Custom SQL	Modification du libellé du type d'activités/devoirs "APSA"	\N	2.0.2
1	jcok	changelogs/scolarite/2013-02-26-0025834.xml	2013-09-23 10:48:45.993528+02	443	EXECUTED	3:47549aace9c68b24f37c3e2ea33ce77a	Drop Foreign Key Constraint, Drop Column, Add Column, Add Foreign Key Constraint	Mise à jour des champs de preference_utilisateur :\n            une preference par utilisateur et par type de notification\n            et non plus par fonction	\N	2.0.2
2	jcok	changelogs/scolarite/2013-02-26-0025834.xml	2013-09-23 10:48:46.000352+02	444	EXECUTED	3:3be832feda87c254159d8f5c5714d40b	Drop Sequence, Create Sequence	Mise à jour de la séquence	\N	2.0.2
3	jcok	changelogs/scolarite/2013-02-26-0025834.xml	2013-09-23 10:48:46.007376+02	445	EXECUTED	3:d07922c00aa5b0f35a01fc3f4897206f	Add Column, Add Foreign Key Constraint	Rattachement des préférences utilisateur à un établissement	\N	2.0.2
1	msan	changelogs/scolarite/2013-02-27-0025965.xml	2013-09-23 10:48:46.019451+02	446	EXECUTED	3:7f46b5aadb5404f215d9b253070eb79c	Add Column, Update Data	Ajout de ramener_sur_20 dans evaluation	\N	2.0.2
1	bper	changelogs/scolarite/2013-02-27-0025987.xml	2013-09-23 10:48:46.031411+02	447	EXECUTED	3:0052d43b8b2360fc0781a20299dc370d	Add Column	Ajout de la colonne 'choisie_pour_sport' dans la table 'entnotes.note'	\N	2.0.2
2	bper	changelogs/scolarite/2013-02-27-0025987.xml	2013-09-23 10:48:46.0409+02	448	EXECUTED	3:702d0d07e6e3c9a2a22a3fab86786eb1	Add Column, Add Foreign Key Constraint	Ajout de la colonne 'service_sport_id' dans la table 'entnotes.structure_enseignement_notes'	\N	2.0.2
3	bper	changelogs/scolarite/2013-02-27-0025987.xml	2013-09-23 10:48:46.045948+02	449	EXECUTED	3:ef8175504b57f4940acad37444950e0c	Update Data	Modification de 'mode_calcul_note' de pour l'éreuve EPS	\N	2.0.2
4	bper	changelogs/scolarite/2013-02-27-0025987.xml	2013-09-23 10:48:46.059739+02	450	EXECUTED	3:eaf8f9da87edad039ac9e2e411710784	Drop Foreign Key Constraint, Drop Column, Add Column, Custom SQL	Ajout de la colonne 'choisi_pour_sport' dans la table 'ent.service'	\N	2.0.2
1	agia	changelogs/securite/2013-03-07-0025834.xml	2013-09-23 10:48:46.063246+02	451	EXECUTED	3:1df8c6d698b3ee6915099eb38c57c8dc	Custom SQL	Suppression colonne "securite.autorite.email_notification" si elle existe	\N	2.0.2
1	agia	changelogs/scolarite/2013-03-07-0025834.xml	2013-09-23 10:48:46.074574+02	452	EXECUTED	3:25d8676bb290250acd1c2acdd26ce9f6	Create Table, Create Sequence, Add Foreign Key Constraint	Ajout table "notification.email_notification"	\N	2.0.2
2	agia	changelogs/scolarite/2013-03-07-0025834.xml	2013-09-23 10:48:46.080198+02	453	EXECUTED	3:6ec651f307a42757bf9f8fa1b3e3d467	Custom SQL	Ajout contrainte d'unicité qui assure qu'une autorité ne puisse être\n\t\t\tassociée qu'à un seul email	\N	2.0.2
1	jbui	changelogs/scolarite/2013-02-27-0025997.xml	2013-09-23 10:48:46.115548+02	454	EXECUTED	3:6f76e39494618b61b121da428d2408b6	Add Column (x2), Create Procedure, Custom SQL (x3), Add Not-Null Constraint, Add Unique Constraint, Create Procedure, Custom SQL (x3), Add Not-Null Constraint, Add Unique Constraint	Ajout de l'ordre dans les tables enttemps.groupe_motif et\n      enttemps_2011_2012.groupe-motif	\N	2.0.2
2	jbui	changelogs/scolarite/2013-02-27-0025997.xml	2013-09-23 10:48:46.152979+02	455	EXECUTED	3:0833a8ead1f1ed3e3a86f92427612ae0	Add Column (x4)	Ajout des colonnes dispo_bulletin et dispo_stats dans la table\n      enttemps.motif et enttemps_2011_2012.motif.	\N	2.0.2
3	jbui	changelogs/scolarite/2013-02-27-0025997.xml	2013-09-23 10:48:46.159917+02	456	EXECUTED	3:d6b1c99abf80a1b98aed1cdd59211b89	Update Data (x2)		\N	2.0.2
1	jcok	changelogs/scolarite/2013-03-04-0025834.xml	2013-09-23 10:48:46.167231+02	457	EXECUTED	3:2e28e75d7e1cd25f12ae81260d8ab98f	Modify data type		\N	2.0.2
2	jcok	changelogs/scolarite/2013-03-04-0025834.xml	2013-09-23 10:48:46.174046+02	458	EXECUTED	3:bee9f8715eccc5cc7cae2efe69970991	Custom SQL	Mise à jour des champs de notification_type	\N	2.0.2
1	jtra	changelogs/scolarite/2013-03-11-0025834.xml	2013-09-23 10:48:46.180534+02	459	EXECUTED	3:c2c1a56cf8b6733ddaca92bc6f833edd	Custom SQL	Ajout de la vue "utilisateur"	\N	2.0.2
1	agia	changelogs/scolarite/2013-03-12-0026365.xml	2013-09-23 10:48:46.213003+02	460	EXECUTED	3:972d5b7fdbeaec1e1bbb320a572f9f26	Create Table, Create Sequence, Add Foreign Key Constraint, Custom SQL, Create Table, Add Foreign Key Constraint (x2), Add Unique Constraint, Create Sequence	Creation de ent.structure_enseignement_preferences	\N	2.0.2
2	agia	changelogs/scolarite/2013-03-12-0026365.xml	2013-09-23 10:48:46.23706+02	461	EXECUTED	3:1b7bbdf3f8f37470ef4dc41f32350bf2	Custom SQL	Ajout des contraintes d'unicité avec la gestion des accents sur la table "ent.niveau_general"	\N	2.0.2
1	jcok	changelogs/scolarite/2013-03-13-0026417.xml	2013-09-23 10:48:46.246006+02	462	EXECUTED	3:565be30c172a0d91958e14278ef88d4a	Add Column	Ajout du paramètrage du mode de calcul des taux d'absences (statistiques)	\N	2.0.2
1	jtra	changelogs/securite/2013-03-12-0025761.xml	2013-09-23 10:48:46.251422+02	463	EXECUTED	3:3c8b695aaf26d1cfae05e36a06e19bed	Insert Row	Passage en 2.9.1-S10	\N	2.0.2
1	othe	changelogs/scolarite/2013-03-11-0026308.xml	2013-09-23 10:48:46.261884+02	464	EXECUTED	3:6de712a51d684155c3a27c423c559c51	Add Column	Ajout colonne affichageEdt	\N	2.0.2
1	msan	changelogs/scolarite/2013-03-14-0025997.xml	2013-09-23 10:48:46.268718+02	465	EXECUTED	3:37f2f74b1e0664a00b8cd87e2ca37b03	Drop Unique Constraint, Add Unique Constraint	Ajout d'annee_scolaire dans unique key de preference_etablissement_absences	\N	2.0.2
2	msan	changelogs/scolarite/2013-03-14-0025997.xml	2013-09-23 10:48:46.272815+02	466	EXECUTED	3:0635f2c0711cc63e71d3e16062719de1	Add Not-Null Constraint	Etablissmeent mis a NOT NULL dans preference_etablissement_absences	\N	2.0.2
1	othe	changelogs/scolarite/2013-03-15-0025997.xml	2013-09-23 10:48:46.276919+02	467	EXECUTED	3:e8a5f36f5e209aa83d82f3fccffe1520	Drop Unique Constraint	Suppression contrainte sur ordre des groupe motif	\N	2.0.2
2	othe	changelogs/scolarite/2013-03-15-0025997.xml	2013-09-23 10:48:46.28219+02	468	EXECUTED	3:b2208b511161daa2a559294ef8d7e55a	Custom SQL	Reconstruction de la contrainte, pour qu'elle soit vérifié en fin de commit	\N	2.0.2
1	jtra	changelogs/securite/2013-03-19-0025761.xml	2013-09-23 10:48:46.285976+02	469	EXECUTED	3:3392883e0bacdfbb1cd8c77bc44c58ec	Insert Row	Passage en 2.9.1-S11	\N	2.0.2
1	jtra	changelogs/scolarite/2013-03-21-0026626.xml	2013-09-23 10:48:46.289748+02	470	EXECUTED	3:303bf36b122357aec0f268021c8fa86f	Add Column	Ajout du champs cle dans la table udt.import	\N	2.0.2
2	jtra	changelogs/scolarite/2013-03-21-0026626.xml	2013-09-23 10:48:46.297244+02	471	EXECUTED	3:05f4c8b298e405b0a7567c30c35c0dac	Add Column	Ajout du champs cle_invalide dans la table udt.import	\N	2.0.2
1	jtra	changelogs/securite/2013-03-25-0025761.xml	2013-09-23 10:48:46.301426+02	472	EXECUTED	3:c4eeff56d7f5f824239eb8548878c525	Insert Row	Passage en 2.9.1-S12	\N	2.0.2
1	bahj	changelogs/scolarite/annuaire_interface/2013-03-22-0026655.xml	2013-09-23 10:48:46.338656+02	473	EXECUTED	3:0091896c705edcb728e806955b75a0c4	Modify data type	Agrandissement de la taille de la colonne annuaire_interface.personne.pays	\N	2.0.2
1	bper	changelogs/scolarite/2013-03-26-0024689.xml	2013-09-23 10:48:46.350577+02	474	EXECUTED	3:d103860b9e4075a73036ac166806a41f	Drop Index, Create Index, Drop Index, Create Index	Correction des indexe unique suite à l'ajout de colonne annee_scolaire_id	\N	2.0.2
1	msan	changelogs/scolarite/2013-03-26-0022466.xml	2013-09-23 10:48:46.36147+02	475	EXECUTED	3:7fd79a49061deecaa234211ff75f513e	Custom SQL (x6)	Ajout d'etat IGNORE dans les tables d'import UDT	\N	2.0.2
1	agia	changelogs/scolarite/2013-03-27-0026499.xml	2013-09-23 10:48:46.366962+02	476	EXECUTED	3:dc610c26e02913937cacb78eef2a0cab	Update Data (x2)	Remplacement des noms de séries	\N	2.0.2
1	jtra	changelogs/scolarite/2013-03-27-0026775.xml	2013-09-23 10:48:46.376336+02	477	EXECUTED	3:7ded5573dd8460c23cff89a7b5a97f57	Add Column	Ajout de la colonne ent.structure_enseignement.groupe_ent	\N	2.0.2
1	fsil	migrations/schema.tice/changelog-20110624-6.xml	2013-09-23 10:48:46.395928+02	479	EXECUTED	3:456ab06e0523ef5b26443e9b27bccbf7	Custom SQL, Create Table, Add Foreign Key Constraint	La table compte utilisateur contient les informations nécessaires à\n            la gestion d'un compte utilisateur en mode autonome (i.e. quand les\n            informations ne sont pas fournies par une annuaire ENT tiers).\n            Les colonnes corr...	\N	2.0.2
2	fsil	migrations/schema.tice/changelog-20110624-6.xml	2013-09-23 10:48:46.403705+02	480	EXECUTED	3:5fd6596a1d0bfcc38dba4cefb5d0ba52	Create Index (x2)	Ajout des indexes	\N	2.0.2
3	fsil	migrations/schema.tice/changelog-20110624-6.xml	2013-09-23 10:48:46.409172+02	481	EXECUTED	3:c69b58bb5dac5a28b725ef604fc7ca32	Create Sequence	Ajout de la sequence pour la génération des ids des enregistrements\n            dans compte_utilisateur.\n            La séquence démarre à 100 ce qui permet la création de compte\n            utilisateur spéciaux (admin global,...) sur l'intervalle d'id...	\N	2.0.2
4	fsil	migrations/schema.tice/changelog-20110624-6.xml	2013-09-23 10:48:46.414336+02	482	EXECUTED	3:80b6deffc7035a45e92d325c2f71e334	Create Index	Ajout de l'index sur la clé étrangère personne_id	\N	2.0.2
0	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:46.429795+02	483	EXECUTED	3:160a304003b2853aa228bb5bf5b3b0a4	Create Table, Create Sequence, Create Table, Create Sequence	Entitées d'abord utiles a tdbase mais pouvant être utiles à d'autre\n            modules	\N	2.0.2
1	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:46.512481+02	484	EXECUTED	3:380c180e779c599f5b1004fe47cb973a	Custom SQL, Create Table, Create Sequence, Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreig...	Création du schéma pour tdbase (td) puis de la table question\n            avec relations associées	\N	2.0.2
2	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:46.560592+02	485	EXECUTED	3:4b63e572f0e772e7e3774db864528ddf	Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Create Table, Create Sequence, Add Foreign Key Constr...	Ajout des tables autour de la notion de sujet avec relations\n            associées	\N	2.0.2
3	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:46.59371+02	486	EXECUTED	3:b4adf8d2e32b9a7b2eca46a09ebf578e	Create Table, Create Sequence, Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Add Column (x2), Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index	Gestion des copyrigths	\N	2.0.2
4	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.184565+02	487	EXECUTED	3:6fb57cf807c5dea78d474fc7368481eb	Add Unique Constraint (x3)	Ajout de quelques clés uniques manquantes sur les tables\n            de jointures	\N	2.0.2
5	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.266405+02	488	EXECUTED	3:98834bf5fb915f7a69340eec3e2042c6	Create Sequence, Create Table, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index, Create Sequence, Create Table, Add Foreign Key Constraint, Create Index, Add Foreign Key Constr...	Gestion des séances, copies, réponses, corrections...	\N	2.0.2
6	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.275144+02	489	EXECUTED	3:b7a74171ec53aa3e9413cac4016e9d63	Add Column	Ajout colonne code dans table export_format	\N	2.0.2
7	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.284897+02	490	EXECUTED	3:a1ad05ff40a34e53c8ab54fe482c8f6c	Modify data type	Modification table copyrights_type	\N	2.0.2
8	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.288748+02	491	EXECUTED	3:7ab045aa23fdaeb5ea972c4e3dc82d42	Rename Table	Modification non table copyrights_type	\N	2.0.2
9	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.293088+02	492	EXECUTED	3:e4c0195fabcc88f43c1403ce0e6580b4	Drop Not-Null Constraint	Modification contrainte not null sur publication.date_fin	\N	2.0.2
10	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.308921+02	493	EXECUTED	3:764cd1d14855af0bf545e23adce1c2d2	Add Column, Drop Not-Null Constraint, Add Column, Add Foreign Key Constraint, Create Index, Add Unique Constraint, Add Column	Ajout champ note_correcteur dans td.copie et td.reponse\n            Suppression not null contrainte sur td.copie.date_remise\n            Ajout champ eleve_id sur td.reponse\n            Ajout champ annotation_privee sur td.sujet	\N	2.0.2
11	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.317157+02	494	EXECUTED	3:e9c48db0df7464d38d389500d970d838	Drop Sequence, Create Sequence, Rename Column	Correction sur orthographe copyrights	\N	2.0.2
12	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.328406+02	495	EXECUTED	3:16dc4667623952919306c1e85480afa5	Add Column, Create Index, Add Foreign Key Constraint	Complément table sujet	\N	2.0.2
13	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.334892+02	496	EXECUTED	3:0887cf1128166fc9fb9720427ba59e89	Add Column (x2)	Ajout de champs normalisés pour recherche sur sujets et questions	\N	2.0.2
14	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.36418+02	497	EXECUTED	3:ca20da2998cc69a00f8b6a064a6b6672	Add Column (x2)	Ajout de champs "publies" pour optimiser recherche	\N	2.0.2
15	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.388295+02	498	EXECUTED	3:e97c8d574d475a2d54c59363e38e5207	Add Column (x2), Add Foreign Key Constraint (x2), Add Unique Constraint (x2), Create Index (x2)	Ajout des champs pour la gestion automatique du "timestamping"\n            Ajout des champs pour gestion des version	\N	2.0.2
16	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.404053+02	499	EXECUTED	3:a2c1107b3e4c7cfaa9953456a1d11a52	Create Table, Create Sequence, Add Column, Add Foreign Key Constraint, Create Index	Support des types de sujet	\N	2.0.2
17	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.421374+02	500	EXECUTED	3:d67c219540b3258ea3930ef5ec374de8	Add Column	Ajout de la colonne "code" sur table question_type	\N	2.0.2
18	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.430414+02	501	EXECUTED	3:882d9bc34324919e26c96c454b3a0efb	Add Column, Create Index, Add Foreign Key Constraint	Complément table question	\N	2.0.2
19	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.434793+02	502	EXECUTED	3:dc6661e441b29d4d4e4ad2f7a51b8bcd	Add Column	Ajout de champs normalisés pour recherche sur questions	\N	2.0.2
20	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.453572+02	503	EXECUTED	3:6eed330e629dacec99f27c29fa4df42b	Drop Column (x2), Add Column (x2), Add Foreign Key Constraint (x2), Add Unique Constraint (x2)	Modification tables sujet et question pour gestion des versions	\N	2.0.2
21	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.461304+02	504	EXECUTED	3:98d797b0858d47fa7db905b82e63fd32	Drop Unique Constraint (x3)	Suppression de quelques clés uniques sur les tables\n            de jointures	\N	2.0.2
22	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.465598+02	505	EXECUTED	3:2d0c7804efb77ceff94899ad8a35d4ea	Add Column	Ajout colonne sur table attachement	\N	2.0.2
23	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.476029+02	506	EXECUTED	3:4aed6ee04d1c68b03f7b14607604cd10	Add Column, Rename Column	Renommage et ajout colonne sur table attachement	\N	2.0.2
24	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.479785+02	507	EXECUTED	3:1c5b813281b736477cef60f4c901c9f3	Rename Column	Renommage colonne rang dans table sujet_sequence_question	\N	2.0.2
25	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.497848+02	508	EXECUTED	3:a48295e124ca9be7025433b52acabad7	Create Sequence, Drop Sequence, Rename Column, Add Not-Null Constraint (x3), Add Column, Create Index, Add Foreign Key Constraint	Modifications relatives à la table modalite_activite	\N	2.0.2
26	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.513847+02	509	EXECUTED	3:bbc52995ba388190b0759aceeeb1bd35	Add Column	Ajout colonne copie améliorable	\N	2.0.2
27	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.517476+02	510	EXECUTED	3:33a3bab4449159a05d7a79547c98491d	Drop Not-Null Constraint	Supprime not null constrainte sur modalite_activite.etablissement	\N	2.0.2
28	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.534074+02	511	EXECUTED	3:60f01892b1e9f2c5a7daf45adb26e5b5	Add Column, Create Index (x2), Add Foreign Key Constraint (x2), Drop Column	Modifications relatives à la table modalite_activite	\N	2.0.2
29	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.543409+02	512	EXECUTED	3:00e31a12de69c63938637cfbba31e702	Add Column	Ajout de la colonne sujet_sequence_questions.points	\N	2.0.2
30	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.558967+02	513	EXECUTED	3:670ebf86d96b7efa571613aeaef3ed2e	Drop Column, Add Column, Create Index, Add Foreign Key Constraint, Add Unique Constraint (x2)	Correction table reponse\n            Ajout de contraintes d'unicité sur table copie et reponse	\N	2.0.2
31	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.563128+02	514	EXECUTED	3:546c3ba424604791ff2cb7b45fe0363e	Add Column	Ajout de la colonne copie.maxPoints	\N	2.0.2
32	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.578904+02	515	EXECUTED	3:375f3b333e6cdab20302fabf19fb9420	Add Column	Ajout des la colonne copie.maxPoints...	\N	2.0.2
33	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.594238+02	516	EXECUTED	3:15b82b0769bfd82642c2609da0613b84	Add Column	Ajout d'une colonne "est_jetable" dans la table copie.	\N	2.0.2
34	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.605566+02	517	EXECUTED	3:ddd0a113cd71a3de3fbd54278c008939	Drop Column, Add Column, Drop Column, Add Column	Suppression des colonnes xxx_depart_branche_id des tables question\n            et sujet ;\n            Ajout de la colonne paternite sur les tables question et sujet	\N	2.0.2
35	bpoller	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.610583+02	518	EXECUTED	3:29e368304eab969146949ee954066133	Add Column	Ajout des colonnes hauteur et largeur dans table attachement	\N	2.0.2
36	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.628693+02	519	EXECUTED	3:da3546819ad198108d378cb7c7d33fea	Create Table, Create Sequence, Add Foreign Key Constraint, Create Index, Add Foreign Key Constraint, Create Index	Ajout de la table nécessaire pour la gestion des attachements aux\n            réponses.	\N	2.0.2
37	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.634422+02	520	EXECUTED	3:2a8f040a81dbd03524834516dccb604d	Add Column	Ajout de la colonne rang dans la table reponse\n            pour gerer l'ordre aléatoire des réponses	\N	2.0.2
38	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.64385+02	521	EXECUTED	3:2cf44b2c172e7b9a4ec3641a8b5fda87	Add Column, Create Index, Add Foreign Key Constraint	Ajout d'une relation question - sujet de type exercice pour la\n            gestion\n            de type composite (exercice)	\N	2.0.2
39	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.652196+02	522	EXECUTED	3:f1501c3702642abc1f86a79731c8cd27	Drop Table, Drop Sequence	Supprime table question arborescence qui ne sera pas utilisé	\N	2.0.2
40	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.661324+02	523	EXECUTED	3:47e9516eafb09d858e4a5e5179f05eac	Add Column	Ajout colonne estInsereDansLaQuestion sur table question_attachement	\N	2.0.2
41	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.671935+02	524	EXECUTED	3:17e228e5ef154606114320aae7068dd4	Add Column, Create Index, Add Foreign Key Constraint	Ajout d'un attachement "direct" à la question	\N	2.0.2
42	fsil	migrations/schema.tdbase/changelog-20110704-4.xml	2013-09-23 10:48:47.676246+02	525	EXECUTED	3:ee38261a30ba1a08aded80df9ac66f9c	Add Column	Ajout colonne principalAttachementEstInsereDansLaQuestion sur table question	\N	2.0.2
1	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.680702+02	526	EXECUTED	3:b8a9423956a4348288e118b8553e4adc	Custom SQL	Initialisation type de questions	\N	2.0.2
2	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.684732+02	527	EXECUTED	3:5b730e528d10a3db8c1d72248e2cb35e	Custom SQL	Initialisation export_format	\N	2.0.2
3	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.689155+02	528	EXECUTED	3:c45e4ec9365568b0f01d1dff63c691c1	Custom SQL	Initialisation type de copyrights	\N	2.0.2
4	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.693248+02	529	EXECUTED	3:4be98c6a771233249be58b4acb4a6f87	Custom SQL	Initialisation des types de sujet	\N	2.0.2
5	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.699889+02	530	EXECUTED	3:2d7690e19664cadef8914ac1c5979ef9	Custom SQL	Mise à jour de la table question type	\N	2.0.2
6	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.703759+02	531	EXECUTED	3:2bb8e75faecd751823009ef17cd0a93d	Custom SQL	Complément sur type de copyrights	\N	2.0.2
7	fsil	migrations/schema.tdbase/referentiel/changelog-20110706-4.xml	2013-09-23 10:48:47.709338+02	532	EXECUTED	3:a07f46610c2fee64358c8211d80da75f	Custom SQL	Mise à jour de la table question type	\N	2.0.2
1	fsil	migrations/schema.tdbase/referentiel/changelog-20120417-125.xml	2013-09-23 10:48:47.713871+02	533	EXECUTED	3:d84c6316fbb3550a9e11766d3bf8a424	Update Data (x2)	Mise à jour de la table question type	\N	2.0.2
2	fsil	migrations/schema.tdbase/referentiel/changelog-20120417-125.xml	2013-09-23 10:48:47.71783+02	534	EXECUTED	3:1f6079913e90bb78ccbcd4e7927a5341	Update Data	Mise à jour de la table question type	\N	2.0.2
1	fsil	migrations/schema.tdbase/changelog-20120424-137.xml	2013-09-23 10:48:47.721723+02	535	EXECUTED	3:7ad9836c07a2585a027b9196cbe98653	Add Column	Ajout du champ date_enregistrement dans la table copie	\N	2.0.2
1	fsil	migrations/schema.tice/changelog-20120504-144.xml	2013-09-23 10:48:47.726646+02	536	EXECUTED	3:e6137514a99c42cb0f55b4a42dc55298	Create Index	Ajout d'un index sur colonne chemin table attachement	\N	2.0.2
1	fsil	migrations/schema.tdbase/changelog-20120522-63.xml	2013-09-23 10:48:47.733136+02	537	EXECUTED	3:788831b7c15c1b6d90c751fee7058f33	Drop Foreign Key Constraint (x2)	Suppression contraintes sur modalite_activite.activite_id et\n            modalite_activite.evaluation_id	\N	2.0.2
1	fsil	migrations/schema.tdbase/referentiel/changelog-20130228-209.xml	2013-09-23 10:48:47.738627+02	538	EXECUTED	3:e9cd68ad60bfba586adfcca6feae1e4a	Update Data (x2)	Mise à jour de la table tice.copyrights_type	\N	2.0.2
1	fsil	migrations/schema.tdbase/changelog-20130330-204.xml	2013-09-23 10:48:47.749007+02	539	EXECUTED	3:fd6455cc03922930b6d4ce96ccfe0762	Add Column (x2), Add Foreign Key Constraint (x2)	Ajout de la colonne niveau_general_id dans les tables td.sujet et td.question	\N	2.0.2
2	fsil	migrations/schema.tdbase/changelog-20130330-204.xml	2013-09-23 10:48:47.75667+02	540	EXECUTED	3:e8d7bd6080ab577f630849c44e7816c2	Drop Foreign Key Constraint (x2), Drop Column (x2)		\N	2.0.2
1	agia	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 11:18:41.177982+02	541	EXECUTED	3:2052ddb035f136071a96b27fbabc0005	Custom SQL	Ajout de la fonction "ORIENTATION"	\N	2.0.2
2	agia	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 11:18:41.185402+02	542	EXECUTED	3:3971190c6a0fe773f402fe104e086a4e	Custom SQL	Ajout de la fonction "ASSISTANT_EDUCATION"	\N	2.0.2
3	agia	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 11:18:41.189553+02	543	EXECUTED	3:5666ac31530d4087aa3d81c2e83ea557	Custom SQL	Ajout de la fonction "AUXILIAIRE_VIE_SCOLAIRE"	\N	2.0.2
4	agia	changelogs/scolarite/initialisation/2011-09-13-0014523.xml	2013-09-23 11:18:41.194094+02	544	EXECUTED	3:492c167fded8ba1c9a9ea6bbacc6766f	Custom SQL	Ajout de la fonction "APPRENTISSAGE"	\N	2.0.2
1	bper	changelogs/scolarite/2013-02-13-0025725-2.xml	2013-09-23 11:18:41.228059+02	545	EXECUTED	3:94d261783cf523517f67edc1b7978fcc	Custom SQL	Ajout des contraintes d'unicité avec la gestion des accents sur la table "ent.type_activite"	\N	2.0.2
1	bper	changelogs/scolarite/2013-03-27-0026455.xml	2013-09-23 11:18:41.234824+02	546	EXECUTED	3:d0352fa379158ed0302e8ffb0ed3530a	Custom SQL	Changement mode de calcul de l'épreuve EPS pour la série "Professionnelle Agricole"	\N	2.0.2
1	jtra	changelogs/securite/2013-03-29-0025761.xml	2013-09-23 11:18:41.239407+02	547	EXECUTED	3:e6a3a2b7ffc074e1d799537848410b51	Insert Row	Passage en 2.9.1-RC1	\N	2.0.2
1	othe	changelogs/scolarite/2013-03-28-0026796.xml	2013-09-23 11:18:41.253028+02	548	EXECUTED	3:8764090d501a66136915e0a928f8b8ed	Create Table, Create Sequence, Add Foreign Key Constraint	Ajout de la table des options d'impression du bulletin	\N	2.0.2
1	othe	changelogs/scolarite/2013-03-29-0026833.xml	2013-09-23 11:18:41.259411+02	549	EXECUTED	3:44c6537d5e54ebc14462ad635de10000	Add Column (x2)	Gestion des polices et taille	\N	2.0.2
1	othe	changelogs/scolarite/2013-04-09-0026833.xml	2013-09-23 11:18:41.263717+02	550	EXECUTED	3:574e053a53e060c004873aeb93159ca7	Add Column	Gestion des cachets	\N	2.0.2
1	agia	changelogs/scolarite/2013-04-10-0026796.xml	2013-09-23 11:18:41.269379+02	551	EXECUTED	3:d1a66148ef9161d155d967f530465a07	Add Column (x2)	Création des champs 'rang' et 'nb_eleves' dans 'entnotes.resultat_eleve_service_periode'	\N	2.0.2
2	agia	changelogs/scolarite/2013-04-10-0026796.xml	2013-09-23 11:18:41.277181+02	552	EXECUTED	3:23d0754171e0edf7e64ae472ccdae562	Drop Column (x2), Add Column (x2)	Correction du type des champs 'rang' et 'nb_eleves' dans 'entnotes.resultat_eleve_service_periode'	\N	2.0.2
1	agia	changelogs/scolarite/2013-04-11-0026796.xml	2013-09-23 11:18:41.283609+02	553	EXECUTED	3:fbca7fd0e396e16d2e5716193f7aa5a0	Add Column (x2)	Création du champ 'nb_notes' dans 'entnotes.resultat_eleve_sous_service_periode'	\N	2.0.2
1	bahj	changelogs/securite/2013-04-15-0027191.xml	2013-09-23 11:18:41.29756+02	554	EXECUTED	3:9c18cbff5e9c000f8dd4d21a99e10f45	Insert Row	Passage en 2.9.2-S15	\N	2.0.2
1	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.315013+02	555	EXECUTED	3:cb87812e86f669c922febd12a71f8400	Custom SQL (x7)	Mise à jour des champs annuaire_import_id dans les tables :\n            - propriete_scolarite\n            - mef\n            - etablissement\n            - niveau\n            - porteur_ent\n            - structure_enseignement\n            - etablissement_...	\N	2.0.2
2	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.322029+02	556	EXECUTED	3:2798a56826e17aa9c6b2135045f1132a	Custom SQL (x3)		\N	2.0.2
3	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.331136+02	557	EXECUTED	3:157da5a0cb2762fde12d7f35b9716f25	Drop Table		\N	2.0.2
4	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.337245+02	558	EXECUTED	3:d1125e1191cb6ee0c964bbfff3556ea4	Custom SQL		\N	2.0.2
5	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.345913+02	559	EXECUTED	3:4f1d2ed697efcc0a957f62aca00182f0	Add Column		\N	2.0.2
6	jbui	changelogs/scolarite/2013-04-16-0027053.xml	2013-09-23 11:18:41.350952+02	560	EXECUTED	3:ff53d4916cf42028e34e555e6ebfb628	Custom SQL		\N	2.0.2
1	jtra	changelogs/securite/2013-04-22-0027191.xml	2013-09-23 11:18:41.356098+02	561	EXECUTED	3:c4d15eb55b70b4535226741c19af9a88	Insert Row	Passage en 2.9.2-S16	\N	2.0.2
1	agia	changelogs/scolarite/2013-05-17-0027531.xml	2013-09-23 11:18:41.364298+02	562	EXECUTED	3:730a357e58734f0b85f0cde0b1e8a3d5	Add Column, Add Foreign Key Constraint	Ajout de colonne 'classe' dans la table 'impression.bulletin_options'	\N	2.0.2
2	agia	changelogs/scolarite/2013-05-17-0027531.xml	2013-09-23 11:18:41.369454+02	563	EXECUTED	3:813db170cd255db56775aa6cdab4f563	Add Unique Constraint	Ajout de contrainte d'unicité sur la classe	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-04-23-0023926.xml	2013-09-23 11:18:41.37351+02	564	EXECUTED	3:e2f98bb049806c5e3a0ddbd9fda9c8a1	Custom SQL	Ajout du type d'erreur CODE_MEF_NULL	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-04-24-0027499.xml	2013-09-23 11:18:41.37841+02	565	EXECUTED	3:2e6c7eb6483b2e4988a6a672c1404b3c	Add Column	Ajout de la colonne synchro.execution.demande_import_id_production_max	\N	2.0.2
2	jtra	changelogs/scolarite/annuaire_interface/2013-04-24-0027499.xml	2013-09-23 11:18:41.38243+02	566	EXECUTED	3:b800105c552b45a77362f7b980d2377f	Add Column	Ajout de la colonne ent.civilite.annuaire_import_id	\N	2.0.2
3	othe	changelogs/scolarite/annuaire_interface/2013-04-24-0027499.xml	2013-09-23 11:18:41.386356+02	567	EXECUTED	3:5eb0e1adbcf53aebd45cab51ac05ae1a	Add Column	Ajout de la colonne ent.rel_classe_groupe.annuaire_import_id	\N	2.0.2
1	msan	changelogs/scolarite/2013-04-19-0026845.xml	2013-09-23 11:18:41.403167+02	568	EXECUTED	3:e4aae6a569df21919af295b40cf6897d	Create Sequence, Create Table, Add Foreign Key Constraint (x2)	Création du report	\N	2.0.2
2	msan	changelogs/scolarite/2013-04-19-0026845.xml	2013-09-23 11:18:41.421681+02	569	EXECUTED	3:e360fbf907ba2a7608e17e1d1338f6d4	Create Sequence, Create Table, Add Foreign Key Constraint (x3), Custom SQL	Création du report_traitement	\N	2.0.2
3	msan	changelogs/scolarite/2013-04-19-0026845.xml	2013-09-23 11:18:41.430988+02	570	EXECUTED	3:8039579a7d6f69a77a2428bc9ed3a8f2	Add Column, Add Foreign Key Constraint, Add Unique Constraint	Ajout d'etablissement dans report	\N	2.0.2
1	bper	changelogs/scolarite/2013-04-18-0027183.xml	2013-09-23 11:18:41.435213+02	571	EXECUTED	3:3354b2193b116feef84782ac0728b55c	Custom SQL	Mise à NULL de tous les rangs calculés afin qu'ils soient recalculés en tenant compte de la précision	\N	2.0.2
1	bahj	changelogs/securite/2013-06-10-0028475.xml	2013-09-23 11:18:41.725349+02	606	EXECUTED	3:b17d54ec86f24051091d735395a054cb	Insert Row	Passage en 2.9.2-S23	\N	2.0.2
1	agia	changelogs/scolarite/2013-04-22-0027416.xml	2013-09-23 11:18:41.449357+02	572	EXECUTED	3:a204f59833051e1fd755503bd5122c62	Create Table, Create Sequence, Add Foreign Key Constraint, Add Default Value (x2), Create Index	Création de la table 'preference_utilisateur_notes'	\N	2.0.2
2	bper	changelogs/scolarite/2013-04-22-0027416.xml	2013-09-23 11:18:41.453939+02	573	EXECUTED	3:e1414ea5ef8d487df673b19e8e5c836c	Add Column	Ajout de colonne 'rang' dans la table 'entnotes.resultat_eleve_periode'	\N	2.0.2
1	othe	changelogs/scolarite/annuaire_interface/2013-04-29-0027588.xml	2013-09-23 11:18:41.457476+02	574	EXECUTED	3:c75426daa27d719e7c76f19a708bb1b4	Custom SQL	Ajout du type d'alerte sur le nom/prénom	\N	2.0.2
1	bahj	changelogs/securite/2013-04-30-0027633.xml	2013-09-23 11:18:41.460996+02	575	EXECUTED	3:c8ac5ec3c3873f277515148723ba3de2	Insert Row	Passage en 2.9.2-S17	\N	2.0.2
1	othe	changelogs/securite/2013-05-14-0027800.xml	2013-09-23 11:18:41.464488+02	576	EXECUTED	3:521741c6ccc5d70d3898ed089be4128f	Insert Row	Passage en 2.9.2-S19	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-05-14-0027797.xml	2013-09-23 11:18:41.467725+02	577	EXECUTED	3:6f16d3e944ada21bf536e023832e5314	Custom SQL	Ajout du type d'erreur personne sans fonction	\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-05-14-0027807.xml	2013-09-23 11:18:41.471298+02	578	EXECUTED	3:eb6098981f4ecc727796fe1e82edf163	Custom SQL	Ajout du type d'erreur porteur inconnu	\N	2.0.2
1	jbui	changelogs/scolarite/2013-05-02-0027641.xml	2013-09-23 11:18:41.488043+02	579	EXECUTED	3:130fdc5db40cfaa6dd7199a06ffffcd3	Add Column, Add Foreign Key Constraint	Ajout du type dispense, et de la matière dans appel_ligne.	\N	2.0.2
1	jtra	changelogs/scolarite/2013-05-16-0027851.xml	2013-09-23 11:18:41.496984+02	580	EXECUTED	3:ee75b0af8e8129b312fa1c8ecab95877	Add Column	Ajout de l'adresse dans la table ent.etablissement.\n          Elle était stockée jusqu'à présent dans ent.preference_etablissement	\N	2.0.2
2	jtra	changelogs/scolarite/2013-05-16-0027851.xml	2013-09-23 11:18:41.502288+02	581	EXECUTED	3:f1e059aee05a3868424ff8146c88af3e	Custom SQL	Copie des adresses entre la table ent.preference_etablissement et la\n      table etablissement	\N	2.0.2
1	bper	changelogs/scolarite/2013-05-21-0027917.xml	2013-09-23 11:18:41.522244+02	582	EXECUTED	3:629f45db1d0c80feab6b9225e892cfa8	Custom SQL (x6)	Modification des épreuves de Brevet	\N	2.0.2
1	bahj	changelogs/securite/2013-05-21-0027919.xml	2013-09-23 11:18:41.525966+02	583	EXECUTED	3:18065e2e583c7a5f50050c65baf9200b	Insert Row	Passage en 2.9.2-S20	\N	2.0.2
1	agia	changelogs/scolarite/2013-05-27-0027531.xml	2013-09-23 11:18:41.533203+02	584	EXECUTED	3:fbd3cdfb02476893940095b66282671d	Custom SQL	Initialisation des options de publication de toutes les classes	\N	2.0.2
2	agia	changelogs/scolarite/2013-05-27-0027531.xml	2013-09-23 11:18:41.547036+02	585	EXECUTED	3:482c57b58f6ea5f97f22289a39e74385	Add Column, Drop Unique Constraint, Custom SQL (x5)	Ajouter à la table impression.bulletin_options le champ portee	\N	2.0.2
3	agia	changelogs/scolarite/2013-05-27-0027531.xml	2013-09-23 11:18:41.551869+02	586	EXECUTED	3:562e3db36d59e62c65bd8dedfa7c784d	Custom SQL	Modification de la contrainte chk_bulletin_options_classe_id_portee	\N	2.0.2
1	jtra	changelogs/scolarite/2013-05-27-0025308.xml	2013-09-23 11:18:41.560592+02	587	EXECUTED	3:9f28c1934585659727cf91d23d9747c5	Create Procedure, Custom SQL (x3), Alter Sequence		\N	2.0.2
1	jtra	changelogs/scolarite/annuaire_interface/2013-05-28-0028123.xml	2013-09-23 11:18:41.567651+02	588	EXECUTED	3:46a56e778e9d8b62435915d034677812	Add Column, Add Foreign Key Constraint	Stockage des demandes d'import dans le verrou	\N	2.0.2
1	agia	changelogs/scolarite/2013-05-30-0028142.xml	2013-09-23 11:18:41.571646+02	589	EXECUTED	3:09217ea6cb6a3607cf37c0bfbdc1eb66	Add Column	Ajout de colonne 'nb_eleves' dans la table 'entnotes.resultat_eleve_periode'	\N	2.0.2
1	msan	changelogs/scolarite/2013-05-28-0027540.xml	2013-09-23 11:18:41.57515+02	590	EXECUTED	3:833e07a29de2e419ddf200d8c547b457	Custom SQL	Creation de schema parametrage_classe	\N	2.0.2
2	msan	changelogs/scolarite/2013-05-28-0027540.xml	2013-09-23 11:18:41.582454+02	591	EXECUTED	3:4c0dc000fb5d066547550e56afcda4a9	Custom SQL (x4)	Deplacement de report et report_traitement vers le schema parametrage_classe	\N	2.0.2
3	msan	changelogs/scolarite/2013-05-28-0027540.xml	2013-09-23 11:18:41.5943+02	592	EXECUTED	3:5d3ffe00cdb3fe46f038143560367b43	Create Sequence, Create Table, Add Foreign Key Constraint (x2)	Creation de creation_sous_services	\N	2.0.2
4	msan	changelogs/scolarite/2013-05-28-0027540.xml	2013-09-23 11:18:41.606615+02	593	EXECUTED	3:dc9f28cb82863aafab1bb16348726dbd	Create Sequence, Create Table, Add Foreign Key Constraint (x2)	Creation de creation_sous_services_matiere	\N	2.0.2
5	msan	changelogs/scolarite/2013-05-28-0027540.xml	2013-09-23 11:18:41.624213+02	594	EXECUTED	3:f9bab3cdb8708136a4ded952858910c9	Create Sequence, Create Table, Add Foreign Key Constraint (x2), Custom SQL	Creation de creation_sous_services_sous_matiere	\N	2.0.2
1	jbui	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.657018+02	595	EXECUTED	3:512ffa50fb2c5197b35b60ad958f5bf9	Drop Column (x2), Add Column, Add Foreign Key Constraint, Create Table, Add Foreign Key Constraint (x2), Add Unique Constraint, Custom SQL, Add Column, Add Foreign Key Constraint (x4)	Correction sur les tables de création de liens avec des\n            sous-matières	\N	2.0.2
2	jbui	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.662854+02	596	EXECUTED	3:9b185a9a2eb95be4958eb9ebda464dab	Create Sequence		\N	2.0.2
3	jbui	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.67047+02	597	EXECUTED	3:7a869b9130cd2aaa99a568df5166409c	Add Column, Add Foreign Key Constraint, Drop Column		\N	2.0.2
4	jbui	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.677508+02	598	EXECUTED	3:f9215b3d781d48aea08c92c72c1c56b5	Add Primary Key		\N	2.0.2
5	jbui	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.686322+02	599	EXECUTED	3:623f02fda6088f5939da1b5778408c5e	Drop Column, Drop Table, Drop Sequence		\N	2.0.2
6	msan	changelogs/scolarite/2013-05-29-0027540.xml	2013-09-23 11:18:41.696113+02	600	EXECUTED	3:c91e80bdb6e9185261d470f460fabe0a	Drop Foreign Key Constraint (x2), Add Foreign Key Constraint (x2)	Passage de FK a DELETE CASCADE	\N	2.0.2
1	bahj	changelogs/scolarite/2013-05-31-0028230.xml	2013-09-23 11:18:41.701383+02	601	EXECUTED	3:3e3578afeeced077c7b91cc20f2922b5	Custom SQL		\N	2.0.2
1	bahj	changelogs/securite/2013-05-28-0028129.xml	2013-09-23 11:18:41.704994+02	602	EXECUTED	3:426d349a9614efe04567346379357eb2	Insert Row	Passage en 2.9.2-S21	\N	2.0.2
1	jtra	changelogs/scolarite/2013-06-03-0028285.xml	2013-09-23 11:18:41.708691+02	603	EXECUTED	3:e001d9a9309b2c051966c24b59634deb	Custom SQL	Réinitialisation des traces de la bascule d'année	\N	2.0.2
2	jtra	changelogs/scolarite/2013-06-03-0028285.xml	2013-09-23 11:18:41.715995+02	604	EXECUTED	3:d71291d58ba426f38a183ca6aee51b43	Drop Foreign Key Constraint, Drop Column, Drop Foreign Key Constraint, Drop Column	Suppression de la relation evaluation -> activite (qui n'est pas utilisée)	\N	2.0.2
1	bahj	changelogs/securite/2013-06-03-0028280.xml	2013-09-23 11:18:41.721755+02	605	EXECUTED	3:d71d07f33f68b54959b083a230b4e11c	Insert Row	Passage en 2.9.2-RC1	\N	2.0.2
1	jtra	changelogs/securite/2013-06-13-0028538.xml	2013-09-23 11:18:41.728638+02	607	EXECUTED	3:12024ff9f11419ff14c0d51292876afb	Insert Row	Passage en 2.9.2-RC2	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2013-06-14-0028553.xml	2013-09-23 11:18:41.73282+02	608	EXECUTED	3:a59e373062d1bb9ae374e84115054ae5	Custom SQL	Ajout de type d'alerte PERSONNE_INEXISTANTE	\N	2.0.2
1	msan	changelogs/scolarite/annuaire_interface/2013-06-17-0028607.xml	2013-09-23 11:18:41.741715+02	609	EXECUTED	3:4f347e9313d5f8f3ff6a7e7f5e6d1669	Modify data type	Aggrandissement de colonne type_erreur.code	\N	2.0.2
2	msan	changelogs/scolarite/annuaire_interface/2013-06-17-0028607.xml	2013-09-23 11:18:41.745584+02	610	EXECUTED	3:b0ded9446c6606b2f5fd92f61bff83a9	Custom SQL	Ajout du type d'erreur porteur inconnu	\N	2.0.2
1	bper	changelogs/scolarite/2013-06-21-0028607.xml	2013-09-23 11:18:41.756326+02	611	EXECUTED	3:2a1d370d2f650477511a99d4757b02d4	Custom SQL	Ajoute des personnes manquantes pour les autorités de type 'acteur'	\N	2.0.2
1	othe	changelogs/scolarite/2013-06-04-0027533.xml	2013-09-23 11:18:41.765096+02	612	EXECUTED	3:d8b98c3bcc385883e3da3567c931226b	Create Sequence, Create Table	Création de la table securite.fonctionnalite	\N	2.0.2
2	othe	changelogs/scolarite/2013-06-04-0027533.xml	2013-09-23 11:18:41.782296+02	613	EXECUTED	3:1d9de30b6663bd7674f7f56814287871	Create Sequence, Create Table, Add Unique Constraint, Add Foreign Key Constraint (x3)	Création de la table securite.acces_fonctionnalite_personne	\N	2.0.2
1	othe	changelogs/scolarite/2013-06-06-0027533.xml	2013-09-23 11:18:41.799089+02	614	EXECUTED	3:a13dde5c51f3df85feb72f449456f956	Create Sequence, Create Table, Add Unique Constraint, Add Foreign Key Constraint (x3)	Création de la table securite.acces_fonctionnalite_fonction	\N	2.0.2
1	jcok	changelogs/scolarite/2013-06-10-0027533.xml	2013-09-23 11:18:41.823503+02	615	EXECUTED	3:82e6e581c9721d7f77add41e72c00baf	Custom SQL	Alimentation de la table Fonctionnalité	\N	2.0.2
1	agia	changelogs/scolarite/2013-06-11-0027533.xml	2013-09-23 11:18:41.836887+02	616	EXECUTED	3:8a25d4f14815719044bccd9d2ea2be01	Custom SQL	Alimentation de la table securite.fonctionnalite pour le module notes	\N	2.0.2
1	agia	changelogs/scolarite/2013-06-11-0027533-2.xml	2013-09-23 11:18:41.846447+02	617	EXECUTED	3:cfd511fa5f3179297409eaa7219f72e7	Add Column, Add Default Value, Drop Not-Null Constraint, Add Unique Constraint, Add Default Value	Ajout valeur par défaut pour groupe sur la table securite.fonctionnalite	\N	2.0.2
1	agia	changelogs/scolarite/2013-06-12-0027533.xml	2013-09-23 11:18:41.864146+02	618	EXECUTED	3:d0418a2b3a869dd59916560cb2e4ab30	Drop Column, Add Column, Add Not-Null Constraint, Create Sequence, Create Table, Add Unique Constraint, Add Foreign Key Constraint (x2)	Création table "securite.acces_fonctionnalite_fonction_defaut"	\N	2.0.2
1	agia	changelogs/scolarite/2013-06-12-0027533-2.xml	2013-09-23 11:18:42.098501+02	619	EXECUTED	3:5237befa64b16f9a4ee0aee9bb7536eb	Custom SQL	Alimentation de la table securite.acces_fonctionnalite_fonction_defaut pour le module notes	\N	2.0.2
2	agia	changelogs/scolarite/2013-06-12-0027533-2.xml	2013-09-23 11:18:42.129507+02	620	EXECUTED	3:b85e2776b74f636e8339d89989db973f	Custom SQL (x2)	Ajouter la fonctionnalite 'NOTES_SAISIE_NOTES'	\N	2.0.2
1	jcok	changelogs/scolarite/2013-06-13-0027533.xml	2013-09-23 11:18:42.592+02	621	EXECUTED	3:64c87575c66e81e290f96b0df2e65b8c	Custom SQL	Alimentation de la table AccesFonctionnaliteFonction	\N	2.0.2
1	bahj	changelogs/scolarite/2013-06-27-0027533.xml	2013-09-23 11:18:42.601175+02	622	EXECUTED	3:fcda05a1e77a43898af467ba01c24b28	Custom SQL	Suppression de paramétrage par défaut d'accès aux fonctionnalité\n            pour la fonction invité	\N	2.0.2
2	bahj	changelogs/scolarite/2013-06-27-0027533.xml	2013-09-23 11:18:42.620502+02	623	EXECUTED	3:95bb3c4b552e033f5ee21f9540d200ea	Custom SQL	Alimentation de la table AccesFonctionnaliteFonctionDefaut pour la\n            fonctionnalité FICHE_ELEVE	\N	2.0.2
2	msan	changelogs/scolarite/2013-06-27-0027533.xml	2013-09-23 11:18:42.628222+02	624	EXECUTED	3:e7f2b1839943075553113a5843c34d40	Custom SQL (x3), Delete Data	Suppression de fonctionnalite NOTES_CONSULT_NOTES	\N	2.0.2
3	msan	changelogs/scolarite/2013-06-27-0027533.xml	2013-09-23 11:18:42.632611+02	625	EXECUTED	3:e293de32984bb7a97935d798c5d4e5bf	Update Data	Renommage de fonctionnalite NOTES_SAISIE_NOTES ->\n            NOTES_SAISIE_NOTES_ENSEIGNANTS	\N	2.0.2
1	bahj	changelogs/securite/2013-06-28-0028850.xml	2013-09-23 11:18:42.636042+02	626	EXECUTED	3:6795833d7bd7a5cd41377ac6b0e9d689	Insert Row	Passage en 2.9.3-RC1	\N	2.0.2
1	obon	changelogs/scolarite/2013-07-08-0027533.xml	2013-09-23 11:18:42.641129+02	627	EXECUTED	3:cf9b399919267fa45677b621edcf9734	Custom SQL	Désactive les securite.acces_fonctionnalite_fonction_defaut\n            pour la fonction 'DOC'\n            et la fonctionnalite 'ABS' ainsi que sa descendance	\N	2.0.2
2	obon	changelogs/scolarite/2013-07-08-0027533.xml	2013-09-23 11:18:42.645281+02	628	EXECUTED	3:177ad20294501b6a16d9179e75ecc1b8	Custom SQL	Supprime les securite.acces_fonctionnalite_fonction\n            pour la fonction 'DOC'\n            et la fonctionnalite 'ABS' ainsi que sa descendance	\N	2.0.2
1	bahj	changelogs/securite/2013-07-08-0029100.xml	2013-09-23 11:18:42.648714+02	629	EXECUTED	3:016fadaab17d4b26f4187ad700ea93a9	Insert Row	Passage en 2.9.3-S27	\N	2.0.2
1	obon	changelogs/scolarite/2013-07-09-0027533.xml	2013-09-23 11:18:42.652922+02	630	EXECUTED	3:3183121190cdb1e3f19ea7074d74a1ba	Custom SQL	Désactivation de qq acces_fonctionnalite_fonction_defaut (ajustement)	\N	2.0.2
2	obon	changelogs/scolarite/2013-07-09-0027533.xml	2013-09-23 11:18:42.660718+02	631	EXECUTED	3:9062c87fdfc9f4b7ef45d21a30ec25cd	Custom SQL	Activation de qq acces_fonctionnalite_fonction_defaut (ajustement)	\N	2.0.2
3	obon	changelogs/scolarite/2013-07-09-0027533.xml	2013-09-23 11:18:42.663887+02	632	EXECUTED	3:e23c3492b941e61756765756655c4cdc	Custom SQL	Vidange de la table acces_fonctionnalite_fonction	\N	2.0.2
1	othe	changelogs/scolarite/2013-07-15-0028848.xml	2013-09-23 11:18:42.68496+02	633	EXECUTED	3:a77db9e9667d42c8550a3353ec5fba04	Add Column (x2)	Ajout colonne "est_masque" dans table "entcdt.cahier_de_textes"	\N	2.0.2
1	othe	changelogs/scolarite/2013-08-26-0029760.xml	2013-09-23 11:18:42.689884+02	634	EXECUTED	3:8020fb39a983f0636d777e97412329e6	Custom SQL	Remplacer l'avis "Avertissement" par "Insuffisant" à l'initialisation des avis du conseil d'un établissement	\N	2.0.2
1	bahj	changelogs/scolarite/2013-07-16-0028847.xml	2013-09-23 11:18:42.697547+02	635	EXECUTED	3:81deddf43e0925418ff58bb3c2b0559e	Add Column, Add Foreign Key Constraint	Ajout de la colonne 'autorite' dans la table ent.propriete_scolarite	\N	2.0.2
2	bahj	changelogs/scolarite/2013-07-16-0028847.xml	2013-09-23 11:18:42.723981+02	636	EXECUTED	3:50ec436c5a2a117df9fbbe6b50aac6ac	Drop View, Drop Column, Create View	Suppression de la colonne niveau de la table propriete_scolarite.\n      Il faut d'abord supprimer la vue annuaire qui reference cette\n      colonne	\N	2.0.2
3	bahj	changelogs/scolarite/2013-07-16-0028847.xml	2013-09-23 11:18:42.742972+02	637	EXECUTED	3:45b9c882ea244beca91947a6aebaed00	Create Sequence, Create Table, Add Primary Key, Add Foreign Key Constraint (x3)	Ajout de la table eleve_proprietes	\N	2.0.2
4	bahj	changelogs/scolarite/2013-07-16-0028847.xml	2013-09-23 11:18:42.748526+02	638	EXECUTED	3:af7dcc36d261204daa2a61f682417758	Add Unique Constraint	Ajout d'une contrainte d'unicité dans la table eleve_proprietes	\N	2.0.2
1	bper	changelogs/scolarite/2013-07-24-0028847.xml	2013-09-23 11:18:42.768669+02	639	EXECUTED	3:e76d8ff2083602c21abf58ebc1278022	Custom SQL (x2), Drop Foreign Key Constraint, Drop Column	Migration de la colonne 'mef_id' dans la table 'ent.eleve_proprietes'	\N	2.0.2
2	bper	changelogs/scolarite/2013-07-24-0028847.xml	2013-09-23 11:18:42.780436+02	640	EXECUTED	3:27cb5b46511dbb4ab5c6479c767a3ab5	Add Column, Add Foreign Key Constraint, Add Column	Ajout des colonnes 'annuaire_import_id' et 'inserted' dans la table 'ent.eleve_proprietes'	\N	2.0.2
1	bahj	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.79208+02	641	EXECUTED	3:e951c4b8cf8eb20b86244d6aa99854ae	Custom SQL	Mise à null de la référence au groupe_personne de la table modalite_activite de tdbase	\N	2.0.2
2	bahj	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.796798+02	642	EXECUTED	3:07124da29fa52cb6416552a56edb1e7a	Custom SQL	Suppression des autorités et items crées pour la génération des\n      groupe_personnes puis vidage de cette table en question	\N	2.0.2
1	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.801871+02	643	EXECUTED	3:47a659bacdd99275ae68698c4c741fd8	Custom SQL, Add Not-Null Constraint	Ajout de contrainte NOT NULL sur la colonne 'annee_scolaire_id' de la table 'ent.propriete_scolarite'	\N	2.0.2
2	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.809338+02	644	EXECUTED	3:cba01c817797530a2e79b7b4fdb442c2	Custom SQL, Drop Default Value	Ajout de la contrainte CHECK sur les colonnes 'responsable_structure_enseignement' et 'structure_enseignement_id' de la table 'ent.propriete_scolarite'	\N	2.0.2
3	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.815379+02	645	EXECUTED	3:b6a1e5b4d3d23ab2aee9991aaffad6e2	Custom SQL, Add Not-Null Constraint	Ajout de la valeur par défaut et contrainte NOT NULL pour la colonne 'date_debut' de la table 'ent.personne_propriete_scolarite'	\N	2.0.2
4	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.821423+02	646	EXECUTED	3:8089aea0961d97b2fdb04a30e44eaa80	Custom SQL, Add Not-Null Constraint	Ajout de la contrainte NOT NULL pour la colonne 'fonction_id' de la table 'ent.propriete_scolarite'	\N	2.0.2
5	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.836646+02	647	EXECUTED	3:b19604f26a15ce73677149d8c78e25f4	Custom SQL (x5)	Nettoyage des tables 'personne_propriete_scolarite' et 'propriete_scolarite' pour le profil 'ELEVE'	\N	2.0.2
6	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.852014+02	648	EXECUTED	3:8852f434083b6bb84e8f08e8e5447b1c	Custom SQL (x5)	Nettoyage des tables 'personne_propriete_scolarite' et 'propriete_scolarite' pour le profil 'PERS_REL_ELEVE'	\N	2.0.2
7	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.878127+02	649	EXECUTED	3:393d8bfdb1a220a450b4e72aeb306889	Custom SQL (x7)	Nettoyage des tables 'personne_propriete_scolarite' et 'propriete_scolarite' pour le profil 'ENS'	\N	2.0.2
8	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.890275+02	650	EXECUTED	3:69c76aff5c01d86ebab1a17dddca632e	Custom SQL (x2)	Nettoyage des tables 'personne_propriete_scolarite' et 'propriete_scolarite' pour les profils 'CD' et 'PERS_REL_ELEVE'	\N	2.0.2
9	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.901106+02	651	EXECUTED	3:dafd2ed8177e1c4e1450de4f9e2cd5b8	Custom SQL (x2)	Nettoyage des tables 'personne_propriete_scolarite' et 'propriete_scolarite' pour tous les profils sauf 'CD','ELEVE','PERS_REL_ELEVE','ENS'	\N	2.0.2
10	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.923268+02	652	EXECUTED	3:acc118b507cd1e4f2273ead568567ac9	Drop Index (x3), Custom SQL (x6)	Ajout des contraintes d'intégrité	\N	2.0.2
11	agia	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.928751+02	653	EXECUTED	3:1ce18f8d3ef0ea5823e16c0c680ab199	Custom SQL		\N	2.0.2
12	agia	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.934149+02	654	EXECUTED	3:a0e962c1ba42ec3ced357bf3205245ee	Custom SQL	Rétablissement de l'état de la contrainte CHECK sur les colonnes 'responsable_structure_enseignement' et 'structure_enseignement_id' de la table 'ent.propriete_scolarite'	\N	2.0.2
13	bper	changelogs/scolarite/2013-08-01-0028847.xml	2013-09-23 11:18:42.94652+02	655	EXECUTED	3:05edbd1e6d9a27ed6d821a20729775c2	Custom SQL	Ajout des enseignants des structures d'enseignement de type 'GROUPE' dans les classes dont ces groupes sont composés	\N	2.0.2
1	othe	changelogs/securite/2013-08-23-0029765.xml	2013-09-23 11:18:42.950655+02	656	EXECUTED	3:0dd45e4c6c4cb545af9cba0690dff3ef	Insert Row	Passage en 2.9.4-S34	\N	2.0.2
1	bper	changelogs/scolarite/2013-08-29-0028847.xml	2013-09-23 11:18:42.959139+02	657	EXECUTED	3:03abc04c61fc2c03654c7c43aec43cd5	Create Table, Create Sequence	Ajout de la table 'operation_maintenance'	\N	2.0.2
1	bper	changelogs/securite/2013-09-06-0028847.xml	2013-09-23 11:18:42.965901+02	658	EXECUTED	3:5576eb760c05e2da906ff72ebc688464	Drop Table, Drop Sequence	Suppression de la table 'securite.permission'	\N	2.0.2
1	bahj	changelogs/securite/2013-09-09-0028847.xml	2013-09-23 11:18:42.96998+02	659	EXECUTED	3:f1bc421e4f157fe6da2e02795e1830e8	Add Column	Ajout de la colonne localisation dans la table securite.autorite	\N	2.0.2
1	agia	changelogs/securite/2013-09-09-0028847.xml	2013-09-23 11:18:42.973746+02	660	EXECUTED	3:238c5b65e5cef3c0180943ab87e6b314	Drop Not-Null Constraint	Rendre la colonne securite.autorite.id_externe nullable (car n'a pas de\n      sens\n      pour les autorités de type 'groupe' avec la localisation 'locale')	\N	2.0.2
2	bahj	changelogs/securite/2013-09-09-0028847.xml	2013-09-23 11:18:42.979134+02	661	EXECUTED	3:dbb45ccf32cf05a6543969fe7780df0d	Custom SQL	Migration des autorités groupes en localisation = DISTANTE\n      Ajout des contraintes de vérifications	\N	2.0.2
1	bahj	changelogs/securite/2013-09-11-0030147.xml	2013-09-23 11:18:42.983899+02	662	EXECUTED	3:62511f4b6debb7790e697295ab566a3f	Insert Row	Passage en 2.9.4-S36	\N	2.0.2
1	jtra	migrations/schema.tdbase/changelog-20130919-TDB-40.xml	2013-09-23 11:18:42.99042+02	663	EXECUTED	3:df400692f9b8d94cf05ec8be1fc062e7	Custom SQL, Add Unique Constraint	Reprise de données pour renuméroter correctement le rang des td.question_attachement	\N	2.0.2
2	jtra	migrations/schema.tdbase/changelog-20130919-TDB-40.xml	2013-09-23 11:18:42.995079+02	664	EXECUTED	3:675e2867ffaf918cf968b92572fc1a65	Drop Unique Constraint	Suppression de la contrainte d'unicité uk_question_attachement_question_rang qui n'est pas correctement\n            gérée avec la modélisation GORM actuelle du domaine	\N	2.0.2
3	jtra	migrations/schema.tdbase/changelog-20130919-TDB-40.xml	2013-09-23 11:18:43.002981+02	665	EXECUTED	3:20d818382c48c8b565f32cf2562c0720	Create Table, Create Sequence	Ajout de la table td.patch_execution pour tracer les exécutions de patches	\N	2.0.2
1	jtra	migrations/schema.tdbase/changelog-20130923-TDB-41.xml	2013-09-23 11:18:43.00779+02	666	EXECUTED	3:27adb349b1e099497a5fb74a900db0d3	Custom SQL	Reprise de données pour renuméroter correctement le rang des td.reponse_attachement	\N	2.0.2
1	bper	migrations/2013-09-06-0028847.xml	2013-09-23 11:18:43.029075+02	667	EXECUTED	3:857fd0bbdaaff230e0fd48bcec45bb2b	Drop Column, Drop Table, Drop Sequence, Drop Table, Drop Sequence, Drop Table, Drop Sequence	Suppression des tables 'appartenance_personne_groupe' et 'groupe_personnes'	\N	2.0.2
\.


--
-- TOC entry 5775 (class 0 OID 667791)
-- Dependencies: 558
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: eliot_scolarite
--

COPY databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- TOC entry 5776 (class 0 OID 667796)
-- Dependencies: 560
-- Data for Name: eliot_version; Type: TABLE DATA; Schema: public; Owner: eliot_scolarite
--

COPY eliot_version (id, date, code) FROM stdin;
1	2011-09-13 15:37:42.908592	2.5.1-SNAPSHOT
2	2011-09-13 15:37:43.076475	2.6.0-SNAPSHOT
3	2011-09-13 15:37:43.102585	2.7.0-SNAPSHOT
4	2013-09-23 10:48:29.828559	2.7.0-RC1
5	2013-09-23 10:48:29.834531	2.7.1-SNAPSHOT
6	2013-09-23 10:48:31.046953	2.7.1-A1
7	2013-09-23 10:48:31.052427	2.7.1-RC1
8	2013-09-23 10:48:31.05828	2.7.2-SNAPSHOT
9	2013-09-23 10:48:31.063213	2.7.2
10	2013-09-23 10:48:31.067588	2.8.0-A1
11	2013-09-23 10:48:31.072097	2.8.0-RC1
12	2013-09-23 10:48:31.159483	2.8.1-RC1
13	2013-09-23 10:48:31.16613	2.8.2-A1
14	2013-09-23 10:48:31.171419	2.8.2-RC1
15	2013-09-23 10:48:31.17592	2.9.0-RC1
16	2013-09-23 10:48:39.614093	2.9.0-RC3
17	2013-09-23 10:48:40.698975	2.9.0-RC6
18	2013-09-23 10:48:40.851736	2.9.0-RC7
19	2013-09-23 10:48:46.247848	2.9.1-S10
20	2013-09-23 10:48:46.284068	2.9.1-S11
21	2013-09-23 10:48:46.299601	2.9.1-S12
22	2013-09-23 10:48:46.378539	2.9.1-B2
23	2013-09-23 11:18:41.236865	2.9.1-RC1
24	2013-09-23 11:18:41.285671	2.9.2-S15
25	2013-09-23 11:18:41.353406	2.9.2-S16
26	2013-09-23 11:18:41.45925	2.9.2-S17
27	2013-09-23 11:18:41.462652	2.9.2-S19
28	2013-09-23 11:18:41.524216	2.9.2-S20
29	2013-09-23 11:18:41.703086	2.9.2-S21
30	2013-09-23 11:18:41.717841	2.9.2-RC1
31	2013-09-23 11:18:41.723407	2.9.2-S23
32	2013-09-23 11:18:41.726845	2.9.2-RC2
33	2013-09-23 11:18:42.634129	2.9.3-RC1
34	2013-09-23 11:18:42.646914	2.9.3-S27
35	2013-09-23 11:18:42.948632	2.9.4-S34
36	2013-09-23 11:18:42.981134	2.9.4-S36
\.


--
-- TOC entry 5777 (class 0 OID 667801)
-- Dependencies: 561
-- Data for Name: info_base; Type: TABLE DATA; Schema: public; Owner: eliot_scolarite
--

COPY info_base (id, usage) FROM stdin;
1	PRODUCTION
\.


--
-- TOC entry 5814 (class 0 OID 672143)
-- Dependencies: 636
-- Data for Name: operation_maintenance; Type: TABLE DATA; Schema: public; Owner: eliot_scolarite
--

COPY operation_maintenance (id, code, etat) FROM stdin;
\.


SET search_path = securite, pg_catalog;

--
-- TOC entry 5811 (class 0 OID 672015)
-- Dependencies: 630
-- Data for Name: acces_fonctionnalite_fonction; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY acces_fonctionnalite_fonction (id, etablissement_id, fonctionnalite_id, fonction_id, actif) FROM stdin;
\.


--
-- TOC entry 5812 (class 0 OID 672043)
-- Dependencies: 632
-- Data for Name: acces_fonctionnalite_fonction_defaut; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY acces_fonctionnalite_fonction_defaut (id, fonctionnalite_id, fonction_id, actif) FROM stdin;
1	28	1	f
2	28	2	t
3	28	3	t
5	28	9	t
6	28	10	t
7	28	11	f
8	28	12	t
9	28	13	f
10	28	14	f
11	28	15	f
12	28	16	f
13	28	17	f
14	28	18	f
15	28	19	f
16	28	20	f
17	28	21	f
18	28	22	f
19	28	23	f
20	29	1	f
21	29	2	t
22	29	3	t
24	29	9	t
25	29	10	t
26	29	11	f
27	29	12	t
28	29	13	f
29	29	14	f
30	29	15	f
31	29	16	f
32	29	17	f
33	29	18	f
34	29	19	f
35	29	20	f
36	29	21	f
37	29	22	f
38	29	23	f
39	30	1	f
40	30	2	t
41	30	3	t
43	30	9	t
44	30	10	t
45	30	11	f
46	30	12	t
47	30	13	f
48	30	14	f
49	30	15	f
50	30	16	f
51	30	17	f
52	30	18	f
53	30	19	f
54	30	20	f
55	30	21	f
56	30	22	f
57	30	23	f
58	31	1	f
59	31	2	t
60	31	3	t
62	31	9	f
63	31	10	f
64	31	11	f
65	31	12	t
66	31	13	f
67	31	14	f
68	31	15	f
69	31	16	f
70	31	17	f
71	31	18	f
72	31	19	f
73	31	20	f
74	31	21	f
75	31	22	f
76	31	23	f
77	32	1	f
78	32	2	t
79	32	3	t
81	32	9	f
82	32	10	f
83	32	11	f
84	32	12	t
85	32	13	f
86	32	14	f
87	32	15	f
88	32	16	f
89	32	17	f
90	32	18	f
91	32	19	f
92	32	20	f
93	32	21	f
94	32	22	f
95	32	23	f
96	33	1	f
97	33	2	t
98	33	3	t
100	33	9	f
101	33	10	f
102	33	11	f
103	33	12	t
104	33	13	f
105	33	14	f
106	33	15	f
107	33	16	f
108	33	17	f
109	33	18	f
110	33	19	f
111	33	20	f
112	33	21	f
113	33	22	f
114	33	23	f
115	34	1	f
116	34	2	t
117	34	3	t
119	34	9	t
120	34	10	t
121	34	11	f
122	34	12	t
123	34	13	f
124	34	14	f
125	34	15	f
126	34	16	f
127	34	17	f
128	34	18	f
129	34	19	f
130	34	20	f
131	34	21	f
132	34	22	f
133	34	23	f
134	35	1	f
135	35	2	t
136	35	3	t
138	35	9	t
140	35	11	f
141	35	12	t
142	35	13	f
143	35	14	f
144	35	15	f
145	35	16	f
146	35	17	f
147	35	18	f
148	35	19	f
149	35	20	f
150	35	21	f
151	35	22	f
152	35	23	f
172	37	1	f
173	37	2	t
174	37	3	t
176	37	9	t
177	37	10	t
178	37	11	f
179	37	12	t
180	37	13	f
181	37	14	f
182	37	15	f
183	37	16	f
184	37	17	f
185	37	18	f
186	37	19	f
187	37	20	f
188	37	21	f
189	37	22	f
190	37	23	f
191	38	1	f
192	38	2	t
193	38	3	t
195	38	9	t
196	38	10	t
197	38	11	f
198	38	12	t
199	38	13	f
200	38	14	f
201	38	15	f
202	38	16	f
203	38	17	f
204	38	18	f
205	38	19	f
206	38	20	f
207	38	21	f
208	38	22	f
209	38	23	f
210	39	1	f
211	39	2	t
212	39	3	t
214	39	9	t
216	39	11	f
217	39	12	t
218	39	13	f
219	39	14	f
220	39	15	f
221	39	16	f
222	39	17	f
223	39	18	f
224	39	19	f
225	39	20	f
226	39	21	f
227	39	22	f
228	39	23	f
248	41	1	f
249	41	2	f
250	41	3	f
254	41	11	f
256	41	13	f
257	41	14	f
258	41	15	f
259	41	16	f
260	41	17	f
261	41	18	f
262	41	19	f
263	41	20	f
264	41	21	f
265	41	22	f
266	41	23	f
267	1	2	t
268	1	3	t
269	1	9	t
270	1	10	f
271	1	12	f
272	1	1	f
215	39	10	f
139	35	10	f
255	41	12	t
253	41	10	t
252	41	9	t
274	1	11	f
275	1	13	f
276	1	14	f
277	1	16	f
278	1	17	f
279	1	18	f
280	1	15	f
281	1	20	f
282	1	21	f
283	1	23	f
284	1	22	f
285	1	19	f
286	2	2	t
287	2	3	t
288	2	9	t
289	2	10	f
290	2	12	f
291	2	1	f
293	2	11	f
294	2	13	f
295	2	14	f
296	2	16	f
297	2	17	f
298	2	18	f
299	2	15	f
300	2	20	f
301	2	21	f
302	2	23	f
303	2	22	f
304	2	19	f
305	3	2	t
306	3	3	t
307	3	9	t
308	3	10	f
309	3	12	f
310	3	1	f
312	3	11	f
313	3	13	f
314	3	14	f
315	3	16	f
316	3	17	f
317	3	18	f
318	3	15	f
319	3	20	f
320	3	21	f
321	3	23	f
322	3	22	f
323	3	19	f
324	4	2	t
325	4	3	t
326	4	10	f
327	4	9	f
328	4	12	f
329	4	1	f
331	4	11	f
332	4	13	f
333	4	14	f
334	4	16	f
335	4	17	f
336	4	18	f
337	4	15	f
338	4	20	f
339	4	21	f
340	4	23	f
341	4	22	f
342	4	19	f
343	5	2	t
344	5	3	t
345	5	10	f
346	5	9	f
347	5	12	f
348	5	1	f
350	5	11	f
351	5	13	f
352	5	14	f
353	5	16	f
354	5	17	f
355	5	18	f
356	5	15	f
357	5	20	f
358	5	21	f
359	5	23	f
360	5	22	f
361	5	19	f
362	6	2	t
363	6	3	t
364	6	10	f
365	6	9	f
366	6	12	f
367	6	1	f
369	6	11	f
370	6	13	f
371	6	14	f
372	6	16	f
373	6	17	f
374	6	18	f
375	6	15	f
376	6	20	f
377	6	21	f
378	6	23	f
379	6	22	f
380	6	19	f
381	7	2	t
382	7	3	t
383	7	9	t
384	7	10	f
385	7	12	f
386	7	1	f
388	7	11	f
389	7	13	f
390	7	14	f
391	7	16	f
392	7	17	f
393	7	18	f
394	7	15	f
395	7	20	f
396	7	21	f
397	7	23	f
398	7	22	f
399	7	19	f
400	8	2	t
401	8	3	t
402	8	9	t
403	8	10	f
404	8	12	f
405	8	1	f
407	8	11	f
408	8	13	f
409	8	14	f
410	8	16	f
411	8	17	f
412	8	18	f
413	8	15	f
414	8	20	f
415	8	21	f
416	8	23	f
417	8	22	f
418	8	19	f
419	9	2	t
420	9	3	t
422	9	9	t
423	9	12	t
424	9	1	f
426	9	11	f
427	9	13	f
428	9	14	f
429	9	16	f
430	9	17	f
431	9	18	f
432	9	15	f
433	9	20	f
435	9	23	f
436	9	22	f
437	9	19	f
438	10	2	t
439	10	3	t
441	10	9	t
442	10	12	t
443	10	1	f
445	10	11	f
446	10	13	f
447	10	14	f
448	10	16	f
449	10	17	f
450	10	18	f
451	10	15	f
452	10	20	f
454	10	23	f
455	10	22	f
456	10	19	f
457	13	2	t
458	13	3	t
460	13	9	t
461	13	12	t
462	13	1	f
464	13	11	f
465	13	13	f
466	13	14	f
467	13	16	f
468	13	17	f
469	13	18	f
470	13	15	f
471	13	20	f
472	13	21	f
473	13	23	f
474	13	22	f
475	13	19	f
476	11	2	t
477	11	3	t
479	11	9	t
480	11	12	t
481	11	1	f
483	11	11	f
484	11	13	f
485	11	14	f
486	11	16	f
487	11	17	f
488	11	18	f
489	11	15	f
490	11	20	f
492	11	23	f
493	11	22	f
494	11	19	f
495	12	2	t
496	12	3	t
497	12	9	t
498	12	12	t
500	12	1	f
502	12	11	f
503	12	13	f
504	12	14	f
505	12	16	f
506	12	17	f
507	12	18	f
508	12	15	f
509	12	20	f
511	12	23	f
512	12	22	f
513	12	19	f
514	14	2	t
515	14	3	t
516	14	9	t
517	14	12	t
519	14	1	f
521	14	11	f
522	14	13	f
523	14	14	f
524	14	16	f
525	14	17	f
526	14	18	f
527	14	15	f
528	14	20	f
530	14	23	f
531	14	22	f
532	14	19	f
533	15	2	t
534	15	3	t
536	15	9	t
537	15	12	t
538	15	1	f
540	15	11	f
541	15	13	f
542	15	14	f
543	15	16	f
544	15	17	f
478	11	10	f
421	9	10	f
518	14	10	f
535	15	10	f
499	12	10	f
440	10	10	f
491	11	21	t
434	9	21	t
510	12	21	t
453	10	21	t
529	14	21	t
545	15	18	f
546	15	15	f
547	15	20	f
549	15	23	f
550	15	22	f
551	15	19	f
552	16	2	t
553	16	3	t
554	16	9	t
555	16	12	t
557	16	1	f
559	16	11	f
560	16	13	f
561	16	14	f
562	16	16	f
563	16	17	f
564	16	18	f
565	16	15	f
566	16	20	f
568	16	23	f
569	16	22	f
570	16	19	f
571	17	2	t
572	17	3	t
573	17	9	t
574	17	12	t
576	17	1	f
578	17	11	f
579	17	13	f
580	17	14	f
581	17	16	f
582	17	17	f
583	17	18	f
584	17	15	f
585	17	20	f
587	17	23	f
588	17	22	f
589	17	19	f
590	18	2	t
591	18	3	t
592	18	9	t
593	18	12	t
595	18	1	f
597	18	11	f
598	18	13	f
599	18	14	f
600	18	16	f
601	18	17	f
602	18	18	f
603	18	15	f
604	18	20	f
606	18	23	f
607	18	22	f
608	18	19	f
609	19	2	t
610	19	3	t
611	19	12	t
613	19	9	f
614	19	1	f
616	19	11	f
617	19	13	f
618	19	14	f
619	19	16	f
620	19	17	f
621	19	18	f
622	19	15	f
623	19	20	f
624	19	21	f
625	19	23	f
626	19	22	f
627	19	19	f
628	20	2	t
629	20	3	t
630	20	9	t
631	20	12	t
633	20	1	f
635	20	11	f
636	20	13	f
637	20	14	f
638	20	16	f
639	20	17	f
640	20	18	f
641	20	15	f
642	20	20	f
643	20	21	f
644	20	23	f
645	20	22	f
646	20	19	f
647	21	2	t
648	21	3	t
649	21	9	t
650	21	12	t
652	21	1	f
654	21	11	f
655	21	13	f
656	21	14	f
657	21	16	f
658	21	17	f
659	21	18	f
660	21	15	f
661	21	20	f
662	21	21	f
663	21	23	f
664	21	22	f
665	21	19	f
666	23	3	t
667	23	9	t
668	23	12	t
669	23	2	f
670	23	10	f
671	23	1	f
673	23	11	f
674	23	13	f
675	23	14	f
676	23	16	f
677	23	17	f
678	23	18	f
679	23	15	f
680	23	20	f
594	18	10	f
575	17	10	f
612	19	10	f
632	20	10	f
556	16	10	f
651	21	10	f
586	17	21	t
567	16	21	t
548	15	21	t
605	18	21	t
681	23	21	f
682	23	23	f
683	23	22	f
684	23	19	f
685	24	2	t
686	24	3	t
687	24	10	t
688	24	9	t
689	24	12	t
690	24	1	f
692	24	11	f
693	24	13	f
694	24	14	f
695	24	16	f
696	24	17	f
697	24	18	f
698	24	15	f
699	24	20	f
701	24	23	f
702	24	22	f
703	24	19	f
704	25	2	t
705	25	3	t
706	25	10	t
707	25	9	t
708	25	12	t
709	25	1	f
711	25	11	f
712	25	13	f
713	25	14	f
714	25	16	f
715	25	17	f
716	25	18	f
717	25	15	f
718	25	20	f
720	25	23	f
721	25	22	f
722	25	19	f
723	26	2	t
724	26	3	t
725	26	10	t
726	26	9	t
727	26	12	t
728	26	1	f
730	26	11	f
731	26	13	f
732	26	14	f
733	26	16	f
734	26	17	f
735	26	18	f
736	26	15	f
737	26	20	f
738	26	21	f
739	26	23	f
740	26	22	f
741	26	19	f
742	27	2	t
743	27	3	t
744	27	10	t
745	27	9	t
746	27	12	t
747	27	1	f
749	27	11	f
750	27	13	f
751	27	14	f
752	27	16	f
753	27	17	f
754	27	18	f
755	27	15	f
756	27	20	f
757	27	21	f
758	27	23	f
759	27	22	f
760	27	19	f
761	22	2	t
762	22	3	t
763	22	10	t
764	22	9	t
765	22	12	t
766	22	1	f
767	22	4	f
768	22	11	f
769	22	13	f
770	22	14	f
771	22	16	f
772	22	17	f
773	22	18	f
774	22	15	f
775	22	20	f
777	22	23	f
778	22	22	f
779	22	19	f
459	13	10	f
776	22	21	t
719	25	21	t
700	24	21	t
\.


--
-- TOC entry 5810 (class 0 OID 671991)
-- Dependencies: 628
-- Data for Name: acces_fonctionnalite_personne; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY acces_fonctionnalite_personne (id, etablissement_id, fonctionnalite_id, personne_id) FROM stdin;
\.


--
-- TOC entry 5778 (class 0 OID 667804)
-- Dependencies: 562
-- Data for Name: autorisation; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY autorisation (id, version, item_id, autorite_id, valeur_permissions_explicite, proprietaire, autorisation_heritee_id, valeur_permissions_explicite_defaut) FROM stdin;
\.


--
-- TOC entry 5580 (class 0 OID 666493)
-- Dependencies: 233
-- Data for Name: autorite; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY autorite (id, version, type, id_externe, est_active, import_id, date_desactivation, nom_entite_cible, enregistrement_cible_id, etat, annuaire_import_id, inserted, id_sts, localisation) FROM stdin;
4	1	acteur	ent.personne._test_mary	t	\N	\N	ent.personne	4	ACTIF	\N	t	\N	\N
6	1	acteur	ent.personne.elv1	t	\N	\N	ent.personne	6	ACTIF	\N	t	\N	\N
8	1	acteur	ent.personne.elv2	t	\N	\N	ent.personne	8	ACTIF	\N	t	\N	\N
10	1	acteur	ent.personne.resp1	t	\N	\N	ent.personne	10	ACTIF	\N	t	\N	\N
\.


--
-- TOC entry 5809 (class 0 OID 671984)
-- Dependencies: 626
-- Data for Name: fonctionnalite; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY fonctionnalite (id, code, parent_id, parametrable, ordre, groupe) FROM stdin;
1	SCOL	\N	t	0	t
2	SCOL_EDT	1	t	0	f
3	SCOL_PARAM	1	t	1	t
4	SCOL_PARAM_NIV	3	t	0	f
5	SCOL_PARAM_MATIERES	3	t	1	f
6	SCOL_PARAM_TYP_ACT_DEV	3	t	2	f
7	SCOL_PARAM_CAL_HEBDO_ANNU	3	t	3	f
8	SCOL_PARAM_MODELES_DOC	3	t	5	f
9	ABS	\N	t	0	t
10	ABS_SAISIE	9	t	0	t
11	ABS_CONSULT	9	t	1	f
12	ABS_STATS	9	t	2	f
13	ABS_PARAM	9	t	3	t
14	ABS_PUBLIPOSTAGE	9	t	4	f
15	ABS_SAISIE_APPELS	10	t	0	f
16	ABS_SAISIE_ABS_RETARDS_DEPARTS	10	t	1	f
17	ABS_SAISIE_DEMI_PENSION_INTERNAT	10	t	2	f
18	ABS_SAISIE_INC_PUN_SAN	10	t	3	f
19	ABS_PARAM_GENERAUX	13	t	0	f
20	ABS_PARAM_MOTIFS	13	t	1	f
21	ABS_PARAM_INC_PUN_SAN	13	t	2	f
22	FICHE_ELEVE	1	t	2	t
23	FICHE_ELEVE_COMMENTAIRE	22	t	0	f
24	FICHE_ELEVE_ABSENCES	22	t	1	f
25	FICHE_ELEVE_SANCTIONS	22	t	2	f
26	FICHE_ELEVE_NOTES	22	t	3	f
27	FICHE_ELEVE_CONSEIL	22	t	4	f
28	NOTES	\N	t	0	t
29	NOTES_SAISIE	28	t	1	t
30	NOTES_CONSULT	28	t	2	t
31	NOTES_PARAM	28	t	3	f
32	NOTES_PUBLIPOST	28	t	4	f
33	NOTES_EXPORT	28	t	5	f
37	NOTES_CONSULT_RELEVE_BULLETIN	30	t	2	f
38	NOTES_CONSULT_APPR	30	t	3	f
39	NOTES_SAISIE_SYNTH_CONSEIL	34	t	1	f
35	NOTES_SAISIE_BREVET	29	t	3	f
34	NOTES_SAISIE_SYNTH	29	t	2	f
41	NOTES_SAISIE_NOTES_ENSEIGNANTS	29	t	1	f
\.


--
-- TOC entry 5779 (class 0 OID 667813)
-- Dependencies: 565
-- Data for Name: item; Type: TABLE DATA; Schema: securite; Owner: eliot_scolarite
--

COPY item (id, version, type, item_parent_id, nom_entite_cible, enregistrement_cible_id, est_active, import_id, date_desactivation) FROM stdin;
\.


SET search_path = synchro, pg_catalog;

--
-- TOC entry 5780 (class 0 OID 667824)
-- Dependencies: 567
-- Data for Name: execution; Type: TABLE DATA; Schema: synchro; Owner: eliot_scolarite
--

COPY execution (id, date_debut, cle, demande_import_id_production_max) FROM stdin;
\.


SET search_path = td, pg_catalog;

--
-- TOC entry 5781 (class 0 OID 667829)
-- Dependencies: 569
-- Data for Name: copie; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY copie (id, date_remise, sujet_id, eleve_id, correcteur_id, correction_date, correction_annotation, correction_note_automatique, correction_note_finale, modalite_activite_id, correction_note_correcteur, correction_note_non_numerique, max_points, max_points_automatique, max_points_correcteur, points_modulation, est_jetable, date_enregistrement) FROM stdin;
101	2013-09-23 11:21:41.231+02	101	4	\N	\N	\N	0.5	0.5	\N	\N	\N	1	1	0	0	t	2013-09-23 11:21:41.231+02
102	2013-09-23 11:28:48.555+02	101	6	\N	\N	A revoir	0	0	100	\N	\N	1	1	0	0	f	2013-09-23 11:28:48.555+02
\.


--
-- TOC entry 5782 (class 0 OID 667839)
-- Dependencies: 571
-- Data for Name: modalite_activite; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY modalite_activite (id, date_remise_reponses, date_debut, date_fin, etablissement_id, responsable_id, enseignant_id, activite_id, evaluation_id, sujet_id, copie_ameliorable, structure_enseignement_id, matiere_id) FROM stdin;
100	2013-09-23 11:27:29.944+02	2013-09-23 11:27:00+02	2013-09-23 11:29:00+02	\N	\N	4	\N	\N	101	t	8	\N
\.


--
-- TOC entry 5815 (class 0 OID 672156)
-- Dependencies: 638
-- Data for Name: patch_execution; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY patch_execution (id, code, date_created) FROM stdin;
100	TDB-40	2013-09-23 11:18:43.815+02
\.


--
-- TOC entry 5783 (class 0 OID 667845)
-- Dependencies: 573
-- Data for Name: question; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY question (id, titre, est_autonome, specification, version_question, type_id, proprietaire_id, matiere_id, etablissement_id, niveau_id, publication_id, titre_normalise, publie, date_created, last_updated, copyrights_type_id, specification_normalise, paternite, exercice_id, attachement_id, principal_attachement_est_insere_dans_la_question) FROM stdin;
100	QCM 1	t	{"questionTypeCode":"MultipleChoice","libelle":"QCM 1","correction":"Pas la 2 ni la 3","reponses":[{"libelleReponse":"reponse 1","estUneBonneReponse":true,"id":"1"},{"libelleReponse":"reponse 2","estUneBonneReponse":false,"id":"2"},{"libelleReponse":"reponse 3","estUneBonneReponse":true,"id":"3"},{"libelleReponse":"reponse 4","estUneBonneReponse":false,"id":"4"}],"shuffled":true}	1	1	4	4	\N	6	\N	QCM 1	f	2013-09-23 11:19:52.506+02	2013-09-23 11:19:52.525+02	1	QCM 1	{"paterniteItems":[{"logoLien":null,"oeuvreEnCours":true,"datePublication":null,"copyrighLien":"http://www.legifrance.gouv.fr/affichCode.do?cidTexte=LEGITEXT000006069414","copyrightDescription":"Cette oeuvre est mise \\u00E0 disposition selon les termes du droit d'auteur \\u00E9manant du code de la propri\\u00E9t\\u00E9 intellectuelle.","auteur":"dupond mary"}]}	\N	\N	f
103	Exercice 1	t	{}	1	5	4	\N	\N	\N	\N	EXERCICE 1	f	2013-09-23 11:22:05.654+02	2013-09-23 11:22:05.654+02	1	\N	{"paterniteItems":[{"logoLien":null,"oeuvreEnCours":true,"datePublication":null,"copyrighLien":"http://www.legifrance.gouv.fr/affichCode.do?cidTexte=LEGITEXT000006069414","copyrightDescription":"Cette oeuvre est mise \\u00E0 disposition selon les termes du droit d'auteur \\u00E9manant du code de la propri\\u00E9t\\u00E9 intellectuelle.","auteur":"dupond mary"}]}	102	\N	\N
\.


--
-- TOC entry 5784 (class 0 OID 667854)
-- Dependencies: 574
-- Data for Name: question_attachement; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY question_attachement (id, question_id, attachement_id, rang, est_insere_dans_la_question) FROM stdin;
\.


--
-- TOC entry 5785 (class 0 OID 667861)
-- Dependencies: 576
-- Data for Name: question_export; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY question_export (id, format_id, export, question_id) FROM stdin;
\.


--
-- TOC entry 5786 (class 0 OID 667871)
-- Dependencies: 579
-- Data for Name: question_type; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY question_type (id, nom, nom_anglais, code, interaction) FROM stdin;
1	Choix multiple	Multiple Choice	MultipleChoice	t
2	Ouverte	Open	Open	t
3	Décimale	Decimal	Decimal	t
4	Entière	Integer	Integer	t
6	Texte à trous	Fill Gap	FillGap	t
7	Evaluation booléenne	Boolean Match	BooleanMatch	t
8	Choix exclusif	Exclusive Choice	ExclusiveChoice	t
9	Graphique à compléter	Fill Graphics	FillGraphics	t
11	Ordre à rétablir	Order	Order	t
12	Association	Associate	Associate	t
13	Curseur à déplacer	Slider	Slider	t
15	Correspondance	Match	Match	t
51	Document	Document	Document	f
52	Énoncé	Statement	Statement	f
5	Exercice	Composite	Composite	t
10	Fichier à déposer	File Upload	FileUpload	t
14	Association graphique	Graphic Match	GraphicMatch	t
\.


--
-- TOC entry 5787 (class 0 OID 667881)
-- Dependencies: 581
-- Data for Name: reponse; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY reponse (id, specification, copie_id, correcteur_id, correction_date, correction_annotation, correction_note_automatique, correction_note_finale, correction_note_correcteur, correction_note_non_numerique, eleve_id, sujet_question_id, rang) FROM stdin;
102	{"questionTypeCode":"MultipleChoice","indexReponses":["1","2","3","4"],"indexReponsesCoches":[],"indexReponsesCorrects":["1","3"]}	102	\N	\N	\N	0	\N	\N	\N	6	103	0
\.


--
-- TOC entry 5788 (class 0 OID 667887)
-- Dependencies: 582
-- Data for Name: reponse_attachement; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY reponse_attachement (id, reponse_id, attachement_id, rang) FROM stdin;
\.


--
-- TOC entry 5789 (class 0 OID 667895)
-- Dependencies: 585
-- Data for Name: sujet; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY sujet (id, titre, version_sujet, proprietaire_id, matiere_id, etablissement_id, niveau_id, duree_minutes, presentation, note_max, note_auto_max, note_enseignant_max, nb_questions, publication_id, annotation_privee, copyrights_type_id, acces_public, acces_sequentiel, ordre_questions_aleatoire, titre_normalise, presentation_normalise, publie, date_created, last_updated, sujet_type_id, paternite) FROM stdin;
102	Exercice 1	1	4	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	1	f	f	f	EXERCICE 1	\N	f	2013-09-23 11:22:05.639+02	2013-09-23 11:22:11.527+02	2	{"paterniteItems":[{"logoLien":null,"oeuvreEnCours":true,"datePublication":null,"copyrighLien":"http://www.legifrance.gouv.fr/affichCode.do?cidTexte=LEGITEXT000006069414","copyrightDescription":"Cette oeuvre est mise \\u00E0 disposition selon les termes du droit d'auteur \\u00E9manant du code de la propri\\u00E9t\\u00E9 intellectuelle.","auteur":"dupond mary"}]}
101	Sujet 2	1	4	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	1	f	f	f	SUJET 2	\N	f	2013-09-23 11:20:38.288+02	2013-09-23 11:22:19.632+02	1	{"paterniteItems":[{"logoLien":null,"oeuvreEnCours":true,"datePublication":null,"copyrighLien":"http://www.legifrance.gouv.fr/affichCode.do?cidTexte=LEGITEXT000006069414","copyrightDescription":"Cette oeuvre est mise \\u00E0 disposition selon les termes du droit d'auteur \\u00E9manant du code de la propri\\u00E9t\\u00E9 intellectuelle.","auteur":"dupond mary"}]}
\.


--
-- TOC entry 5790 (class 0 OID 667905)
-- Dependencies: 587
-- Data for Name: sujet_sequence_questions; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY sujet_sequence_questions (id, sujet_id, question_id, questions_sequences_idx, note_seuil_poursuite, points) FROM stdin;
103	102	100	0	\N	1
104	101	103	0	\N	1
\.


--
-- TOC entry 5791 (class 0 OID 667911)
-- Dependencies: 589
-- Data for Name: sujet_type; Type: TABLE DATA; Schema: td; Owner: eliot_scolarite
--

COPY sujet_type (id, nom, nom_anglais) FROM stdin;
1	Sujet	Exercise set
2	Exercice	Exercise
\.


SET search_path = tice, pg_catalog;

--
-- TOC entry 5792 (class 0 OID 667919)
-- Dependencies: 591
-- Data for Name: attachement; Type: TABLE DATA; Schema: tice; Owner: eliot_scolarite
--

COPY attachement (id, chemin, nom, taille, type_mime, nom_fichier_original, a_supprimer, dimension_hauteur, dimension_largeur) FROM stdin;
\.


--
-- TOC entry 5793 (class 0 OID 667928)
-- Dependencies: 593
-- Data for Name: compte_utilisateur; Type: TABLE DATA; Schema: tice; Owner: eliot_scolarite
--

COPY compte_utilisateur (id, personne_id, version, login, login_alias, password, compte_expire, compte_verrouille, compte_active, password_expire, date_derniere_connexion) FROM stdin;
101	6	0	elv1	\N	25f9f0d7ad3f1ecb9e223e3a892aaa37a821bfb7c83b4925252aae5559a4f50c	f	f	t	f	\N
100	4	1	_test_mary	ens1	7844c7853b9024763ada59c692ded6bbf7f08345ab9204692c63260a2d84bad4	f	f	t	f	\N
102	8	0	elv2	\N	7cd0cca7abb85148c0363832df45e44ecabdda3690843e004f9de9516869ea24	f	f	t	f	\N
103	10	0	resp1	\N	19be255f7814d5d43dfd8e9e31a221ec568b3249a41c362a8a6de66a2f465768	f	f	t	f	\N
\.


--
-- TOC entry 5794 (class 0 OID 667936)
-- Dependencies: 595
-- Data for Name: copyrights_type; Type: TABLE DATA; Schema: tice; Owner: eliot_scolarite
--

COPY copyrights_type (id, code, presentation, lien, logo, option_cc_paternite, option_cc_pas_utilisation_commerciale, option_cc_pas_modification, option_cc_partage_viral, option_tous_droits_reserves) FROM stdin;
1	Tous droits réservés	Cette oeuvre est mise à disposition selon les termes du droit d'auteur émanant du code de la propriété intellectuelle.	http://www.legifrance.gouv.fr/affichCode.do?cidTexte=LEGITEXT000006069414	\N	t	t	t	\N	t
2	(CC) BY-NC-SA	Cette oeuvre est mise à disposition selon les termes de la Licence Creative Commons Paternité - Pas d'Utilisation Commerciale - Partage à l'Identique 2.0 France	http://creativecommons.org/licenses/by-nc-sa/2.0/fr/	http://i.creativecommons.org/l/by-nc-sa/2.0/fr/88x31.png	t	t	f	t	f
3	(CC) BY-NC	Cette oeuvre est mise à disposition selon les termes de la Licence Creative Commons Paternité - Pas d'Utilisation Commerciale - France	http://creativecommons.org/licenses/by-nc/2.0/fr/	http://i.creativecommons.org/l/by-nc/2.0/fr/88x31.png	t	t	f	f	f
\.


--
-- TOC entry 5795 (class 0 OID 667949)
-- Dependencies: 597
-- Data for Name: export_format; Type: TABLE DATA; Schema: tice; Owner: eliot_scolarite
--

COPY export_format (id, nom, code) FROM stdin;
1	IMS Question & Test Interoperability	QTI
\.


--
-- TOC entry 5796 (class 0 OID 667957)
-- Dependencies: 599
-- Data for Name: publication; Type: TABLE DATA; Schema: tice; Owner: eliot_scolarite
--

COPY publication (id, copyrights_type_id, date_debut, date_fin) FROM stdin;
\.


SET search_path = udt, pg_catalog;

--
-- TOC entry 5797 (class 0 OID 667962)
-- Dependencies: 601
-- Data for Name: enseignement; Type: TABLE DATA; Schema: udt; Owner: eliot_scolarite
--

COPY enseignement (id, co_enseignement, matiere_id, professeur_id, structure_enseignement_id, udt_import_id, cree_cdt, etat) FROM stdin;
\.


--
-- TOC entry 5798 (class 0 OID 667969)
-- Dependencies: 603
-- Data for Name: evenement; Type: TABLE DATA; Schema: udt; Owner: eliot_scolarite
--

COPY evenement (id, date_debut, date_fin, salle, etat, libelle, co_enseignement, matiere_id, professeur_id, structure_enseignement_id, udt_import_id, semaine_index, jour_index, sequence_index, id_externe, annee) FROM stdin;
\.


--
-- TOC entry 5799 (class 0 OID 667976)
-- Dependencies: 605
-- Data for Name: import; Type: TABLE DATA; Schema: udt; Owner: eliot_scolarite
--

COPY import (id, semaines, etablissement_id, date_debut_pre_traitement, date_fin_pre_traitement, cle, cle_invalide) FROM stdin;
\.


--
-- TOC entry 5800 (class 0 OID 667982)
-- Dependencies: 607
-- Data for Name: professeur_principal; Type: TABLE DATA; Schema: udt; Owner: eliot_scolarite
--

COPY professeur_principal (id, structure_enseignement_id, professeur_id, udt_import_id, etat) FROM stdin;
\.


--
-- TOC entry 5801 (class 0 OID 667989)
-- Dependencies: 609
-- Data for Name: semaine_importee; Type: TABLE DATA; Schema: udt; Owner: eliot_scolarite
--

COPY semaine_importee (id, udt_import_id, annee, semaine, date_debut_import, date_fin_import) FROM stdin;
\.


SET search_path = aaf, pg_catalog;

--
-- TOC entry 3990 (class 2606 OID 667998)
-- Dependencies: 185 185
-- Name: pk_import; Type: CONSTRAINT; Schema: aaf; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import
    ADD CONSTRAINT pk_import PRIMARY KEY (id);


--
-- TOC entry 3994 (class 2606 OID 668000)
-- Dependencies: 187 187
-- Name: pk_import_verrou; Type: CONSTRAINT; Schema: aaf; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import_verrou
    ADD CONSTRAINT pk_import_verrou PRIMARY KEY (id);


--
-- TOC entry 3992 (class 2606 OID 668002)
-- Dependencies: 185 185
-- Name: uk_import_demande_import_id; Type: CONSTRAINT; Schema: aaf; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import
    ADD CONSTRAINT uk_import_demande_import_id UNIQUE (demande_import_id);


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 3998 (class 2606 OID 668004)
-- Dependencies: 189 189
-- Name: pk_admin_local; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY admin_local
    ADD CONSTRAINT pk_admin_local PRIMARY KEY (id);


--
-- TOC entry 4000 (class 2606 OID 668006)
-- Dependencies: 191 191
-- Name: pk_alerte; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY alerte
    ADD CONSTRAINT pk_alerte PRIMARY KEY (id);


--
-- TOC entry 4002 (class 2606 OID 668008)
-- Dependencies: 193 193
-- Name: pk_demande_import; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY demande_import
    ADD CONSTRAINT pk_demande_import PRIMARY KEY (id);


--
-- TOC entry 4005 (class 2606 OID 668010)
-- Dependencies: 196 196
-- Name: pk_eleve; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eleve
    ADD CONSTRAINT pk_eleve PRIMARY KEY (id);


--
-- TOC entry 4007 (class 2606 OID 668012)
-- Dependencies: 198 198
-- Name: pk_eleve_repartition; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eleve_repartition
    ADD CONSTRAINT pk_eleve_repartition PRIMARY KEY (id);


--
-- TOC entry 3996 (class 2606 OID 668014)
-- Dependencies: 188 188
-- Name: pk_entite; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY entite
    ADD CONSTRAINT pk_entite PRIMARY KEY (id);


--
-- TOC entry 4009 (class 2606 OID 668016)
-- Dependencies: 200 200
-- Name: pk_etablissement; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT pk_etablissement PRIMARY KEY (id);


--
-- TOC entry 4011 (class 2606 OID 668018)
-- Dependencies: 202 202
-- Name: pk_execution; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY execution
    ADD CONSTRAINT pk_execution PRIMARY KEY (id);


--
-- TOC entry 4013 (class 2606 OID 668020)
-- Dependencies: 204 204
-- Name: pk_hors_aaf; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY hors_aaf
    ADD CONSTRAINT pk_hors_aaf PRIMARY KEY (id);


--
-- TOC entry 4015 (class 2606 OID 668022)
-- Dependencies: 205 205
-- Name: pk_hors_aaf_fonction; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY hors_aaf_fonction
    ADD CONSTRAINT pk_hors_aaf_fonction PRIMARY KEY (id);


--
-- TOC entry 4017 (class 2606 OID 668024)
-- Dependencies: 209 209
-- Name: pk_pers_educ_nat; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY pers_educ_nat
    ADD CONSTRAINT pk_pers_educ_nat PRIMARY KEY (id);


--
-- TOC entry 4019 (class 2606 OID 668026)
-- Dependencies: 210 210
-- Name: pk_pers_educ_nat_fonction; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY pers_educ_nat_fonction
    ADD CONSTRAINT pk_pers_educ_nat_fonction PRIMARY KEY (id);


--
-- TOC entry 4021 (class 2606 OID 668028)
-- Dependencies: 213 213
-- Name: pk_porteur_ent; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT pk_porteur_ent PRIMARY KEY (id);


--
-- TOC entry 4023 (class 2606 OID 668030)
-- Dependencies: 215 215
-- Name: pk_responsable_eleve; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT pk_responsable_eleve PRIMARY KEY (id);


--
-- TOC entry 4025 (class 2606 OID 668032)
-- Dependencies: 217 217
-- Name: pk_structure_enseignement; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT pk_structure_enseignement PRIMARY KEY (id);


--
-- TOC entry 4027 (class 2606 OID 668034)
-- Dependencies: 219 219
-- Name: pk_type_alerte; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_alerte
    ADD CONSTRAINT pk_type_alerte PRIMARY KEY (id);


--
-- TOC entry 4029 (class 2606 OID 668036)
-- Dependencies: 221 221
-- Name: pk_type_erreur; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_erreur
    ADD CONSTRAINT pk_type_erreur PRIMARY KEY (id);


--
-- TOC entry 4033 (class 2606 OID 668038)
-- Dependencies: 223 223
-- Name: pk_verrou; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY verrou
    ADD CONSTRAINT pk_verrou PRIMARY KEY (id);


--
-- TOC entry 4031 (class 2606 OID 671968)
-- Dependencies: 221 221
-- Name: uk_type_erreur_code; Type: CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_erreur
    ADD CONSTRAINT uk_type_erreur_code UNIQUE (code);


SET search_path = backoffice, pg_catalog;

--
-- TOC entry 4035 (class 2606 OID 668042)
-- Dependencies: 224 224
-- Name: backoffice_config_uai_key; Type: CONSTRAINT; Schema: backoffice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY backoffice_config
    ADD CONSTRAINT backoffice_config_uai_key UNIQUE (uai);


--
-- TOC entry 4037 (class 2606 OID 668044)
-- Dependencies: 224 224
-- Name: pk_backoffice_config; Type: CONSTRAINT; Schema: backoffice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY backoffice_config
    ADD CONSTRAINT pk_backoffice_config PRIMARY KEY (id);


--
-- TOC entry 4039 (class 2606 OID 668046)
-- Dependencies: 226 226
-- Name: pk_base_eleve; Type: CONSTRAINT; Schema: backoffice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY base_eleve
    ADD CONSTRAINT pk_base_eleve PRIMARY KEY (id);


SET search_path = bascule_annee, pg_catalog;

--
-- TOC entry 4041 (class 2606 OID 668048)
-- Dependencies: 228 228
-- Name: etape_index_key; Type: CONSTRAINT; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etape
    ADD CONSTRAINT etape_index_key UNIQUE (index);


--
-- TOC entry 4043 (class 2606 OID 668050)
-- Dependencies: 228 228 228
-- Name: etape_module_code_etape_code_key; Type: CONSTRAINT; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etape
    ADD CONSTRAINT etape_module_code_etape_code_key UNIQUE (module_code, etape_code);


--
-- TOC entry 4045 (class 2606 OID 668052)
-- Dependencies: 228 228
-- Name: pk_etape; Type: CONSTRAINT; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etape
    ADD CONSTRAINT pk_etape PRIMARY KEY (id);


--
-- TOC entry 4047 (class 2606 OID 668054)
-- Dependencies: 230 230
-- Name: pk_verrou; Type: CONSTRAINT; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY verrou
    ADD CONSTRAINT pk_verrou PRIMARY KEY (id);


--
-- TOC entry 4049 (class 2606 OID 668056)
-- Dependencies: 230 230
-- Name: uk_verrou_nom; Type: CONSTRAINT; Schema: bascule_annee; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY verrou
    ADD CONSTRAINT uk_verrou_nom UNIQUE (nom);


SET search_path = ent, pg_catalog;

--
-- TOC entry 4063 (class 2606 OID 668058)
-- Dependencies: 235 235
-- Name: pk_annee_scolaire; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY annee_scolaire
    ADD CONSTRAINT pk_annee_scolaire PRIMARY KEY (id);


--
-- TOC entry 4068 (class 2606 OID 668064)
-- Dependencies: 238 238
-- Name: pk_calendrier; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT pk_calendrier PRIMARY KEY (id);


--
-- TOC entry 4072 (class 2606 OID 668066)
-- Dependencies: 239 239
-- Name: pk_civilite; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY civilite
    ADD CONSTRAINT pk_civilite PRIMARY KEY (id);


--
-- TOC entry 4974 (class 2606 OID 672096)
-- Dependencies: 635 635
-- Name: pk_eleve_proprietes; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT pk_eleve_proprietes PRIMARY KEY (id);


--
-- TOC entry 4077 (class 2606 OID 668068)
-- Dependencies: 241 241
-- Name: pk_enseignement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT pk_enseignement PRIMARY KEY (id);


--
-- TOC entry 4175 (class 2606 OID 668070)
-- Dependencies: 286 286
-- Name: pk_ent_service; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY service
    ADD CONSTRAINT pk_ent_service PRIMARY KEY (id);


--
-- TOC entry 4082 (class 2606 OID 668072)
-- Dependencies: 243 243
-- Name: pk_etablissement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT pk_etablissement PRIMARY KEY (id);


--
-- TOC entry 4088 (class 2606 OID 668074)
-- Dependencies: 245 245
-- Name: pk_etablissement_sts; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement_sts
    ADD CONSTRAINT pk_etablissement_sts PRIMARY KEY (id);


--
-- TOC entry 4092 (class 2606 OID 668076)
-- Dependencies: 247 247
-- Name: pk_fiche_eleve_commentaire; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fiche_eleve_commentaire
    ADD CONSTRAINT pk_fiche_eleve_commentaire PRIMARY KEY (id);


--
-- TOC entry 4096 (class 2606 OID 668078)
-- Dependencies: 249 249
-- Name: pk_filiere; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY filiere
    ADD CONSTRAINT pk_filiere PRIMARY KEY (id);


--
-- TOC entry 4098 (class 2606 OID 668080)
-- Dependencies: 251 251
-- Name: pk_fonction; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fonction
    ADD CONSTRAINT pk_fonction PRIMARY KEY (id);


--
-- TOC entry 4102 (class 2606 OID 668084)
-- Dependencies: 253 253
-- Name: pk_import_temps; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import_temps
    ADD CONSTRAINT pk_import_temps PRIMARY KEY (id);


--
-- TOC entry 4104 (class 2606 OID 668086)
-- Dependencies: 255 255
-- Name: pk_matiere; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT pk_matiere PRIMARY KEY (id);


--
-- TOC entry 4110 (class 2606 OID 668088)
-- Dependencies: 257 257
-- Name: pk_mef; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY mef
    ADD CONSTRAINT pk_mef PRIMARY KEY (id);


--
-- TOC entry 4114 (class 2606 OID 668090)
-- Dependencies: 259 259
-- Name: pk_modalite_cours; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_cours
    ADD CONSTRAINT pk_modalite_cours PRIMARY KEY (id);


--
-- TOC entry 4118 (class 2606 OID 668092)
-- Dependencies: 261 261
-- Name: pk_modalite_matiere; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT pk_modalite_matiere PRIMARY KEY (id);


--
-- TOC entry 4122 (class 2606 OID 668094)
-- Dependencies: 263 263
-- Name: pk_niveau; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY niveau
    ADD CONSTRAINT pk_niveau PRIMARY KEY (id);


--
-- TOC entry 4126 (class 2606 OID 668096)
-- Dependencies: 264 264
-- Name: pk_niveau_general; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY niveau_general
    ADD CONSTRAINT pk_niveau_general PRIMARY KEY (id);


--
-- TOC entry 4128 (class 2606 OID 668098)
-- Dependencies: 267 267
-- Name: pk_periode; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT pk_periode PRIMARY KEY (id);


--
-- TOC entry 4052 (class 2606 OID 668100)
-- Dependencies: 232 232
-- Name: pk_personne; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT pk_personne PRIMARY KEY (id);


--
-- TOC entry 4135 (class 2606 OID 668102)
-- Dependencies: 270 270
-- Name: pk_personne_propriete_scolarite; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT pk_personne_propriete_scolarite PRIMARY KEY (id);


--
-- TOC entry 4137 (class 2606 OID 668104)
-- Dependencies: 272 272
-- Name: pk_porteur_ent; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT pk_porteur_ent PRIMARY KEY (id);


--
-- TOC entry 4142 (class 2606 OID 668106)
-- Dependencies: 274 274
-- Name: pk_preference_etablissement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT pk_preference_etablissement PRIMARY KEY (id);


--
-- TOC entry 4151 (class 2606 OID 668108)
-- Dependencies: 276 276
-- Name: pk_propriete_scolarite; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT pk_propriete_scolarite PRIMARY KEY (id);


--
-- TOC entry 4153 (class 2606 OID 668110)
-- Dependencies: 278 278
-- Name: pk_regime; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY regime
    ADD CONSTRAINT pk_regime PRIMARY KEY (id);


--
-- TOC entry 4158 (class 2606 OID 668112)
-- Dependencies: 280 280 280
-- Name: pk_rel_classe_filiere; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT pk_rel_classe_filiere PRIMARY KEY (classe_id, filiere_id);


--
-- TOC entry 4161 (class 2606 OID 668114)
-- Dependencies: 281 281 281
-- Name: pk_rel_classe_groupe; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT pk_rel_classe_groupe PRIMARY KEY (classe_id, groupe_id);


--
-- TOC entry 4164 (class 2606 OID 668116)
-- Dependencies: 282 282
-- Name: pk_rel_periode_service; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT pk_rel_periode_service PRIMARY KEY (id);


--
-- TOC entry 4169 (class 2606 OID 668118)
-- Dependencies: 284 284
-- Name: pk_responsable_eleve; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT pk_responsable_eleve PRIMARY KEY (id);


--
-- TOC entry 4178 (class 2606 OID 668120)
-- Dependencies: 288 288
-- Name: pk_signature; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY signature
    ADD CONSTRAINT pk_signature PRIMARY KEY (id);


--
-- TOC entry 4180 (class 2606 OID 668122)
-- Dependencies: 290 290
-- Name: pk_source_import; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY source_import
    ADD CONSTRAINT pk_source_import PRIMARY KEY (id);


--
-- TOC entry 4185 (class 2606 OID 668124)
-- Dependencies: 291 291
-- Name: pk_sous_service; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT pk_sous_service PRIMARY KEY (id);


--
-- TOC entry 4189 (class 2606 OID 668126)
-- Dependencies: 293 293
-- Name: pk_structure_enseignement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT pk_structure_enseignement PRIMARY KEY (id);


--
-- TOC entry 4193 (class 2606 OID 668128)
-- Dependencies: 295 295
-- Name: pk_structure_enseignement_preferences; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_preferences
    ADD CONSTRAINT pk_structure_enseignement_preferences PRIMARY KEY (id);


--
-- TOC entry 4197 (class 2606 OID 668130)
-- Dependencies: 297 297
-- Name: pk_structure_enseignement_sts; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_sts
    ADD CONSTRAINT pk_structure_enseignement_sts PRIMARY KEY (id);


--
-- TOC entry 4201 (class 2606 OID 668132)
-- Dependencies: 299 299
-- Name: pk_type_activite; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_activite
    ADD CONSTRAINT pk_type_activite PRIMARY KEY (id);


--
-- TOC entry 4207 (class 2606 OID 668134)
-- Dependencies: 301 301
-- Name: pk_type_periode; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_periode
    ADD CONSTRAINT pk_type_periode PRIMARY KEY (id);


--
-- TOC entry 4065 (class 2606 OID 668136)
-- Dependencies: 235 235
-- Name: uk_annee_scolaire_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY annee_scolaire
    ADD CONSTRAINT uk_annee_scolaire_code UNIQUE (code);


--
-- TOC entry 4070 (class 2606 OID 668142)
-- Dependencies: 238 238 238
-- Name: uk_calendrier_etablissement_id_annee_scolaire_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT uk_calendrier_etablissement_id_annee_scolaire_id UNIQUE (etablissement_id, annee_scolaire_id);


--
-- TOC entry 4074 (class 2606 OID 668144)
-- Dependencies: 239 239
-- Name: uk_civilite_libelle; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY civilite
    ADD CONSTRAINT uk_civilite_libelle UNIQUE (libelle);


--
-- TOC entry 4976 (class 2606 OID 672113)
-- Dependencies: 635 635 635
-- Name: uk_eleve_proprietes_personne_annee_scolaire; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT uk_eleve_proprietes_personne_annee_scolaire UNIQUE (personne_id, annee_scolaire_id);


--
-- TOC entry 4079 (class 2606 OID 668146)
-- Dependencies: 241 241 241
-- Name: uk_enseignement_enseignant_id_service_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT uk_enseignement_enseignant_id_service_id UNIQUE (enseignant_id, service_id);


--
-- TOC entry 4084 (class 2606 OID 668148)
-- Dependencies: 243 243
-- Name: uk_etablissement_id_externe; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT uk_etablissement_id_externe UNIQUE (id_externe);


--
-- TOC entry 4090 (class 2606 OID 668150)
-- Dependencies: 245 245
-- Name: uk_etablissement_sts_etablissement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement_sts
    ADD CONSTRAINT uk_etablissement_sts_etablissement UNIQUE (etablissement_id);


--
-- TOC entry 4086 (class 2606 OID 668152)
-- Dependencies: 243 243
-- Name: uk_etablissement_uai; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT uk_etablissement_uai UNIQUE (uai);


--
-- TOC entry 4094 (class 2606 OID 668154)
-- Dependencies: 247 247
-- Name: uk_fiche_eleve_commentaire_personne_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fiche_eleve_commentaire
    ADD CONSTRAINT uk_fiche_eleve_commentaire_personne_id UNIQUE (personne_id);


--
-- TOC entry 4100 (class 2606 OID 668156)
-- Dependencies: 251 251
-- Name: uk_fonction_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fonction
    ADD CONSTRAINT uk_fonction_code UNIQUE (code);


--
-- TOC entry 4106 (class 2606 OID 668162)
-- Dependencies: 255 255 255 255
-- Name: uk_matiere_etablissement_id_code_gestion_annee_scolaire_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT uk_matiere_etablissement_id_code_gestion_annee_scolaire_id UNIQUE (etablissement_id, code_gestion, annee_scolaire_id);


--
-- TOC entry 4108 (class 2606 OID 668164)
-- Dependencies: 255 255 255 255
-- Name: uk_matiere_etablissement_id_code_sts_annee_scolaire_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT uk_matiere_etablissement_id_code_sts_annee_scolaire_id UNIQUE (etablissement_id, code_sts, annee_scolaire_id);


--
-- TOC entry 4112 (class 2606 OID 668166)
-- Dependencies: 257 257
-- Name: uk_mef_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY mef
    ADD CONSTRAINT uk_mef_code UNIQUE (code);


--
-- TOC entry 4116 (class 2606 OID 668168)
-- Dependencies: 259 259
-- Name: uk_modalite_cours_code_sts; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_cours
    ADD CONSTRAINT uk_modalite_cours_code_sts UNIQUE (code_sts);


--
-- TOC entry 4120 (class 2606 OID 668170)
-- Dependencies: 261 261 261
-- Name: uk_modalite_matiere_etablissement_id_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT uk_modalite_matiere_etablissement_id_code UNIQUE (etablissement_id, code);


--
-- TOC entry 4124 (class 2606 OID 668172)
-- Dependencies: 263 263
-- Name: uk_niveau_libelle_court; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY niveau
    ADD CONSTRAINT uk_niveau_libelle_court UNIQUE (libelle_court);


--
-- TOC entry 4130 (class 2606 OID 668174)
-- Dependencies: 267 267 267
-- Name: uk_periode_structure_enseignement_id_type_periode_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT uk_periode_structure_enseignement_id_type_periode_id UNIQUE (structure_enseignement_id, type_periode_id);


--
-- TOC entry 4054 (class 2606 OID 668176)
-- Dependencies: 232 232
-- Name: uk_personne_autorite_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT uk_personne_autorite_id UNIQUE (autorite_id);


--
-- TOC entry 4139 (class 2606 OID 668178)
-- Dependencies: 272 272
-- Name: uk_porteur_ent_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT uk_porteur_ent_code UNIQUE (code);


--
-- TOC entry 4144 (class 2606 OID 668180)
-- Dependencies: 274 274
-- Name: uk_preference_etablissement_etablissement_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT uk_preference_etablissement_etablissement_id UNIQUE (etablissement_id);


--
-- TOC entry 4155 (class 2606 OID 668182)
-- Dependencies: 278 278
-- Name: uk_regime_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY regime
    ADD CONSTRAINT uk_regime_code UNIQUE (code);


--
-- TOC entry 4166 (class 2606 OID 668184)
-- Dependencies: 282 282 282
-- Name: uk_rel_periode_service_periode_id_service_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT uk_rel_periode_service_periode_id_service_id UNIQUE (periode_id, service_id);


--
-- TOC entry 4171 (class 2606 OID 668186)
-- Dependencies: 284 284 284
-- Name: uk_responsable_eleve_personne_id_eleve_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT uk_responsable_eleve_personne_id_eleve_id UNIQUE (personne_id, eleve_id);


--
-- TOC entry 4182 (class 2606 OID 668188)
-- Dependencies: 290 290
-- Name: uk_source_import_code; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY source_import
    ADD CONSTRAINT uk_source_import_code UNIQUE (code);


--
-- TOC entry 4187 (class 2606 OID 668190)
-- Dependencies: 291 291 291 291
-- Name: uk_sous_service_service_id_type_periode_id_modalite_matiere_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT uk_sous_service_service_id_type_periode_id_modalite_matiere_id UNIQUE (service_id, type_periode_id, modalite_matiere_id);


--
-- TOC entry 4191 (class 2606 OID 668192)
-- Dependencies: 293 293 293 293 293
-- Name: uk_structure_enseignement_etablissement_id_annee_scolaire_id_ty; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT uk_structure_enseignement_etablissement_id_annee_scolaire_id_ty UNIQUE (etablissement_id, annee_scolaire_id, type, code);


--
-- TOC entry 4195 (class 2606 OID 668194)
-- Dependencies: 295 295
-- Name: uk_structure_enseignement_preferences_structure_enseignement_id; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_preferences
    ADD CONSTRAINT uk_structure_enseignement_preferences_structure_enseignement_id UNIQUE (structure_enseignement_id);


--
-- TOC entry 4199 (class 2606 OID 668196)
-- Dependencies: 297 297
-- Name: uk_structure_enseignement_sts_structure_enseignement; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_sts
    ADD CONSTRAINT uk_structure_enseignement_sts_structure_enseignement UNIQUE (structure_enseignement_id);


--
-- TOC entry 4209 (class 2606 OID 668198)
-- Dependencies: 301 301 301
-- Name: uk_type_periode_etablissement_id_libelle; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_periode
    ADD CONSTRAINT uk_type_periode_etablissement_id_libelle UNIQUE (etablissement_id, libelle);


--
-- TOC entry 4211 (class 2606 OID 668200)
-- Dependencies: 301 301
-- Name: uk_type_periode_intervalle; Type: CONSTRAINT; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_periode
    ADD CONSTRAINT uk_type_periode_intervalle UNIQUE (intervalle);


SET search_path = ent_2011_2012, pg_catalog;

--
-- TOC entry 4213 (class 2606 OID 668202)
-- Dependencies: 303 303
-- Name: pk_annee_scolaire; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT pk_annee_scolaire PRIMARY KEY (id);


--
-- TOC entry 4217 (class 2606 OID 668204)
-- Dependencies: 304 304
-- Name: pk_enseignement; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT pk_enseignement PRIMARY KEY (id);


--
-- TOC entry 4251 (class 2606 OID 668206)
-- Dependencies: 314 314
-- Name: pk_ent_service; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY service
    ADD CONSTRAINT pk_ent_service PRIMARY KEY (id);


--
-- TOC entry 4221 (class 2606 OID 668208)
-- Dependencies: 305 305
-- Name: pk_matiere; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT pk_matiere PRIMARY KEY (id);


--
-- TOC entry 4227 (class 2606 OID 668210)
-- Dependencies: 306 306
-- Name: pk_modalite_matiere; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT pk_modalite_matiere PRIMARY KEY (id);


--
-- TOC entry 4231 (class 2606 OID 668212)
-- Dependencies: 307 307
-- Name: pk_periode; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT pk_periode PRIMARY KEY (id);


--
-- TOC entry 4235 (class 2606 OID 668214)
-- Dependencies: 308 308
-- Name: pk_personne_propriete_scolarite; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT pk_personne_propriete_scolarite PRIMARY KEY (id);


--
-- TOC entry 4237 (class 2606 OID 668216)
-- Dependencies: 309 309
-- Name: pk_preference_etablissement; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT pk_preference_etablissement PRIMARY KEY (id);


--
-- TOC entry 4241 (class 2606 OID 668218)
-- Dependencies: 310 310
-- Name: pk_propriete_scolarite; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT pk_propriete_scolarite PRIMARY KEY (id);


--
-- TOC entry 4243 (class 2606 OID 668220)
-- Dependencies: 311 311 311
-- Name: pk_rel_classe_filiere; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT pk_rel_classe_filiere PRIMARY KEY (classe_id, filiere_id);


--
-- TOC entry 4245 (class 2606 OID 668222)
-- Dependencies: 312 312 312
-- Name: pk_rel_classe_groupe; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT pk_rel_classe_groupe PRIMARY KEY (classe_id, groupe_id);


--
-- TOC entry 4247 (class 2606 OID 668224)
-- Dependencies: 313 313
-- Name: pk_rel_periode_service; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT pk_rel_periode_service PRIMARY KEY (id);


--
-- TOC entry 4253 (class 2606 OID 668228)
-- Dependencies: 315 315
-- Name: pk_sous_service; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT pk_sous_service PRIMARY KEY (id);


--
-- TOC entry 4257 (class 2606 OID 668230)
-- Dependencies: 316 316
-- Name: pk_structure_enseignement; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT pk_structure_enseignement PRIMARY KEY (id);


--
-- TOC entry 4215 (class 2606 OID 668232)
-- Dependencies: 303 303 303
-- Name: uk_calendrier_etablissement_id_annee_scolaire_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT uk_calendrier_etablissement_id_annee_scolaire_id UNIQUE (etablissement_id, annee_scolaire_id);


--
-- TOC entry 4219 (class 2606 OID 668234)
-- Dependencies: 304 304 304
-- Name: uk_enseignement_enseignant_id_service_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT uk_enseignement_enseignant_id_service_id UNIQUE (enseignant_id, service_id);


--
-- TOC entry 4223 (class 2606 OID 668236)
-- Dependencies: 305 305 305
-- Name: uk_matiere_etablissement_id_code_gestion; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT uk_matiere_etablissement_id_code_gestion UNIQUE (etablissement_id, code_gestion);


--
-- TOC entry 4225 (class 2606 OID 668238)
-- Dependencies: 305 305 305
-- Name: uk_matiere_etablissement_id_code_sts; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT uk_matiere_etablissement_id_code_sts UNIQUE (etablissement_id, code_sts);


--
-- TOC entry 4229 (class 2606 OID 668240)
-- Dependencies: 306 306 306
-- Name: uk_modalite_matiere_etablissement_id_code; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT uk_modalite_matiere_etablissement_id_code UNIQUE (etablissement_id, code);


--
-- TOC entry 4233 (class 2606 OID 668242)
-- Dependencies: 307 307 307
-- Name: uk_periode_structure_enseignement_id_type_periode_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT uk_periode_structure_enseignement_id_type_periode_id UNIQUE (structure_enseignement_id, type_periode_id);


--
-- TOC entry 4239 (class 2606 OID 668244)
-- Dependencies: 309 309
-- Name: uk_preference_etablissement_etablissement_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT uk_preference_etablissement_etablissement_id UNIQUE (etablissement_id);


--
-- TOC entry 4249 (class 2606 OID 668246)
-- Dependencies: 313 313 313
-- Name: uk_rel_periode_service_periode_id_service_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT uk_rel_periode_service_periode_id_service_id UNIQUE (periode_id, service_id);


--
-- TOC entry 4255 (class 2606 OID 668248)
-- Dependencies: 315 315 315 315
-- Name: uk_sous_service_service_id_type_periode_id_modalite_matiere_id; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT uk_sous_service_service_id_type_periode_id_modalite_matiere_id UNIQUE (service_id, type_periode_id, modalite_matiere_id);


--
-- TOC entry 4259 (class 2606 OID 668250)
-- Dependencies: 316 316 316 316 316
-- Name: uk_structure_enseignement_etablissement_id_annee_scolaire_id_ty; Type: CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT uk_structure_enseignement_etablissement_id_annee_scolaire_id_ty UNIQUE (etablissement_id, annee_scolaire_id, type, code);


SET search_path = entcdt, pg_catalog;

--
-- TOC entry 4264 (class 2606 OID 668252)
-- Dependencies: 317 317
-- Name: pk_activite; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT pk_activite PRIMARY KEY (id);


--
-- TOC entry 4268 (class 2606 OID 668254)
-- Dependencies: 319 319
-- Name: pk_cahier_de_textes; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT pk_cahier_de_textes PRIMARY KEY (id);


--
-- TOC entry 4272 (class 2606 OID 668256)
-- Dependencies: 321 321
-- Name: pk_chapitre; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY chapitre
    ADD CONSTRAINT pk_chapitre PRIMARY KEY (id);


--
-- TOC entry 4274 (class 2606 OID 668258)
-- Dependencies: 323 323
-- Name: pk_contexte_activite; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY contexte_activite
    ADD CONSTRAINT pk_contexte_activite PRIMARY KEY (id);


--
-- TOC entry 4279 (class 2606 OID 668260)
-- Dependencies: 325 325
-- Name: pk_date_activite; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY date_activite
    ADD CONSTRAINT pk_date_activite PRIMARY KEY (id);


--
-- TOC entry 4285 (class 2606 OID 668262)
-- Dependencies: 327 327
-- Name: pk_dossier; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY dossier
    ADD CONSTRAINT pk_dossier PRIMARY KEY (id);


--
-- TOC entry 4287 (class 2606 OID 668264)
-- Dependencies: 329 329
-- Name: pk_fichier; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fichier
    ADD CONSTRAINT pk_fichier PRIMARY KEY (id);


--
-- TOC entry 4289 (class 2606 OID 668266)
-- Dependencies: 331 331
-- Name: pk_import; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import
    ADD CONSTRAINT pk_import PRIMARY KEY (id);


--
-- TOC entry 4292 (class 2606 OID 668268)
-- Dependencies: 333 333
-- Name: pk_rel_activite_acteur; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_activite_acteur
    ADD CONSTRAINT pk_rel_activite_acteur PRIMARY KEY (id);


--
-- TOC entry 4297 (class 2606 OID 668270)
-- Dependencies: 335 335
-- Name: pk_rel_cahier_acteur; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_cahier_acteur
    ADD CONSTRAINT pk_rel_cahier_acteur PRIMARY KEY (id);


--
-- TOC entry 4302 (class 2606 OID 668272)
-- Dependencies: 337 337
-- Name: pk_rel_cahier_groupe; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_cahier_groupe
    ADD CONSTRAINT pk_rel_cahier_groupe PRIMARY KEY (id);


--
-- TOC entry 4307 (class 2606 OID 668274)
-- Dependencies: 339 339
-- Name: pk_rel_dossier_autorisation_cahier; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_dossier_autorisation_cahier
    ADD CONSTRAINT pk_rel_dossier_autorisation_cahier PRIMARY KEY (id);


--
-- TOC entry 4312 (class 2606 OID 668276)
-- Dependencies: 341 341
-- Name: pk_ressource; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY ressource
    ADD CONSTRAINT pk_ressource PRIMARY KEY (id);


--
-- TOC entry 4314 (class 2606 OID 668278)
-- Dependencies: 343 343
-- Name: pk_textes_preferences_utilisateur; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY textes_preferences_utilisateur
    ADD CONSTRAINT pk_textes_preferences_utilisateur PRIMARY KEY (id);


--
-- TOC entry 4320 (class 2606 OID 668280)
-- Dependencies: 346 346
-- Name: pk_visa; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY visa
    ADD CONSTRAINT pk_visa PRIMARY KEY (id);


--
-- TOC entry 4276 (class 2606 OID 668282)
-- Dependencies: 323 323
-- Name: uk_contexte_activite_code; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY contexte_activite
    ADD CONSTRAINT uk_contexte_activite_code UNIQUE (code);


--
-- TOC entry 4281 (class 2606 OID 668284)
-- Dependencies: 325 325 325
-- Name: uk_date_activite_evenement_id_activite_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY date_activite
    ADD CONSTRAINT uk_date_activite_evenement_id_activite_id UNIQUE (evenement_id, activite_id);


--
-- TOC entry 4294 (class 2606 OID 668286)
-- Dependencies: 333 333 333
-- Name: uk_rel_activite_acteur_activite_id_acteur_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_activite_acteur
    ADD CONSTRAINT uk_rel_activite_acteur_activite_id_acteur_id UNIQUE (activite_id, acteur_id);


--
-- TOC entry 4299 (class 2606 OID 668288)
-- Dependencies: 335 335 335
-- Name: uk_rel_cahier_acteur_acteur_id_cahier_de_textes_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_cahier_acteur
    ADD CONSTRAINT uk_rel_cahier_acteur_acteur_id_cahier_de_textes_id UNIQUE (acteur_id, cahier_de_textes_id);


--
-- TOC entry 4304 (class 2606 OID 668290)
-- Dependencies: 337 337 337
-- Name: uk_rel_cahier_groupe_cahier_de_textes_id_groupe_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_cahier_groupe
    ADD CONSTRAINT uk_rel_cahier_groupe_cahier_de_textes_id_groupe_id UNIQUE (cahier_de_textes_id, groupe_id);


--
-- TOC entry 4309 (class 2606 OID 668292)
-- Dependencies: 339 339 339
-- Name: uk_rel_dossier_autorisation_cahier_dossier_id_autorisation_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_dossier_autorisation_cahier
    ADD CONSTRAINT uk_rel_dossier_autorisation_cahier_dossier_id_autorisation_id UNIQUE (dossier_id, autorisation_id);


--
-- TOC entry 4316 (class 2606 OID 668294)
-- Dependencies: 343 343
-- Name: uk_textes_preferences_utilisateur_utilisateur_id; Type: CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY textes_preferences_utilisateur
    ADD CONSTRAINT uk_textes_preferences_utilisateur_utilisateur_id UNIQUE (utilisateur_id);


SET search_path = entdemon, pg_catalog;

--
-- TOC entry 4323 (class 2606 OID 668296)
-- Dependencies: 348 348
-- Name: pk_demande_traitement; Type: CONSTRAINT; Schema: entdemon; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY demande_traitement
    ADD CONSTRAINT pk_demande_traitement PRIMARY KEY (id);


SET search_path = entnotes, pg_catalog;

--
-- TOC entry 4344 (class 2606 OID 668298)
-- Dependencies: 360 360 360
-- Name: brevet_epreuve_serie_id_code_key; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT brevet_epreuve_serie_id_code_key UNIQUE (serie_id, code);


--
-- TOC entry 4358 (class 2606 OID 668300)
-- Dependencies: 367 367 367
-- Name: brevet_rel_epreuve_matiere_epreuve_id_matiere_id_key; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT brevet_rel_epreuve_matiere_epreuve_id_matiere_id_key UNIQUE (epreuve_id, matiere_id);


--
-- TOC entry 4362 (class 2606 OID 668302)
-- Dependencies: 369 369 369
-- Name: brevet_rel_epreuve_note_valeu_brevet_epreuve_id_valeur_text_key; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT brevet_rel_epreuve_note_valeu_brevet_epreuve_id_valeur_text_key UNIQUE (brevet_epreuve_id, valeur_textuelle_id);


--
-- TOC entry 4325 (class 2606 OID 668304)
-- Dependencies: 350 350
-- Name: pk_appreciation_classe_enseignement_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT pk_appreciation_classe_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4329 (class 2606 OID 668306)
-- Dependencies: 352 352
-- Name: pk_appreciation_eleve_enseignement_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT pk_appreciation_eleve_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4333 (class 2606 OID 668308)
-- Dependencies: 354 354
-- Name: pk_appreciation_eleve_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT pk_appreciation_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4337 (class 2606 OID 668310)
-- Dependencies: 356 356
-- Name: pk_avis; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY avis
    ADD CONSTRAINT pk_avis PRIMARY KEY (id);


--
-- TOC entry 4340 (class 2606 OID 668312)
-- Dependencies: 357 357
-- Name: pk_avis_eleve_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT pk_avis_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4346 (class 2606 OID 668314)
-- Dependencies: 360 360
-- Name: pk_brevet_epreuve; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT pk_brevet_epreuve PRIMARY KEY (id);


--
-- TOC entry 4348 (class 2606 OID 668316)
-- Dependencies: 362 362
-- Name: pk_brevet_fiche; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT pk_brevet_fiche PRIMARY KEY (id);


--
-- TOC entry 4352 (class 2606 OID 668318)
-- Dependencies: 364 364
-- Name: pk_brevet_note; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT pk_brevet_note PRIMARY KEY (id);


--
-- TOC entry 4356 (class 2606 OID 668320)
-- Dependencies: 366 366
-- Name: pk_brevet_note_valeur_textuelle; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_note_valeur_textuelle
    ADD CONSTRAINT pk_brevet_note_valeur_textuelle PRIMARY KEY (id);


--
-- TOC entry 4360 (class 2606 OID 668322)
-- Dependencies: 367 367
-- Name: pk_brevet_rel_epreuve_matiere; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT pk_brevet_rel_epreuve_matiere PRIMARY KEY (id);


--
-- TOC entry 4364 (class 2606 OID 668324)
-- Dependencies: 369 369 369
-- Name: pk_brevet_rel_epreuve_note_valeur_textuelle; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT pk_brevet_rel_epreuve_note_valeur_textuelle PRIMARY KEY (brevet_epreuve_id, valeur_textuelle_id);


--
-- TOC entry 4366 (class 2606 OID 668326)
-- Dependencies: 371 371
-- Name: pk_brevet_serie; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_serie
    ADD CONSTRAINT pk_brevet_serie PRIMARY KEY (id);


--
-- TOC entry 4376 (class 2606 OID 668328)
-- Dependencies: 374 374
-- Name: pk_dirty_moyenne; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT pk_dirty_moyenne PRIMARY KEY (id);


--
-- TOC entry 4378 (class 2606 OID 668330)
-- Dependencies: 376 376
-- Name: pk_etablissement_notes; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement_notes
    ADD CONSTRAINT pk_etablissement_notes PRIMARY KEY (id);


--
-- TOC entry 4383 (class 2606 OID 668332)
-- Dependencies: 378 378
-- Name: pk_evaluation; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT pk_evaluation PRIMARY KEY (id);


--
-- TOC entry 4385 (class 2606 OID 668334)
-- Dependencies: 380 380
-- Name: pk_info_calcul_moyennes_classe; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT pk_info_calcul_moyennes_classe PRIMARY KEY (id);


--
-- TOC entry 4420 (class 2606 OID 668336)
-- Dependencies: 396 396
-- Name: pk_info_supplementaire; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT pk_info_supplementaire PRIMARY KEY (id);


--
-- TOC entry 4389 (class 2606 OID 668338)
-- Dependencies: 383 383
-- Name: pk_modele_appreciation_professeur; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modele_appreciation_professeur
    ADD CONSTRAINT pk_modele_appreciation_professeur PRIMARY KEY (id);


--
-- TOC entry 4393 (class 2606 OID 668340)
-- Dependencies: 385 385
-- Name: pk_note; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note
    ADD CONSTRAINT pk_note PRIMARY KEY (id);


--
-- TOC entry 4399 (class 2606 OID 668342)
-- Dependencies: 387 387
-- Name: pk_note_textuelle; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT pk_note_textuelle PRIMARY KEY (id);


--
-- TOC entry 4950 (class 2606 OID 671806)
-- Dependencies: 617 617
-- Name: pk_preference_utilisateur_notes; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_utilisateur_notes
    ADD CONSTRAINT pk_preference_utilisateur_notes PRIMARY KEY (id);


--
-- TOC entry 4402 (class 2606 OID 668344)
-- Dependencies: 389 389 389
-- Name: pk_rel_evaluation_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT pk_rel_evaluation_periode PRIMARY KEY (evaluation_id, periode_id);


--
-- TOC entry 4406 (class 2606 OID 668346)
-- Dependencies: 390 390
-- Name: pk_resultat_classe_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT pk_resultat_classe_periode PRIMARY KEY (id);


--
-- TOC entry 4411 (class 2606 OID 668348)
-- Dependencies: 392 392
-- Name: pk_resultat_classe_service_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT pk_resultat_classe_service_periode PRIMARY KEY (id);


--
-- TOC entry 4416 (class 2606 OID 668350)
-- Dependencies: 394 394
-- Name: pk_resultat_classe_sous_service_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT pk_resultat_classe_sous_service_periode PRIMARY KEY (id);


--
-- TOC entry 4424 (class 2606 OID 668352)
-- Dependencies: 398 398
-- Name: pk_resultat_eleve_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT pk_resultat_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4428 (class 2606 OID 668354)
-- Dependencies: 400 400
-- Name: pk_resultat_eleve_service_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT pk_resultat_eleve_service_periode PRIMARY KEY (id);


--
-- TOC entry 4433 (class 2606 OID 668356)
-- Dependencies: 402 402
-- Name: pk_resultat_eleve_sous_service_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT pk_resultat_eleve_sous_service_periode PRIMARY KEY (id);


--
-- TOC entry 4437 (class 2606 OID 668358)
-- Dependencies: 404 404
-- Name: pk_resultat_enseignement_periode; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_enseignement_periode
    ADD CONSTRAINT pk_resultat_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4441 (class 2606 OID 668360)
-- Dependencies: 406 406
-- Name: pk_structure_enseignement_notes; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_notes
    ADD CONSTRAINT pk_structure_enseignement_notes PRIMARY KEY (id);


--
-- TOC entry 4445 (class 2606 OID 668362)
-- Dependencies: 408 408
-- Name: pk_type_avis; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_avis
    ADD CONSTRAINT pk_type_avis PRIMARY KEY (id);


--
-- TOC entry 4447 (class 2606 OID 668364)
-- Dependencies: 408 408 408
-- Name: type_avis_etablissement_id_ordre_key; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_avis
    ADD CONSTRAINT type_avis_etablissement_id_ordre_key UNIQUE (etablissement_id, ordre);


--
-- TOC entry 4327 (class 2606 OID 668366)
-- Dependencies: 350 350 350 350
-- Name: uk_appreciation_classe_enseignement_periode_classe_id_periode_i; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT uk_appreciation_classe_enseignement_periode_classe_id_periode_i UNIQUE (classe_id, periode_id, enseignement_id);


--
-- TOC entry 4331 (class 2606 OID 668368)
-- Dependencies: 352 352 352 352
-- Name: uk_appreciation_eleve_enseignement_periode_eleve_id_periode_id_; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT uk_appreciation_eleve_enseignement_periode_eleve_id_periode_id_ UNIQUE (eleve_id, periode_id, enseignement_id);


--
-- TOC entry 4335 (class 2606 OID 668370)
-- Dependencies: 354 354 354
-- Name: uk_appreciation_eleve_periode_eleve_id_periode_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT uk_appreciation_eleve_periode_eleve_id_periode_id UNIQUE (eleve_id, periode_id);


--
-- TOC entry 4350 (class 2606 OID 668372)
-- Dependencies: 362 362 362
-- Name: uk_brevet_fiche_eleve_id_annee_scolaire_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT uk_brevet_fiche_eleve_id_annee_scolaire_id UNIQUE (eleve_id, annee_scolaire_id);


--
-- TOC entry 4354 (class 2606 OID 668374)
-- Dependencies: 364 364 364
-- Name: uk_brevet_note_fiche_id_epreuve_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT uk_brevet_note_fiche_id_epreuve_id UNIQUE (fiche_id, epreuve_id);


--
-- TOC entry 4342 (class 2606 OID 668376)
-- Dependencies: 357 357 357 357
-- Name: uk_eleve_periode_type_avis; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT uk_eleve_periode_type_avis UNIQUE (eleve_id, periode_id, type_avis_id);


--
-- TOC entry 4380 (class 2606 OID 668378)
-- Dependencies: 376 376
-- Name: uk_etablissement_notes_etablissement_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etablissement_notes
    ADD CONSTRAINT uk_etablissement_notes_etablissement_id UNIQUE (etablissement_id);


--
-- TOC entry 4387 (class 2606 OID 668380)
-- Dependencies: 380 380
-- Name: uk_info_calcul_moyennes_classe_classe_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT uk_info_calcul_moyennes_classe_classe_id UNIQUE (classe_id);


--
-- TOC entry 4391 (class 2606 OID 668382)
-- Dependencies: 383 383 383
-- Name: uk_modele_appreciation_professeur_autorite_id_texte; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modele_appreciation_professeur
    ADD CONSTRAINT uk_modele_appreciation_professeur_autorite_id_texte UNIQUE (autorite_id, texte);


--
-- TOC entry 4395 (class 2606 OID 668384)
-- Dependencies: 385 385 385
-- Name: uk_note_evaluation_id_eleve_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note
    ADD CONSTRAINT uk_note_evaluation_id_eleve_id UNIQUE (evaluation_id, eleve_id);


--
-- TOC entry 4404 (class 2606 OID 668386)
-- Dependencies: 389 389 389
-- Name: uk_rel_evaluation_periode_evaluation_id_periode_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT uk_rel_evaluation_periode_evaluation_id_periode_id UNIQUE (evaluation_id, periode_id);


--
-- TOC entry 4408 (class 2606 OID 668388)
-- Dependencies: 390 390 390
-- Name: uk_resultat_classe_periode_periode_id_structure_enseignement_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT uk_resultat_classe_periode_periode_id_structure_enseignement_id UNIQUE (periode_id, structure_enseignement_id);


--
-- TOC entry 4413 (class 2606 OID 668390)
-- Dependencies: 392 392 392 392
-- Name: uk_resultat_classe_service_periode_service_id_periode_id_struct; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT uk_resultat_classe_service_periode_service_id_periode_id_struct UNIQUE (service_id, periode_id, structure_enseignement_id);


--
-- TOC entry 4418 (class 2606 OID 668392)
-- Dependencies: 394 394 394
-- Name: uk_resultat_classe_sous_service_periode_resultat_classe_service; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT uk_resultat_classe_sous_service_periode_resultat_classe_service UNIQUE (resultat_classe_service_periode_id, sous_service_id);


--
-- TOC entry 4422 (class 2606 OID 668394)
-- Dependencies: 396 396 396 396
-- Name: uk_resultat_eleve_enseignement_periode_enseignement_id_eleve_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT uk_resultat_eleve_enseignement_periode_enseignement_id_eleve_id UNIQUE (enseignement_id, eleve_id, periode_id);


--
-- TOC entry 4426 (class 2606 OID 668396)
-- Dependencies: 398 398 398
-- Name: uk_resultat_eleve_periode_periode_id_autorite_eleve_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT uk_resultat_eleve_periode_periode_id_autorite_eleve_id UNIQUE (periode_id, autorite_eleve_id);


--
-- TOC entry 4430 (class 2606 OID 668398)
-- Dependencies: 400 400 400 400
-- Name: uk_resultat_eleve_service_periode_service_id_periode_id_autorit; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT uk_resultat_eleve_service_periode_service_id_periode_id_autorit UNIQUE (service_id, periode_id, autorite_eleve_id);


--
-- TOC entry 4435 (class 2606 OID 668400)
-- Dependencies: 402 402 402
-- Name: uk_resultat_eleve_sous_service_periode_resultat_eleve_service_p; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT uk_resultat_eleve_sous_service_periode_resultat_eleve_service_p UNIQUE (resultat_eleve_service_periode_id, sous_service_id);


--
-- TOC entry 4439 (class 2606 OID 668402)
-- Dependencies: 404 404 404
-- Name: uk_resultat_enseignement_periode_enseignement_id_periode_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_enseignement_periode
    ADD CONSTRAINT uk_resultat_enseignement_periode_enseignement_id_periode_id UNIQUE (enseignement_id, periode_id);


--
-- TOC entry 4443 (class 2606 OID 668404)
-- Dependencies: 406 406
-- Name: uk_structure_enseignement_notes_structure_enseignement_id; Type: CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY structure_enseignement_notes
    ADD CONSTRAINT uk_structure_enseignement_notes_structure_enseignement_id UNIQUE (structure_enseignement_id);


SET search_path = entnotes_2011_2012, pg_catalog;

--
-- TOC entry 4466 (class 2606 OID 668406)
-- Dependencies: 414 414 414
-- Name: brevet_epreuve_serie_id_code_key; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT brevet_epreuve_serie_id_code_key UNIQUE (serie_id, code);


--
-- TOC entry 4478 (class 2606 OID 668408)
-- Dependencies: 417 417 417
-- Name: brevet_rel_epreuve_matiere_epreuve_id_matiere_id_key; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT brevet_rel_epreuve_matiere_epreuve_id_matiere_id_key UNIQUE (epreuve_id, matiere_id);


--
-- TOC entry 4450 (class 2606 OID 668410)
-- Dependencies: 410 410
-- Name: pk_appreciation_classe_enseignement_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT pk_appreciation_classe_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4454 (class 2606 OID 668412)
-- Dependencies: 411 411
-- Name: pk_appreciation_eleve_enseignement_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT pk_appreciation_eleve_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4458 (class 2606 OID 668414)
-- Dependencies: 412 412
-- Name: pk_appreciation_eleve_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT pk_appreciation_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4462 (class 2606 OID 668416)
-- Dependencies: 413 413
-- Name: pk_avis_eleve_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT pk_avis_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4468 (class 2606 OID 668418)
-- Dependencies: 414 414
-- Name: pk_brevet_epreuve; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT pk_brevet_epreuve PRIMARY KEY (id);


--
-- TOC entry 4470 (class 2606 OID 668420)
-- Dependencies: 415 415
-- Name: pk_brevet_fiche; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT pk_brevet_fiche PRIMARY KEY (id);


--
-- TOC entry 4474 (class 2606 OID 668422)
-- Dependencies: 416 416
-- Name: pk_brevet_note; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT pk_brevet_note PRIMARY KEY (id);


--
-- TOC entry 4480 (class 2606 OID 668424)
-- Dependencies: 417 417
-- Name: pk_brevet_rel_epreuve_matiere; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT pk_brevet_rel_epreuve_matiere PRIMARY KEY (id);


--
-- TOC entry 4482 (class 2606 OID 668426)
-- Dependencies: 418 418 418
-- Name: pk_brevet_rel_epreuve_note_valeur_textuelle; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT pk_brevet_rel_epreuve_note_valeur_textuelle PRIMARY KEY (brevet_epreuve_id, valeur_textuelle_id);


--
-- TOC entry 4484 (class 2606 OID 668428)
-- Dependencies: 419 419
-- Name: pk_brevet_serie; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_serie
    ADD CONSTRAINT pk_brevet_serie PRIMARY KEY (id);


--
-- TOC entry 4486 (class 2606 OID 668430)
-- Dependencies: 420 420
-- Name: pk_evaluation; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT pk_evaluation PRIMARY KEY (id);


--
-- TOC entry 4488 (class 2606 OID 668432)
-- Dependencies: 421 421
-- Name: pk_info_calcul_moyennes_classe; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT pk_info_calcul_moyennes_classe PRIMARY KEY (id);


--
-- TOC entry 4516 (class 2606 OID 668434)
-- Dependencies: 429 429
-- Name: pk_info_supplementaire; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT pk_info_supplementaire PRIMARY KEY (id);


--
-- TOC entry 4492 (class 2606 OID 668436)
-- Dependencies: 422 422
-- Name: pk_note; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note
    ADD CONSTRAINT pk_note PRIMARY KEY (id);


--
-- TOC entry 4496 (class 2606 OID 668438)
-- Dependencies: 423 423
-- Name: pk_note_textuelle; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT pk_note_textuelle PRIMARY KEY (id);


--
-- TOC entry 4498 (class 2606 OID 668440)
-- Dependencies: 424 424 424
-- Name: pk_rel_evaluation_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT pk_rel_evaluation_periode PRIMARY KEY (evaluation_id, periode_id);


--
-- TOC entry 4500 (class 2606 OID 668442)
-- Dependencies: 425 425
-- Name: pk_resultat_classe_enseignement_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_enseignement_periode
    ADD CONSTRAINT pk_resultat_classe_enseignement_periode PRIMARY KEY (id);


--
-- TOC entry 4504 (class 2606 OID 668444)
-- Dependencies: 426 426
-- Name: pk_resultat_classe_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT pk_resultat_classe_periode PRIMARY KEY (id);


--
-- TOC entry 4508 (class 2606 OID 668446)
-- Dependencies: 427 427
-- Name: pk_resultat_classe_service_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT pk_resultat_classe_service_periode PRIMARY KEY (id);


--
-- TOC entry 4512 (class 2606 OID 668448)
-- Dependencies: 428 428
-- Name: pk_resultat_classe_sous_service_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT pk_resultat_classe_sous_service_periode PRIMARY KEY (id);


--
-- TOC entry 4520 (class 2606 OID 668450)
-- Dependencies: 430 430
-- Name: pk_resultat_eleve_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT pk_resultat_eleve_periode PRIMARY KEY (id);


--
-- TOC entry 4524 (class 2606 OID 668452)
-- Dependencies: 431 431
-- Name: pk_resultat_eleve_service_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT pk_resultat_eleve_service_periode PRIMARY KEY (id);


--
-- TOC entry 4528 (class 2606 OID 668454)
-- Dependencies: 432 432
-- Name: pk_resultat_eleve_sous_service_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT pk_resultat_eleve_sous_service_periode PRIMARY KEY (id);


--
-- TOC entry 4452 (class 2606 OID 668456)
-- Dependencies: 410 410 410 410
-- Name: uk_appreciation_classe_enseignement_periode_classe_id_periode_i; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT uk_appreciation_classe_enseignement_periode_classe_id_periode_i UNIQUE (classe_id, periode_id, enseignement_id);


--
-- TOC entry 4456 (class 2606 OID 668458)
-- Dependencies: 411 411 411 411
-- Name: uk_appreciation_eleve_enseignement_periode_eleve_id_periode_id_; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT uk_appreciation_eleve_enseignement_periode_eleve_id_periode_id_ UNIQUE (eleve_id, periode_id, enseignement_id);


--
-- TOC entry 4460 (class 2606 OID 668460)
-- Dependencies: 412 412 412
-- Name: uk_appreciation_eleve_periode_eleve_id_periode_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT uk_appreciation_eleve_periode_eleve_id_periode_id UNIQUE (eleve_id, periode_id);


--
-- TOC entry 4472 (class 2606 OID 668462)
-- Dependencies: 415 415 415
-- Name: uk_brevet_fiche_eleve_id_annee_scolaire_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT uk_brevet_fiche_eleve_id_annee_scolaire_id UNIQUE (eleve_id, annee_scolaire_id);


--
-- TOC entry 4476 (class 2606 OID 668464)
-- Dependencies: 416 416 416
-- Name: uk_brevet_note_fiche_id_epreuve_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT uk_brevet_note_fiche_id_epreuve_id UNIQUE (fiche_id, epreuve_id);


--
-- TOC entry 4464 (class 2606 OID 668466)
-- Dependencies: 413 413 413 413
-- Name: uk_eleve_periode_type_avis; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT uk_eleve_periode_type_avis UNIQUE (eleve_id, periode_id, type_avis_id);


--
-- TOC entry 4490 (class 2606 OID 668468)
-- Dependencies: 421 421
-- Name: uk_info_calcul_moyennes_classe_classe_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT uk_info_calcul_moyennes_classe_classe_id UNIQUE (classe_id);


--
-- TOC entry 4494 (class 2606 OID 668470)
-- Dependencies: 422 422 422
-- Name: uk_note_evaluation_id_eleve_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY note
    ADD CONSTRAINT uk_note_evaluation_id_eleve_id UNIQUE (evaluation_id, eleve_id);


--
-- TOC entry 4502 (class 2606 OID 668472)
-- Dependencies: 425 425 425 425
-- Name: uk_resultat_classe_enseignement_periode_enseignement_id_periode; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_enseignement_periode
    ADD CONSTRAINT uk_resultat_classe_enseignement_periode_enseignement_id_periode UNIQUE (enseignement_id, periode_id, structure_enseignement_id);


--
-- TOC entry 4506 (class 2606 OID 668474)
-- Dependencies: 426 426 426
-- Name: uk_resultat_classe_periode_periode_id_structure_enseignement_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT uk_resultat_classe_periode_periode_id_structure_enseignement_id UNIQUE (periode_id, structure_enseignement_id);


--
-- TOC entry 4510 (class 2606 OID 668476)
-- Dependencies: 427 427 427 427
-- Name: uk_resultat_classe_service_periode_service_id_periode_id_struct; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT uk_resultat_classe_service_periode_service_id_periode_id_struct UNIQUE (service_id, periode_id, structure_enseignement_id);


--
-- TOC entry 4514 (class 2606 OID 668478)
-- Dependencies: 428 428 428
-- Name: uk_resultat_classe_sous_service_periode_resultat_classe_service; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT uk_resultat_classe_sous_service_periode_resultat_classe_service UNIQUE (resultat_classe_service_periode_id, sous_service_id);


--
-- TOC entry 4518 (class 2606 OID 668480)
-- Dependencies: 429 429 429 429
-- Name: uk_resultat_eleve_enseignement_periode_enseignement_id_eleve_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT uk_resultat_eleve_enseignement_periode_enseignement_id_eleve_id UNIQUE (enseignement_id, eleve_id, periode_id);


--
-- TOC entry 4522 (class 2606 OID 668482)
-- Dependencies: 430 430 430
-- Name: uk_resultat_eleve_periode_periode_id_autorite_eleve_id; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT uk_resultat_eleve_periode_periode_id_autorite_eleve_id UNIQUE (periode_id, autorite_eleve_id);


--
-- TOC entry 4526 (class 2606 OID 668484)
-- Dependencies: 431 431 431 431
-- Name: uk_resultat_eleve_service_periode_service_id_periode_id_autorit; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT uk_resultat_eleve_service_periode_service_id_periode_id_autorit UNIQUE (service_id, periode_id, autorite_eleve_id);


--
-- TOC entry 4530 (class 2606 OID 668486)
-- Dependencies: 432 432 432
-- Name: uk_resultat_eleve_sous_service_periode_resultat_eleve_service_p; Type: CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT uk_resultat_eleve_sous_service_periode_resultat_eleve_service_p UNIQUE (resultat_eleve_service_periode_id, sous_service_id);


SET search_path = enttemps, pg_catalog;

--
-- TOC entry 4532 (class 2606 OID 668488)
-- Dependencies: 433 433
-- Name: pk_absence_journee; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT pk_absence_journee PRIMARY KEY (id);


--
-- TOC entry 4540 (class 2606 OID 668490)
-- Dependencies: 435 435
-- Name: pk_agenda; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT pk_agenda PRIMARY KEY (id);


--
-- TOC entry 4544 (class 2606 OID 668492)
-- Dependencies: 437 437
-- Name: pk_appel; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT pk_appel PRIMARY KEY (id);


--
-- TOC entry 4550 (class 2606 OID 668494)
-- Dependencies: 439 439
-- Name: pk_appel_ligne; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT pk_appel_ligne PRIMARY KEY (id);


--
-- TOC entry 4554 (class 2606 OID 668496)
-- Dependencies: 441 441 441
-- Name: pk_appel_plage_horaire; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT pk_appel_plage_horaire PRIMARY KEY (appel_id, plage_horaire_id);


--
-- TOC entry 4557 (class 2606 OID 668498)
-- Dependencies: 442 442
-- Name: pk_date_exclue; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY date_exclue
    ADD CONSTRAINT pk_date_exclue PRIMARY KEY (id);


--
-- TOC entry 4564 (class 2606 OID 668500)
-- Dependencies: 445 445
-- Name: pk_evenement; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT pk_evenement PRIMARY KEY (id);


--
-- TOC entry 4566 (class 2606 OID 668502)
-- Dependencies: 447 447
-- Name: pk_groupe_motif; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT pk_groupe_motif PRIMARY KEY (id);


--
-- TOC entry 4572 (class 2606 OID 668504)
-- Dependencies: 449 449
-- Name: pk_incident; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT pk_incident PRIMARY KEY (id);


--
-- TOC entry 4575 (class 2606 OID 668506)
-- Dependencies: 451 451
-- Name: pk_lieu_incident; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT pk_lieu_incident PRIMARY KEY (id);


--
-- TOC entry 4579 (class 2606 OID 668508)
-- Dependencies: 453 453
-- Name: pk_motif; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT pk_motif PRIMARY KEY (id);


--
-- TOC entry 4584 (class 2606 OID 668510)
-- Dependencies: 455 455
-- Name: pk_partenaire_a_prevenir; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT pk_partenaire_a_prevenir PRIMARY KEY (id);


--
-- TOC entry 4589 (class 2606 OID 668512)
-- Dependencies: 456 456
-- Name: pk_partenaire_a_prevenir_incident; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT pk_partenaire_a_prevenir_incident PRIMARY KEY (id);


--
-- TOC entry 4594 (class 2606 OID 668514)
-- Dependencies: 459 459
-- Name: pk_plage_horaire; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY plage_horaire
    ADD CONSTRAINT pk_plage_horaire PRIMARY KEY (id);


--
-- TOC entry 4596 (class 2606 OID 668516)
-- Dependencies: 461 461
-- Name: pk_preference_etablissement_absences; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT pk_preference_etablissement_absences PRIMARY KEY (id);


--
-- TOC entry 4601 (class 2606 OID 668518)
-- Dependencies: 463 463
-- Name: pk_preference_utilisateur_agenda; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_utilisateur_agenda
    ADD CONSTRAINT pk_preference_utilisateur_agenda PRIMARY KEY (id);


--
-- TOC entry 4607 (class 2606 OID 668520)
-- Dependencies: 465 465
-- Name: pk_protagoniste_incident; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT pk_protagoniste_incident PRIMARY KEY (id);


--
-- TOC entry 4613 (class 2606 OID 668522)
-- Dependencies: 467 467
-- Name: pk_punition; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT pk_punition PRIMARY KEY (id);


--
-- TOC entry 4616 (class 2606 OID 668524)
-- Dependencies: 469 469
-- Name: pk_qualite_protagoniste; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT pk_qualite_protagoniste PRIMARY KEY (id);


--
-- TOC entry 4621 (class 2606 OID 668526)
-- Dependencies: 471 471
-- Name: pk_rel_agenda_evenement; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT pk_rel_agenda_evenement PRIMARY KEY (id);


--
-- TOC entry 4626 (class 2606 OID 668528)
-- Dependencies: 473 473
-- Name: pk_repeter_jour_annee; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY repeter_jour_annee
    ADD CONSTRAINT pk_repeter_jour_annee PRIMARY KEY (id);


--
-- TOC entry 4629 (class 2606 OID 668530)
-- Dependencies: 475 475
-- Name: pk_repeter_jour_mois; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY repeter_jour_mois
    ADD CONSTRAINT pk_repeter_jour_mois PRIMARY KEY (id);


--
-- TOC entry 4632 (class 2606 OID 668532)
-- Dependencies: 477 477
-- Name: pk_repeter_jour_semaine; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY repeter_jour_semaine
    ADD CONSTRAINT pk_repeter_jour_semaine PRIMARY KEY (id);


--
-- TOC entry 4635 (class 2606 OID 668534)
-- Dependencies: 479 479
-- Name: pk_repeter_mois; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY repeter_mois
    ADD CONSTRAINT pk_repeter_mois PRIMARY KEY (id);


--
-- TOC entry 4638 (class 2606 OID 668536)
-- Dependencies: 481 481
-- Name: pk_repeter_semaine_annee; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY repeter_semaine_annee
    ADD CONSTRAINT pk_repeter_semaine_annee PRIMARY KEY (id);


--
-- TOC entry 4642 (class 2606 OID 668538)
-- Dependencies: 483 483
-- Name: pk_sanction; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT pk_sanction PRIMARY KEY (id);


--
-- TOC entry 4644 (class 2606 OID 668540)
-- Dependencies: 485 485
-- Name: pk_type_agenda; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_agenda
    ADD CONSTRAINT pk_type_agenda PRIMARY KEY (id);


--
-- TOC entry 4648 (class 2606 OID 668542)
-- Dependencies: 487 487
-- Name: pk_type_evenement; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_evenement
    ADD CONSTRAINT pk_type_evenement PRIMARY KEY (id);


--
-- TOC entry 4653 (class 2606 OID 668544)
-- Dependencies: 489 489
-- Name: pk_type_incident; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT pk_type_incident PRIMARY KEY (id);


--
-- TOC entry 4658 (class 2606 OID 668546)
-- Dependencies: 491 491
-- Name: pk_type_punition; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT pk_type_punition PRIMARY KEY (id);


--
-- TOC entry 4663 (class 2606 OID 668548)
-- Dependencies: 493 493
-- Name: pk_type_sanction; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT pk_type_sanction PRIMARY KEY (id);


--
-- TOC entry 4534 (class 2606 OID 668550)
-- Dependencies: 433 433 433
-- Name: uk_absence_journee_etablissement_id_date; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT uk_absence_journee_etablissement_id_date UNIQUE (etablissement_id, date);


--
-- TOC entry 4546 (class 2606 OID 668552)
-- Dependencies: 437 437
-- Name: uk_appel_evenement_id; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT uk_appel_evenement_id UNIQUE (evenement_id);


--
-- TOC entry 4552 (class 2606 OID 668554)
-- Dependencies: 439 439 439
-- Name: uk_appel_ligne_appel_id_autorite_id; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT uk_appel_ligne_appel_id_autorite_id UNIQUE (appel_id, autorite_id);


--
-- TOC entry 4568 (class 2606 OID 668556)
-- Dependencies: 447 447 447
-- Name: uk_groupe_motif_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT uk_groupe_motif_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4577 (class 2606 OID 668558)
-- Dependencies: 451 451 451
-- Name: uk_lieu_incident_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT uk_lieu_incident_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4581 (class 2606 OID 668560)
-- Dependencies: 453 453 453
-- Name: uk_motif_groupe_motif_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT uk_motif_groupe_motif_id_libelle UNIQUE (groupe_motif_id, libelle);


--
-- TOC entry 4570 (class 2606 OID 668562)
-- Dependencies: 447 447 447
-- Name: uk_ordre_preference_etablissement_absences_id; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT uk_ordre_preference_etablissement_absences_id UNIQUE (ordre, preference_etablissement_absences_id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 4591 (class 2606 OID 668565)
-- Dependencies: 456 456 456
-- Name: uk_partenaire_a_prevenir_incident_partenaire_a_prevenir_id_inci; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT uk_partenaire_a_prevenir_incident_partenaire_a_prevenir_id_inci UNIQUE (partenaire_a_prevenir_id, incident_id);


--
-- TOC entry 4586 (class 2606 OID 668567)
-- Dependencies: 455 455 455
-- Name: uk_partenaire_a_prevenir_preference_etablissement_absences_id_l; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT uk_partenaire_a_prevenir_preference_etablissement_absences_id_l UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4598 (class 2606 OID 668569)
-- Dependencies: 461 461 461
-- Name: uk_preference_etablissement_absences_etablissement_id_annee_sco; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT uk_preference_etablissement_absences_etablissement_id_annee_sco UNIQUE (etablissement_id, annee_scolaire_id);


--
-- TOC entry 4603 (class 2606 OID 668571)
-- Dependencies: 463 463 463
-- Name: uk_preference_utilisateur_agenda_utilisateur_id_agenda_id; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_utilisateur_agenda
    ADD CONSTRAINT uk_preference_utilisateur_agenda_utilisateur_id_agenda_id UNIQUE (utilisateur_id, agenda_id);


--
-- TOC entry 4618 (class 2606 OID 668573)
-- Dependencies: 469 469 469
-- Name: uk_qualite_protagoniste_preference_etablissement_absences_id_li; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT uk_qualite_protagoniste_preference_etablissement_absences_id_li UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4623 (class 2606 OID 668575)
-- Dependencies: 471 471 471
-- Name: uk_rel_agenda_evenement_evenement_id_agenda_id; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT uk_rel_agenda_evenement_evenement_id_agenda_id UNIQUE (evenement_id, agenda_id);


--
-- TOC entry 4646 (class 2606 OID 668577)
-- Dependencies: 485 485
-- Name: uk_type_agenda_code; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_agenda
    ADD CONSTRAINT uk_type_agenda_code UNIQUE (code);


--
-- TOC entry 4650 (class 2606 OID 668579)
-- Dependencies: 487 487
-- Name: uk_type_evenement_type; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_evenement
    ADD CONSTRAINT uk_type_evenement_type UNIQUE (type);


--
-- TOC entry 4655 (class 2606 OID 668581)
-- Dependencies: 489 489 489
-- Name: uk_type_incident_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT uk_type_incident_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4660 (class 2606 OID 668583)
-- Dependencies: 491 491 491
-- Name: uk_type_punition_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT uk_type_punition_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4665 (class 2606 OID 668585)
-- Dependencies: 493 493 493
-- Name: uk_type_sanction_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT uk_type_sanction_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


SET search_path = enttemps_2011_2012, pg_catalog;

--
-- TOC entry 4667 (class 2606 OID 668587)
-- Dependencies: 495 495
-- Name: pk_absence_journee; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT pk_absence_journee PRIMARY KEY (id);


--
-- TOC entry 4671 (class 2606 OID 668589)
-- Dependencies: 496 496
-- Name: pk_agenda; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT pk_agenda PRIMARY KEY (id);


--
-- TOC entry 4673 (class 2606 OID 668591)
-- Dependencies: 497 497
-- Name: pk_appel; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT pk_appel PRIMARY KEY (id);


--
-- TOC entry 4677 (class 2606 OID 668593)
-- Dependencies: 498 498
-- Name: pk_appel_ligne; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT pk_appel_ligne PRIMARY KEY (id);


--
-- TOC entry 4681 (class 2606 OID 668595)
-- Dependencies: 499 499 499
-- Name: pk_appel_plage_horaire; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT pk_appel_plage_horaire PRIMARY KEY (appel_id, plage_horaire_id);


--
-- TOC entry 4683 (class 2606 OID 668597)
-- Dependencies: 500 500
-- Name: pk_calendrier; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT pk_calendrier PRIMARY KEY (id);


--
-- TOC entry 4687 (class 2606 OID 668599)
-- Dependencies: 501 501
-- Name: pk_evenement; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT pk_evenement PRIMARY KEY (id);


--
-- TOC entry 4689 (class 2606 OID 668601)
-- Dependencies: 502 502
-- Name: pk_groupe_motif; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT pk_groupe_motif PRIMARY KEY (id);


--
-- TOC entry 4695 (class 2606 OID 668603)
-- Dependencies: 503 503
-- Name: pk_incident; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT pk_incident PRIMARY KEY (id);


--
-- TOC entry 4697 (class 2606 OID 668605)
-- Dependencies: 504 504
-- Name: pk_lieu_incident; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT pk_lieu_incident PRIMARY KEY (id);


--
-- TOC entry 4701 (class 2606 OID 668607)
-- Dependencies: 505 505
-- Name: pk_motif; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT pk_motif PRIMARY KEY (id);


--
-- TOC entry 4705 (class 2606 OID 668609)
-- Dependencies: 506 506
-- Name: pk_partenaire_a_prevenir; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT pk_partenaire_a_prevenir PRIMARY KEY (id);


--
-- TOC entry 4709 (class 2606 OID 668611)
-- Dependencies: 507 507
-- Name: pk_partenaire_a_prevenir_incident; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT pk_partenaire_a_prevenir_incident PRIMARY KEY (id);


--
-- TOC entry 4713 (class 2606 OID 668613)
-- Dependencies: 508 508
-- Name: pk_plage_horaire; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY plage_horaire
    ADD CONSTRAINT pk_plage_horaire PRIMARY KEY (id);


--
-- TOC entry 4715 (class 2606 OID 668615)
-- Dependencies: 509 509
-- Name: pk_preference_etablissement_absences; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT pk_preference_etablissement_absences PRIMARY KEY (id);


--
-- TOC entry 4719 (class 2606 OID 668617)
-- Dependencies: 510 510
-- Name: pk_protagoniste_incident; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT pk_protagoniste_incident PRIMARY KEY (id);


--
-- TOC entry 4721 (class 2606 OID 668619)
-- Dependencies: 511 511
-- Name: pk_punition; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT pk_punition PRIMARY KEY (id);


--
-- TOC entry 4723 (class 2606 OID 668621)
-- Dependencies: 512 512
-- Name: pk_qualite_protagoniste; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT pk_qualite_protagoniste PRIMARY KEY (id);


--
-- TOC entry 4727 (class 2606 OID 668623)
-- Dependencies: 513 513
-- Name: pk_rel_agenda_evenement; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT pk_rel_agenda_evenement PRIMARY KEY (id);


--
-- TOC entry 4731 (class 2606 OID 668625)
-- Dependencies: 514 514
-- Name: pk_sanction; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT pk_sanction PRIMARY KEY (id);


--
-- TOC entry 4733 (class 2606 OID 668627)
-- Dependencies: 515 515
-- Name: pk_type_incident; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT pk_type_incident PRIMARY KEY (id);


--
-- TOC entry 4737 (class 2606 OID 668629)
-- Dependencies: 516 516
-- Name: pk_type_punition; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT pk_type_punition PRIMARY KEY (id);


--
-- TOC entry 4741 (class 2606 OID 668631)
-- Dependencies: 517 517
-- Name: pk_type_sanction; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT pk_type_sanction PRIMARY KEY (id);


--
-- TOC entry 4669 (class 2606 OID 668633)
-- Dependencies: 495 495 495
-- Name: uk_absence_journee_etablissement_id_date; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT uk_absence_journee_etablissement_id_date UNIQUE (etablissement_id, date);


--
-- TOC entry 4675 (class 2606 OID 668635)
-- Dependencies: 497 497
-- Name: uk_appel_evenement_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT uk_appel_evenement_id UNIQUE (evenement_id);


--
-- TOC entry 4679 (class 2606 OID 668637)
-- Dependencies: 498 498 498
-- Name: uk_appel_ligne_appel_id_autorite_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT uk_appel_ligne_appel_id_autorite_id UNIQUE (appel_id, autorite_id);


--
-- TOC entry 4685 (class 2606 OID 668639)
-- Dependencies: 500 500 500
-- Name: uk_calendrier_etablissement_id_annee_scolaire_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT uk_calendrier_etablissement_id_annee_scolaire_id UNIQUE (etablissement_id, annee_scolaire_id);


--
-- TOC entry 4691 (class 2606 OID 668641)
-- Dependencies: 502 502 502
-- Name: uk_groupe_motif_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT uk_groupe_motif_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4699 (class 2606 OID 668643)
-- Dependencies: 504 504 504
-- Name: uk_lieu_incident_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT uk_lieu_incident_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4703 (class 2606 OID 668645)
-- Dependencies: 505 505 505
-- Name: uk_motif_groupe_motif_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT uk_motif_groupe_motif_id_libelle UNIQUE (groupe_motif_id, libelle);


--
-- TOC entry 4693 (class 2606 OID 668647)
-- Dependencies: 502 502 502
-- Name: uk_ordre_preference_etablissement_absences_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT uk_ordre_preference_etablissement_absences_id UNIQUE (ordre, preference_etablissement_absences_id);


--
-- TOC entry 4711 (class 2606 OID 668649)
-- Dependencies: 507 507 507
-- Name: uk_partenaire_a_prevenir_incident_partenaire_a_prevenir_id_inci; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT uk_partenaire_a_prevenir_incident_partenaire_a_prevenir_id_inci UNIQUE (partenaire_a_prevenir_id, incident_id);


--
-- TOC entry 4707 (class 2606 OID 668651)
-- Dependencies: 506 506 506
-- Name: uk_partenaire_a_prevenir_preference_etablissement_absences_id_l; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT uk_partenaire_a_prevenir_preference_etablissement_absences_id_l UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4717 (class 2606 OID 668653)
-- Dependencies: 509 509
-- Name: uk_preference_etablissement_absences_etablissement_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT uk_preference_etablissement_absences_etablissement_id UNIQUE (etablissement_id);


--
-- TOC entry 4725 (class 2606 OID 668655)
-- Dependencies: 512 512 512
-- Name: uk_qualite_protagoniste_preference_etablissement_absences_id_li; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT uk_qualite_protagoniste_preference_etablissement_absences_id_li UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4729 (class 2606 OID 668657)
-- Dependencies: 513 513 513
-- Name: uk_rel_agenda_evenement_evenement_id_agenda_id; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT uk_rel_agenda_evenement_evenement_id_agenda_id UNIQUE (evenement_id, agenda_id);


--
-- TOC entry 4735 (class 2606 OID 668659)
-- Dependencies: 515 515 515
-- Name: uk_type_incident_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT uk_type_incident_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4739 (class 2606 OID 668661)
-- Dependencies: 516 516 516
-- Name: uk_type_punition_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT uk_type_punition_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


--
-- TOC entry 4743 (class 2606 OID 668663)
-- Dependencies: 517 517 517
-- Name: uk_type_sanction_preference_etablissement_absences_id_libelle; Type: CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT uk_type_sanction_preference_etablissement_absences_id_libelle UNIQUE (preference_etablissement_absences_id, libelle);


SET search_path = forum, pg_catalog;

--
-- TOC entry 4748 (class 2606 OID 668665)
-- Dependencies: 520 520 520
-- Name: pk_commentaire_lu; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY commentaire_lu
    ADD CONSTRAINT pk_commentaire_lu PRIMARY KEY (commentaire_id, autorite_id);


--
-- TOC entry 4746 (class 2606 OID 668667)
-- Dependencies: 518 518
-- Name: pk_forum_commentaire; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY commentaire
    ADD CONSTRAINT pk_forum_commentaire PRIMARY KEY (id);


--
-- TOC entry 4751 (class 2606 OID 668669)
-- Dependencies: 521 521
-- Name: pk_forum_discussion; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY discussion
    ADD CONSTRAINT pk_forum_discussion PRIMARY KEY (id);


--
-- TOC entry 4753 (class 2606 OID 668671)
-- Dependencies: 523 523
-- Name: pk_forum_etat_commentaire; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etat_commentaire
    ADD CONSTRAINT pk_forum_etat_commentaire PRIMARY KEY (code);


--
-- TOC entry 4755 (class 2606 OID 668673)
-- Dependencies: 524 524
-- Name: pk_forum_etat_discussion; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY etat_discussion
    ADD CONSTRAINT pk_forum_etat_discussion PRIMARY KEY (code);


--
-- TOC entry 4757 (class 2606 OID 668675)
-- Dependencies: 525 525
-- Name: pk_forum_type_moderation; Type: CONSTRAINT; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY type_moderation
    ADD CONSTRAINT pk_forum_type_moderation PRIMARY KEY (code);


SET search_path = impression, pg_catalog;

--
-- TOC entry 4939 (class 2606 OID 671727)
-- Dependencies: 611 611
-- Name: pk_bulletin_options; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY bulletin_options
    ADD CONSTRAINT pk_bulletin_options PRIMARY KEY (id);


--
-- TOC entry 4762 (class 2606 OID 668677)
-- Dependencies: 526 526
-- Name: pk_publipostage_suivi; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT pk_publipostage_suivi PRIMARY KEY (id);


--
-- TOC entry 4764 (class 2606 OID 668679)
-- Dependencies: 528 528
-- Name: pk_sms_fournisseur; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sms_fournisseur
    ADD CONSTRAINT pk_sms_fournisseur PRIMARY KEY (id);


--
-- TOC entry 4766 (class 2606 OID 668681)
-- Dependencies: 529 529
-- Name: pk_sms_fournisseur_etablissement; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sms_fournisseur_etablissement
    ADD CONSTRAINT pk_sms_fournisseur_etablissement PRIMARY KEY (id);


--
-- TOC entry 4771 (class 2606 OID 668683)
-- Dependencies: 532 532
-- Name: pk_template_champ_memo; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_champ_memo
    ADD CONSTRAINT pk_template_champ_memo PRIMARY KEY (id);


--
-- TOC entry 4789 (class 2606 OID 668685)
-- Dependencies: 538 538
-- Name: pk_template_eliot; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_eliot
    ADD CONSTRAINT pk_template_eliot PRIMARY KEY (id);


--
-- TOC entry 4794 (class 2606 OID 668687)
-- Dependencies: 540 540
-- Name: pk_template_jasper; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_jasper
    ADD CONSTRAINT pk_template_jasper PRIMARY KEY (id);


--
-- TOC entry 4796 (class 2606 OID 668689)
-- Dependencies: 542 542
-- Name: pk_template_type_donnees; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_type_donnees
    ADD CONSTRAINT pk_template_type_donnees PRIMARY KEY (id);


--
-- TOC entry 4802 (class 2606 OID 668691)
-- Dependencies: 544 544
-- Name: pk_template_type_fonctionnalite; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_type_fonctionnalite
    ADD CONSTRAINT pk_template_type_fonctionnalite PRIMARY KEY (id);


--
-- TOC entry 4777 (class 2606 OID 668693)
-- Dependencies: 534 534
-- Name: pk_template_utilisateur; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_document
    ADD CONSTRAINT pk_template_utilisateur PRIMARY KEY (id);


--
-- TOC entry 4782 (class 2606 OID 668695)
-- Dependencies: 536 536
-- Name: pk_template_utilisateur_sous_template_eliot; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_document_sous_template_eliot
    ADD CONSTRAINT pk_template_utilisateur_sous_template_eliot PRIMARY KEY (id);


--
-- TOC entry 4941 (class 2606 OID 671834)
-- Dependencies: 611 611 611
-- Name: uk_bulletin_options_classe_id_portee; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY bulletin_options
    ADD CONSTRAINT uk_bulletin_options_classe_id_portee UNIQUE (classe_id, portee);


--
-- TOC entry 4768 (class 2606 OID 668697)
-- Dependencies: 529 529 529
-- Name: uk_sms_fournisseur_etablissement_sms_fournisseur; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sms_fournisseur_etablissement
    ADD CONSTRAINT uk_sms_fournisseur_etablissement_sms_fournisseur UNIQUE (etablissement_id, sms_fournisseur_id);


--
-- TOC entry 4773 (class 2606 OID 668699)
-- Dependencies: 532 532 532
-- Name: uk_template_champ_memo_template_document_id_champ; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_champ_memo
    ADD CONSTRAINT uk_template_champ_memo_template_document_id_champ UNIQUE (template_document_id, champ);


--
-- TOC entry 4779 (class 2606 OID 668701)
-- Dependencies: 534 534 534
-- Name: uk_template_document_nom_etablissement_id; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_document
    ADD CONSTRAINT uk_template_document_nom_etablissement_id UNIQUE (nom, etablissement_id);


--
-- TOC entry 4784 (class 2606 OID 668703)
-- Dependencies: 536 536 536
-- Name: uk_template_document_sous_template_eliot_template_document_id_p; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_document_sous_template_eliot
    ADD CONSTRAINT uk_template_document_sous_template_eliot_template_document_id_p UNIQUE (template_document_id, param);


--
-- TOC entry 4791 (class 2606 OID 668705)
-- Dependencies: 538 538
-- Name: uk_template_eliot_code; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_eliot
    ADD CONSTRAINT uk_template_eliot_code UNIQUE (code);


--
-- TOC entry 4798 (class 2606 OID 668707)
-- Dependencies: 542 542
-- Name: uk_template_type_donnees_code; Type: CONSTRAINT; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY template_type_donnees
    ADD CONSTRAINT uk_template_type_donnees_code UNIQUE (code);


SET search_path = notification, pg_catalog;

--
-- TOC entry 4804 (class 2606 OID 668709)
-- Dependencies: 546 546
-- Name: pk_droit_fonction; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY droit_fonction
    ADD CONSTRAINT pk_droit_fonction PRIMARY KEY (id);


--
-- TOC entry 4806 (class 2606 OID 668711)
-- Dependencies: 548 548
-- Name: pk_email_notification; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY email_notification
    ADD CONSTRAINT pk_email_notification PRIMARY KEY (id);


--
-- TOC entry 4810 (class 2606 OID 668713)
-- Dependencies: 550 550
-- Name: pk_notification_type; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY notification_type
    ADD CONSTRAINT pk_notification_type PRIMARY KEY (id);


--
-- TOC entry 4814 (class 2606 OID 668715)
-- Dependencies: 554 554
-- Name: pk_parametrage_desactivation_utilisateur; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY preference_utilisateur
    ADD CONSTRAINT pk_parametrage_desactivation_utilisateur PRIMARY KEY (id);


--
-- TOC entry 4812 (class 2606 OID 668717)
-- Dependencies: 552 552
-- Name: pk_parametrage_etablissement; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY parametrage_etablissement
    ADD CONSTRAINT pk_parametrage_etablissement PRIMARY KEY (id);


--
-- TOC entry 4808 (class 2606 OID 668719)
-- Dependencies: 548 548
-- Name: uk_email_notification_autorite_id; Type: CONSTRAINT; Schema: notification; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY email_notification
    ADD CONSTRAINT uk_email_notification_autorite_id UNIQUE (autorite_id);


SET search_path = parametrage_classe, pg_catalog;

--
-- TOC entry 4952 (class 2606 OID 671851)
-- Dependencies: 620 620
-- Name: pk_creation_sous_services; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT pk_creation_sous_services PRIMARY KEY (id);


--
-- TOC entry 4956 (class 2606 OID 671955)
-- Dependencies: 623 623
-- Name: pk_creation_sous_services_etat; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY creation_sous_services_etat
    ADD CONSTRAINT pk_creation_sous_services_etat PRIMARY KEY (id);


--
-- TOC entry 4954 (class 2606 OID 671894)
-- Dependencies: 622 622
-- Name: pk_creation_sous_services_sous_matiere; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY creation_sous_services_sous_matiere
    ADD CONSTRAINT pk_creation_sous_services_sous_matiere PRIMARY KEY (id);


--
-- TOC entry 4943 (class 2606 OID 671757)
-- Dependencies: 614 614
-- Name: pk_report; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY report
    ADD CONSTRAINT pk_report PRIMARY KEY (id);


--
-- TOC entry 4947 (class 2606 OID 671778)
-- Dependencies: 616 616
-- Name: pk_report_traitement; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY report_traitement
    ADD CONSTRAINT pk_report_traitement PRIMARY KEY (id);


--
-- TOC entry 4945 (class 2606 OID 671801)
-- Dependencies: 614 614
-- Name: uk_report_etablissement_id; Type: CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY report
    ADD CONSTRAINT uk_report_etablissement_id UNIQUE (etablissement_id);


SET search_path = public, pg_catalog;

--
-- TOC entry 4978 (class 2606 OID 672149)
-- Dependencies: 636 636
-- Name: operation_maintenance_code_key; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY operation_maintenance
    ADD CONSTRAINT operation_maintenance_code_key UNIQUE (code);


--
-- TOC entry 4816 (class 2606 OID 668721)
-- Dependencies: 557 557 557 557
-- Name: pk_databasechangelog; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY databasechangelog
    ADD CONSTRAINT pk_databasechangelog PRIMARY KEY (id, author, filename);


--
-- TOC entry 4818 (class 2606 OID 668723)
-- Dependencies: 558 558
-- Name: pk_databasechangeloglock; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY databasechangeloglock
    ADD CONSTRAINT pk_databasechangeloglock PRIMARY KEY (id);


--
-- TOC entry 4820 (class 2606 OID 668725)
-- Dependencies: 560 560
-- Name: pk_eliot_version; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eliot_version
    ADD CONSTRAINT pk_eliot_version PRIMARY KEY (id);


--
-- TOC entry 4824 (class 2606 OID 668727)
-- Dependencies: 561 561
-- Name: pk_info_base; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY info_base
    ADD CONSTRAINT pk_info_base PRIMARY KEY (id);


--
-- TOC entry 4980 (class 2606 OID 672147)
-- Dependencies: 636 636
-- Name: pk_operation_maintenance; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY operation_maintenance
    ADD CONSTRAINT pk_operation_maintenance PRIMARY KEY (id);


--
-- TOC entry 4822 (class 2606 OID 668729)
-- Dependencies: 560 560
-- Name: uk_eliot_version_code; Type: CONSTRAINT; Schema: public; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY eliot_version
    ADD CONSTRAINT uk_eliot_version_code UNIQUE (code);


SET search_path = securite, pg_catalog;

--
-- TOC entry 4966 (class 2606 OID 672019)
-- Dependencies: 630 630
-- Name: pk_acces_fonctionnalite_fonction; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_fonction
    ADD CONSTRAINT pk_acces_fonctionnalite_fonction PRIMARY KEY (id);


--
-- TOC entry 4970 (class 2606 OID 672047)
-- Dependencies: 632 632
-- Name: pk_acces_fonctionnalite_fonction_defaut; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_fonction_defaut
    ADD CONSTRAINT pk_acces_fonctionnalite_fonction_defaut PRIMARY KEY (id);


--
-- TOC entry 4962 (class 2606 OID 671995)
-- Dependencies: 628 628
-- Name: pk_acces_fonctionnalite_personne; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_personne
    ADD CONSTRAINT pk_acces_fonctionnalite_personne PRIMARY KEY (id);


--
-- TOC entry 4828 (class 2606 OID 668731)
-- Dependencies: 562 562
-- Name: pk_autorisation; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY autorisation
    ADD CONSTRAINT pk_autorisation PRIMARY KEY (id);


--
-- TOC entry 4057 (class 2606 OID 668733)
-- Dependencies: 233 233
-- Name: pk_autorite; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY autorite
    ADD CONSTRAINT pk_autorite PRIMARY KEY (id);


--
-- TOC entry 4958 (class 2606 OID 671988)
-- Dependencies: 626 626
-- Name: pk_fonctionnalite; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fonctionnalite
    ADD CONSTRAINT pk_fonctionnalite PRIMARY KEY (id);


--
-- TOC entry 4834 (class 2606 OID 668735)
-- Dependencies: 565 565
-- Name: pk_item; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY item
    ADD CONSTRAINT pk_item PRIMARY KEY (id);


--
-- TOC entry 4968 (class 2606 OID 672021)
-- Dependencies: 630 630 630 630
-- Name: uk_acces_fonctionnalite_fonction; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_fonction
    ADD CONSTRAINT uk_acces_fonctionnalite_fonction UNIQUE (etablissement_id, fonctionnalite_id, fonction_id);


--
-- TOC entry 4972 (class 2606 OID 672049)
-- Dependencies: 632 632 632
-- Name: uk_acces_fonctionnalite_fonction_defaut; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_fonction_defaut
    ADD CONSTRAINT uk_acces_fonctionnalite_fonction_defaut UNIQUE (fonctionnalite_id, fonction_id);


--
-- TOC entry 4964 (class 2606 OID 671997)
-- Dependencies: 628 628 628 628
-- Name: uk_acces_fonctionnalite_personne; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY acces_fonctionnalite_personne
    ADD CONSTRAINT uk_acces_fonctionnalite_personne UNIQUE (etablissement_id, fonctionnalite_id, personne_id);


--
-- TOC entry 4830 (class 2606 OID 668739)
-- Dependencies: 562 562 562
-- Name: uk_autorisation_item_id_autorite_id; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY autorisation
    ADD CONSTRAINT uk_autorisation_item_id_autorite_id UNIQUE (item_id, autorite_id);


--
-- TOC entry 4059 (class 2606 OID 668741)
-- Dependencies: 233 233 233
-- Name: uk_autorite_enregistrement_cible_id_nom_entite_cible; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY autorite
    ADD CONSTRAINT uk_autorite_enregistrement_cible_id_nom_entite_cible UNIQUE (enregistrement_cible_id, nom_entite_cible);


--
-- TOC entry 4061 (class 2606 OID 668743)
-- Dependencies: 233 233 233
-- Name: uk_autorite_id_externe_type; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY autorite
    ADD CONSTRAINT uk_autorite_id_externe_type UNIQUE (id_externe, type);


--
-- TOC entry 4960 (class 2606 OID 672039)
-- Dependencies: 626 626
-- Name: uk_fonctionnalite_code; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY fonctionnalite
    ADD CONSTRAINT uk_fonctionnalite_code UNIQUE (code);


--
-- TOC entry 4836 (class 2606 OID 668745)
-- Dependencies: 565 565 565
-- Name: uk_item_enregistrement_cible_id_nom_entite_cible; Type: CONSTRAINT; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY item
    ADD CONSTRAINT uk_item_enregistrement_cible_id_nom_entite_cible UNIQUE (enregistrement_cible_id, nom_entite_cible);


SET search_path = synchro, pg_catalog;

--
-- TOC entry 4838 (class 2606 OID 668747)
-- Dependencies: 567 567
-- Name: pk_execution; Type: CONSTRAINT; Schema: synchro; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY execution
    ADD CONSTRAINT pk_execution PRIMARY KEY (id);


SET search_path = td, pg_catalog;

--
-- TOC entry 4844 (class 2606 OID 668749)
-- Dependencies: 569 569
-- Name: pk_copie; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT pk_copie PRIMARY KEY (id);


--
-- TOC entry 4856 (class 2606 OID 668751)
-- Dependencies: 571 571
-- Name: pk_modalite_activite; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT pk_modalite_activite PRIMARY KEY (id);


--
-- TOC entry 4982 (class 2606 OID 672160)
-- Dependencies: 638 638
-- Name: pk_patch_execution; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY patch_execution
    ADD CONSTRAINT pk_patch_execution PRIMARY KEY (id);


--
-- TOC entry 4867 (class 2606 OID 668753)
-- Dependencies: 573 573
-- Name: pk_question; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY question
    ADD CONSTRAINT pk_question PRIMARY KEY (id);


--
-- TOC entry 4871 (class 2606 OID 668755)
-- Dependencies: 574 574
-- Name: pk_question_attachement; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY question_attachement
    ADD CONSTRAINT pk_question_attachement PRIMARY KEY (id);


--
-- TOC entry 4875 (class 2606 OID 668757)
-- Dependencies: 576 576
-- Name: pk_question_export; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY question_export
    ADD CONSTRAINT pk_question_export PRIMARY KEY (id);


--
-- TOC entry 4877 (class 2606 OID 668759)
-- Dependencies: 579 579
-- Name: pk_question_type; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY question_type
    ADD CONSTRAINT pk_question_type PRIMARY KEY (id);


--
-- TOC entry 4883 (class 2606 OID 668761)
-- Dependencies: 581 581
-- Name: pk_reponse; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT pk_reponse PRIMARY KEY (id);


--
-- TOC entry 4889 (class 2606 OID 668763)
-- Dependencies: 582 582
-- Name: pk_reponse_attachement; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY reponse_attachement
    ADD CONSTRAINT pk_reponse_attachement PRIMARY KEY (id);


--
-- TOC entry 4898 (class 2606 OID 668765)
-- Dependencies: 585 585
-- Name: pk_sujet; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT pk_sujet PRIMARY KEY (id);


--
-- TOC entry 4902 (class 2606 OID 668767)
-- Dependencies: 587 587
-- Name: pk_sujet_sequence_questions; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sujet_sequence_questions
    ADD CONSTRAINT pk_sujet_sequence_questions PRIMARY KEY (id);


--
-- TOC entry 4904 (class 2606 OID 668769)
-- Dependencies: 589 589
-- Name: pk_sujet_type; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY sujet_type
    ADD CONSTRAINT pk_sujet_type PRIMARY KEY (id);


--
-- TOC entry 4846 (class 2606 OID 668771)
-- Dependencies: 569 569 569
-- Name: uk_copie_seance_eleve; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT uk_copie_seance_eleve UNIQUE (modalite_activite_id, eleve_id);


--
-- TOC entry 4885 (class 2606 OID 668773)
-- Dependencies: 581 581 581
-- Name: uk_reponse_copie_question; Type: CONSTRAINT; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT uk_reponse_copie_question UNIQUE (sujet_question_id, copie_id);


SET search_path = tice, pg_catalog;

--
-- TOC entry 4907 (class 2606 OID 668775)
-- Dependencies: 591 591
-- Name: pk_attachement; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY attachement
    ADD CONSTRAINT pk_attachement PRIMARY KEY (id);


--
-- TOC entry 4912 (class 2606 OID 668777)
-- Dependencies: 593 593
-- Name: pk_compte_utilisateur; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY compte_utilisateur
    ADD CONSTRAINT pk_compte_utilisateur PRIMARY KEY (id);


--
-- TOC entry 4918 (class 2606 OID 668779)
-- Dependencies: 595 595
-- Name: pk_copyrigths_type; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY copyrights_type
    ADD CONSTRAINT pk_copyrigths_type PRIMARY KEY (id);


--
-- TOC entry 4920 (class 2606 OID 668781)
-- Dependencies: 597 597
-- Name: pk_export_format; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY export_format
    ADD CONSTRAINT pk_export_format PRIMARY KEY (id);


--
-- TOC entry 4923 (class 2606 OID 668783)
-- Dependencies: 599 599
-- Name: pk_publication; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY publication
    ADD CONSTRAINT pk_publication PRIMARY KEY (id);


--
-- TOC entry 4914 (class 2606 OID 668785)
-- Dependencies: 593 593
-- Name: uk_compte_utilisateur_login; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY compte_utilisateur
    ADD CONSTRAINT uk_compte_utilisateur_login UNIQUE (login);


--
-- TOC entry 4916 (class 2606 OID 668787)
-- Dependencies: 593 593
-- Name: uk_compte_utilisateur_login_alias; Type: CONSTRAINT; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY compte_utilisateur
    ADD CONSTRAINT uk_compte_utilisateur_login_alias UNIQUE (login_alias);


SET search_path = udt, pg_catalog;

--
-- TOC entry 4925 (class 2606 OID 668789)
-- Dependencies: 601 601
-- Name: pk_enseignement; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT pk_enseignement PRIMARY KEY (id);


--
-- TOC entry 4929 (class 2606 OID 668791)
-- Dependencies: 603 603
-- Name: pk_evenement; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT pk_evenement PRIMARY KEY (id);


--
-- TOC entry 4931 (class 2606 OID 668793)
-- Dependencies: 605 605
-- Name: pk_import; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY import
    ADD CONSTRAINT pk_import PRIMARY KEY (id);


--
-- TOC entry 4933 (class 2606 OID 668795)
-- Dependencies: 607 607
-- Name: pk_professeur_principal; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY professeur_principal
    ADD CONSTRAINT pk_professeur_principal PRIMARY KEY (id);


--
-- TOC entry 4935 (class 2606 OID 668797)
-- Dependencies: 609 609
-- Name: pk_semaine_importee; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY semaine_importee
    ADD CONSTRAINT pk_semaine_importee PRIMARY KEY (id);


--
-- TOC entry 4937 (class 2606 OID 668799)
-- Dependencies: 609 609 609 609
-- Name: semaine_importee_udt_import_id_semaine_annee_key; Type: CONSTRAINT; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

ALTER TABLE ONLY semaine_importee
    ADD CONSTRAINT semaine_importee_udt_import_id_semaine_annee_key UNIQUE (udt_import_id, semaine, annee);


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 4003 (class 1259 OID 668800)
-- Dependencies: 193 193
-- Name: ux_demande_import_statut_en_cours; Type: INDEX; Schema: annuaire_interface; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_demande_import_statut_en_cours ON demande_import USING btree (statut) WHERE ((statut)::text = 'EN_COURS'::text);


SET search_path = ent, pg_catalog;

--
-- TOC entry 4075 (class 1259 OID 668803)
-- Dependencies: 241
-- Name: idx_enseignement_service_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_enseignement_service_id ON enseignement USING btree (service_id);


--
-- TOC entry 4080 (class 1259 OID 668804)
-- Dependencies: 243
-- Name: idx_etablissement_etab_ratt_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_etablissement_etab_ratt_id ON etablissement USING btree (etablissement_rattachement_id);


--
-- TOC entry 4050 (class 1259 OID 668806)
-- Dependencies: 232 232 232 232
-- Name: idx_personne_nom_prenom_normalise_date_naissance_etablissement_; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_personne_nom_prenom_normalise_date_naissance_etablissement_ ON personne USING btree (nom_normalise, prenom_normalise, date_naissance, etablissement_rattachement_id);


--
-- TOC entry 4131 (class 1259 OID 668808)
-- Dependencies: 270
-- Name: idx_personne_propriete_scolarite_personne_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_personne_propriete_scolarite_personne_id ON personne_propriete_scolarite USING btree (personne_id);


--
-- TOC entry 4132 (class 1259 OID 668809)
-- Dependencies: 270 270 270 270
-- Name: idx_personne_propriete_scolarite_personne_id_propriete_scolarit; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_personne_propriete_scolarite_personne_id_propriete_scolarit ON personne_propriete_scolarite USING btree (personne_id, propriete_scolarite_id, est_active) WHERE (est_active = true);


--
-- TOC entry 4133 (class 1259 OID 668810)
-- Dependencies: 270
-- Name: idx_personne_propriete_scolarite_propriete_scolarite_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_personne_propriete_scolarite_propriete_scolarite_id ON personne_propriete_scolarite USING btree (propriete_scolarite_id);


--
-- TOC entry 4140 (class 1259 OID 668811)
-- Dependencies: 274
-- Name: idx_preference_etablissement_etablissement_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_preference_etablissement_etablissement_id ON preference_etablissement USING btree (etablissement_id);


--
-- TOC entry 4145 (class 1259 OID 672133)
-- Dependencies: 276 276 276 276
-- Name: idx_ps_etablissement_id_fonction_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_ps_etablissement_id_fonction_id ON propriete_scolarite USING btree (etablissement_id, fonction_id, annee_scolaire_id) WHERE (matiere_id IS NULL);


--
-- TOC entry 4146 (class 1259 OID 672132)
-- Dependencies: 276 276 276 276 276
-- Name: idx_ps_etablissement_id_fonction_id_matiere_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_ps_etablissement_id_fonction_id_matiere_id ON propriete_scolarite USING btree (etablissement_id, fonction_id, matiere_id, annee_scolaire_id) WHERE (matiere_id IS NOT NULL);


--
-- TOC entry 4147 (class 1259 OID 672134)
-- Dependencies: 276 276 276
-- Name: idx_ps_porteur_ent_id_fonction_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_ps_porteur_ent_id_fonction_id ON propriete_scolarite USING btree (porteur_ent_id, fonction_id, annee_scolaire_id);


--
-- TOC entry 4148 (class 1259 OID 672131)
-- Dependencies: 276 276 276 276
-- Name: idx_ps_structure_enseignement_id_fonction_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_ps_structure_enseignement_id_fonction_id ON propriete_scolarite USING btree (structure_enseignement_id, fonction_id, annee_scolaire_id) WHERE (responsable_structure_enseignement IS NULL);


--
-- TOC entry 4149 (class 1259 OID 672130)
-- Dependencies: 276 276 276 276 276
-- Name: idx_ps_structure_enseignement_id_fonction_id_responsable; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_ps_structure_enseignement_id_fonction_id_responsable ON propriete_scolarite USING btree (structure_enseignement_id, fonction_id, responsable_structure_enseignement, annee_scolaire_id) WHERE (responsable_structure_enseignement IS NOT NULL);


--
-- TOC entry 4156 (class 1259 OID 668814)
-- Dependencies: 280
-- Name: idx_rel_classe_filiere_id_filiere; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_classe_filiere_id_filiere ON rel_classe_filiere USING btree (filiere_id);


--
-- TOC entry 4159 (class 1259 OID 668815)
-- Dependencies: 281
-- Name: idx_rel_classe_groupe_id_groupe; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_classe_groupe_id_groupe ON rel_classe_groupe USING btree (groupe_id);


--
-- TOC entry 4162 (class 1259 OID 668816)
-- Dependencies: 282
-- Name: idx_rel_periode_service_service_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_periode_service_service_id ON rel_periode_service USING btree (service_id);


--
-- TOC entry 4167 (class 1259 OID 668817)
-- Dependencies: 284
-- Name: idx_responsable_eleve_eleve_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_responsable_eleve_eleve_id ON responsable_eleve USING btree (eleve_id);


--
-- TOC entry 4172 (class 1259 OID 668818)
-- Dependencies: 286
-- Name: idx_service_id_matiere; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_service_id_matiere ON service USING btree (matiere_id);


--
-- TOC entry 4173 (class 1259 OID 668819)
-- Dependencies: 286
-- Name: idx_service_structure_enseignement; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_service_structure_enseignement ON service USING btree (structure_enseignement_id);


--
-- TOC entry 4183 (class 1259 OID 668820)
-- Dependencies: 291
-- Name: idx_sous_service_modalite_matiere_id; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sous_service_modalite_matiere_id ON sous_service USING btree (modalite_matiere_id);


--
-- TOC entry 4066 (class 1259 OID 668821)
-- Dependencies: 235 235
-- Name: ux_annee_en_cours; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_annee_en_cours ON annee_scolaire USING btree (annee_en_cours) WHERE (annee_en_cours = true);


--
-- TOC entry 4176 (class 1259 OID 668822)
-- Dependencies: 286 286
-- Name: ux_service_choisi_pour_sport_true; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_service_choisi_pour_sport_true ON service USING btree (structure_enseignement_id) WHERE (choisi_pour_sport = true);


--
-- TOC entry 4202 (class 1259 OID 671719)
-- Dependencies: 657 299 299
-- Name: ux_type_activite_code_etablissement; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_type_activite_code_etablissement ON type_activite USING btree (upper(public.unaccent((code)::text)), etablissement_id);


--
-- TOC entry 4203 (class 1259 OID 671721)
-- Dependencies: 299 657 299 299
-- Name: ux_type_activite_code_sans_etablissement; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_type_activite_code_sans_etablissement ON type_activite USING btree (upper(public.unaccent((code)::text))) WHERE (etablissement_id IS NULL);


--
-- TOC entry 4204 (class 1259 OID 671720)
-- Dependencies: 657 299 299
-- Name: ux_type_activite_libelle_etablissement; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_type_activite_libelle_etablissement ON type_activite USING btree (upper(public.unaccent((libelle)::text)), etablissement_id);


--
-- TOC entry 4205 (class 1259 OID 671722)
-- Dependencies: 299 657 299 299
-- Name: ux_type_activite_libelle_sans_etablissement; Type: INDEX; Schema: ent; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_type_activite_libelle_sans_etablissement ON type_activite USING btree (upper(public.unaccent((libelle)::text))) WHERE (etablissement_id IS NULL);


SET search_path = entcdt, pg_catalog;

--
-- TOC entry 4260 (class 1259 OID 668827)
-- Dependencies: 317
-- Name: idx_activite_auteur_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_activite_auteur_id ON activite USING btree (auteur_id);


--
-- TOC entry 4261 (class 1259 OID 668828)
-- Dependencies: 317
-- Name: idx_activite_cahier_de_textes_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_activite_cahier_de_textes_id ON activite USING btree (cahier_de_textes_id);


--
-- TOC entry 4262 (class 1259 OID 668829)
-- Dependencies: 317
-- Name: idx_activite_chapitre_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_activite_chapitre_id ON activite USING btree (chapitre_id);


--
-- TOC entry 4265 (class 1259 OID 668830)
-- Dependencies: 319
-- Name: idx_cahier_de_textes_parent_incorporation_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_cahier_de_textes_parent_incorporation_id ON cahier_de_textes USING btree (parent_incorporation_id);


--
-- TOC entry 4266 (class 1259 OID 668831)
-- Dependencies: 319
-- Name: idx_cahier_de_textes_service_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_cahier_de_textes_service_id ON cahier_de_textes USING btree (service_id);


--
-- TOC entry 4269 (class 1259 OID 668832)
-- Dependencies: 321
-- Name: idx_chapitre_cahier_de_textes_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_chapitre_cahier_de_textes_id ON chapitre USING btree (cahier_de_textes_id);


--
-- TOC entry 4270 (class 1259 OID 668833)
-- Dependencies: 321
-- Name: idx_chapitre_chapitre_parent_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_chapitre_chapitre_parent_id ON chapitre USING btree (chapitre_parent_id);


--
-- TOC entry 4277 (class 1259 OID 668834)
-- Dependencies: 325
-- Name: idx_date_activite_activite_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_date_activite_activite_id ON date_activite USING btree (activite_id);


--
-- TOC entry 4282 (class 1259 OID 668835)
-- Dependencies: 327
-- Name: idx_dossier_acteur_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dossier_acteur_id ON dossier USING btree (acteur_id);


--
-- TOC entry 4283 (class 1259 OID 668836)
-- Dependencies: 327 327
-- Name: idx_dossier_acteur_id_est_defaut; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_dossier_acteur_id_est_defaut ON dossier USING btree (acteur_id) WHERE (est_defaut = true);


--
-- TOC entry 4290 (class 1259 OID 668837)
-- Dependencies: 333
-- Name: idx_rel_activite_acteur_acteur_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_activite_acteur_acteur_id ON rel_activite_acteur USING btree (acteur_id);


--
-- TOC entry 4295 (class 1259 OID 668838)
-- Dependencies: 335
-- Name: idx_rel_cahier_acteur_acteur_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_cahier_acteur_acteur_id ON rel_cahier_acteur USING btree (acteur_id);


--
-- TOC entry 4300 (class 1259 OID 668839)
-- Dependencies: 337
-- Name: idx_rel_cahier_groupe_groupe_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_cahier_groupe_groupe_id ON rel_cahier_groupe USING btree (groupe_id);


--
-- TOC entry 4305 (class 1259 OID 668840)
-- Dependencies: 339
-- Name: idx_rel_dossier_autorisation_cahier_autorisation_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_dossier_autorisation_cahier_autorisation_id ON rel_dossier_autorisation_cahier USING btree (autorisation_id);


--
-- TOC entry 4310 (class 1259 OID 668841)
-- Dependencies: 341
-- Name: idx_ressource_activite_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_ressource_activite_id ON ressource USING btree (activite_id);


--
-- TOC entry 4317 (class 1259 OID 668842)
-- Dependencies: 346
-- Name: idx_visa_auteur_personne_id; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_visa_auteur_personne_id ON visa USING btree (auteur_personne_id);


--
-- TOC entry 4318 (class 1259 OID 668843)
-- Dependencies: 346 346
-- Name: idx_visa_cahier_vise_id_date_visee; Type: INDEX; Schema: entcdt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_visa_cahier_vise_id_date_visee ON visa USING btree (cahier_vise_id, date_visee);


SET search_path = entdemon, pg_catalog;

--
-- TOC entry 4321 (class 1259 OID 668844)
-- Dependencies: 348 348
-- Name: idx_demande_traitement_date_demande; Type: INDEX; Schema: entdemon; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_demande_traitement_date_demande ON demande_traitement USING btree (date_demande) WHERE ((statut)::text = 'EN_ATTENTE'::text);


SET search_path = entnotes, pg_catalog;

--
-- TOC entry 4367 (class 1259 OID 668845)
-- Dependencies: 374 374 374
-- Name: idx_dirty_moyenne_classe_periode; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_classe_periode ON dirty_moyenne USING btree (classe_id, periode_id) WHERE ((type_moyenne)::text = 'CLASSE_PERIODE'::text);


--
-- TOC entry 4368 (class 1259 OID 668846)
-- Dependencies: 374 374 374 374
-- Name: idx_dirty_moyenne_classe_periode_service; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_classe_periode_service ON dirty_moyenne USING btree (classe_id, periode_id, service_id) WHERE ((type_moyenne)::text = 'CLASSE_SERVICE_PERIODE'::text);


--
-- TOC entry 4369 (class 1259 OID 668847)
-- Dependencies: 374 374 374 374
-- Name: idx_dirty_moyenne_classe_periode_sous_service; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_classe_periode_sous_service ON dirty_moyenne USING btree (classe_id, periode_id, sous_service_id) WHERE ((type_moyenne)::text = 'CLASSE_SOUS_SERVICE_PERIODE'::text);


--
-- TOC entry 4370 (class 1259 OID 668848)
-- Dependencies: 374 374 374
-- Name: idx_dirty_moyenne_eleve_periode; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_eleve_periode ON dirty_moyenne USING btree (eleve_id, periode_id) WHERE ((type_moyenne)::text = 'ELEVE_PERIODE'::text);


--
-- TOC entry 4371 (class 1259 OID 668849)
-- Dependencies: 374 374 374 374
-- Name: idx_dirty_moyenne_eleve_periode_enseignement; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_eleve_periode_enseignement ON dirty_moyenne USING btree (eleve_id, periode_id, enseignement_id) WHERE ((type_moyenne)::text = 'ELEVE_ENSEIGNEMENT_PERIODE'::text);


--
-- TOC entry 4372 (class 1259 OID 668850)
-- Dependencies: 374 374 374 374
-- Name: idx_dirty_moyenne_eleve_periode_service; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_eleve_periode_service ON dirty_moyenne USING btree (eleve_id, periode_id, service_id) WHERE ((type_moyenne)::text = 'ELEVE_SERVICE_PERIODE'::text);


--
-- TOC entry 4373 (class 1259 OID 668851)
-- Dependencies: 374 374 374 374
-- Name: idx_dirty_moyenne_eleve_periode_sous_service; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_eleve_periode_sous_service ON dirty_moyenne USING btree (eleve_id, periode_id, sous_service_id) WHERE ((type_moyenne)::text = 'ELEVE_SOUS_SERVICE_PERIODE'::text);


--
-- TOC entry 4374 (class 1259 OID 668852)
-- Dependencies: 374 374 374
-- Name: idx_dirty_moyenne_periode_enseignement; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_dirty_moyenne_periode_enseignement ON dirty_moyenne USING btree (periode_id, enseignement_id) WHERE ((type_moyenne)::text = 'ENSEIGNEMENT_PERIODE'::text);


--
-- TOC entry 4381 (class 1259 OID 668853)
-- Dependencies: 378
-- Name: idx_evaluation_enseignement; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evaluation_enseignement ON evaluation USING btree (enseignement_id);


--
-- TOC entry 4396 (class 1259 OID 668854)
-- Dependencies: 387 387 387
-- Name: idx_note_textuelle_etablissement_code; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_note_textuelle_etablissement_code ON note_textuelle USING btree (etablissement_id, upper((code)::text), annee_scolaire_id);


--
-- TOC entry 4397 (class 1259 OID 668855)
-- Dependencies: 387 387 387
-- Name: idx_note_textuelle_etablissement_libelle; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_note_textuelle_etablissement_libelle ON note_textuelle USING btree (etablissement_id, upper((libelle)::text), annee_scolaire_id);


--
-- TOC entry 4948 (class 1259 OID 671816)
-- Dependencies: 617
-- Name: idx_preference_utilisateur_notes_personne_id; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX idx_preference_utilisateur_notes_personne_id ON preference_utilisateur_notes USING btree (personne_id);


--
-- TOC entry 4400 (class 1259 OID 668856)
-- Dependencies: 389
-- Name: idx_rel_evaluation_periode_periode_id; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_evaluation_periode_periode_id ON rel_evaluation_periode USING btree (periode_id);


--
-- TOC entry 4409 (class 1259 OID 668857)
-- Dependencies: 392
-- Name: idx_resultat_classe_service_periode_classe; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_resultat_classe_service_periode_classe ON resultat_classe_service_periode USING btree (structure_enseignement_id);


--
-- TOC entry 4414 (class 1259 OID 668858)
-- Dependencies: 394
-- Name: idx_resultat_classe_sous_service_periode_ssid; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_resultat_classe_sous_service_periode_ssid ON resultat_classe_sous_service_periode USING btree (sous_service_id);


--
-- TOC entry 4431 (class 1259 OID 668859)
-- Dependencies: 402
-- Name: idx_resultat_eleve_sous_service_periode_ssid; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_resultat_eleve_sous_service_periode_ssid ON resultat_eleve_sous_service_periode USING btree (sous_service_id);


--
-- TOC entry 4338 (class 1259 OID 668860)
-- Dependencies: 356 356
-- Name: uix_avis_type_id_libelle; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX uix_avis_type_id_libelle ON avis USING btree (type_id, lower((libelle)::text));


--
-- TOC entry 4448 (class 1259 OID 668861)
-- Dependencies: 408 408
-- Name: uix_type_avis_etablissement_id_libelle; Type: INDEX; Schema: entnotes; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX uix_type_avis_etablissement_id_libelle ON type_avis USING btree (etablissement_id, lower((libelle)::text));


SET search_path = enttemps, pg_catalog;

--
-- TOC entry 4535 (class 1259 OID 668862)
-- Dependencies: 435
-- Name: idx_agenda_enseignant_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_agenda_enseignant_id ON agenda USING btree (enseignant_id);


--
-- TOC entry 4536 (class 1259 OID 668863)
-- Dependencies: 435
-- Name: idx_agenda_etablissement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_agenda_etablissement_id ON agenda USING btree (etablissement_id);


--
-- TOC entry 4537 (class 1259 OID 668864)
-- Dependencies: 435
-- Name: idx_agenda_item_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_agenda_item_id ON agenda USING btree (item_id);


--
-- TOC entry 4538 (class 1259 OID 668865)
-- Dependencies: 435
-- Name: idx_agenda_structure_enseignement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_agenda_structure_enseignement_id ON agenda USING btree (structure_enseignement_id);


--
-- TOC entry 4541 (class 1259 OID 668866)
-- Dependencies: 437
-- Name: idx_appel_date_heure_debut; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_appel_date_heure_debut ON appel USING btree (date_heure_debut);


--
-- TOC entry 4542 (class 1259 OID 668867)
-- Dependencies: 437
-- Name: idx_appel_date_heure_fin; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_appel_date_heure_fin ON appel USING btree (date_heure_fin);


--
-- TOC entry 4547 (class 1259 OID 668868)
-- Dependencies: 439
-- Name: idx_appel_ligne_absence_journee_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_appel_ligne_absence_journee_id ON appel_ligne USING btree (absence_journee_id);


--
-- TOC entry 4548 (class 1259 OID 668869)
-- Dependencies: 439
-- Name: idx_appel_ligne_autorite_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_appel_ligne_autorite_id ON appel_ligne USING btree (autorite_id);


--
-- TOC entry 4555 (class 1259 OID 668870)
-- Dependencies: 442
-- Name: idx_date_exclue_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_date_exclue_evenement_id ON date_exclue USING btree (evenement_id);


--
-- TOC entry 4558 (class 1259 OID 668871)
-- Dependencies: 445
-- Name: idx_evenement_agenda_maitre_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_agenda_maitre_id ON evenement USING btree (agenda_maitre_id);


--
-- TOC entry 4559 (class 1259 OID 668872)
-- Dependencies: 445 445
-- Name: idx_evenement_auteur; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_auteur ON evenement USING btree (auteur_id) WHERE (auteur_id > 0);


--
-- TOC entry 4560 (class 1259 OID 668873)
-- Dependencies: 445
-- Name: idx_evenement_date_heure_debut; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_date_heure_debut ON evenement USING btree (date_heure_debut);


--
-- TOC entry 4561 (class 1259 OID 668874)
-- Dependencies: 445
-- Name: idx_evenement_date_heure_fin; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_date_heure_fin ON evenement USING btree (date_heure_fin);


--
-- TOC entry 4562 (class 1259 OID 668875)
-- Dependencies: 445
-- Name: idx_evenement_enseignement; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_enseignement ON evenement USING btree (enseignement_id);


--
-- TOC entry 4587 (class 1259 OID 668876)
-- Dependencies: 456
-- Name: idx_partenaire_a_prevenir_incident_incident_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_partenaire_a_prevenir_incident_incident_id ON partenaire_a_prevenir_incident USING btree (incident_id);


--
-- TOC entry 4592 (class 1259 OID 668877)
-- Dependencies: 459
-- Name: idx_plage_horaire_preference_etablissement_absences_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_plage_horaire_preference_etablissement_absences_id ON plage_horaire USING btree (preference_etablissement_absences_id);


--
-- TOC entry 4599 (class 1259 OID 668878)
-- Dependencies: 463
-- Name: idx_preference_utilisateur_agenda_agenda_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_preference_utilisateur_agenda_agenda_id ON preference_utilisateur_agenda USING btree (agenda_id);


--
-- TOC entry 4604 (class 1259 OID 668879)
-- Dependencies: 465
-- Name: idx_protagoniste_incident_autorite_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_protagoniste_incident_autorite_id ON protagoniste_incident USING btree (autorite_id);


--
-- TOC entry 4605 (class 1259 OID 668880)
-- Dependencies: 465
-- Name: idx_protagoniste_incident_incident_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_protagoniste_incident_incident_id ON protagoniste_incident USING btree (incident_id);


--
-- TOC entry 4608 (class 1259 OID 668881)
-- Dependencies: 467
-- Name: idx_punition_date; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_punition_date ON punition USING btree (date);


--
-- TOC entry 4609 (class 1259 OID 668882)
-- Dependencies: 467
-- Name: idx_punition_eleve_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_punition_eleve_id ON punition USING btree (eleve_id);


--
-- TOC entry 4610 (class 1259 OID 668883)
-- Dependencies: 467
-- Name: idx_punition_incident_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_punition_incident_id ON punition USING btree (incident_id);


--
-- TOC entry 4611 (class 1259 OID 668884)
-- Dependencies: 467
-- Name: idx_punition_type_punition_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_punition_type_punition_id ON punition USING btree (type_punition_id);


--
-- TOC entry 4619 (class 1259 OID 668885)
-- Dependencies: 471
-- Name: idx_rel_agenda_evenement_agenda_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_rel_agenda_evenement_agenda_id ON rel_agenda_evenement USING btree (agenda_id);


--
-- TOC entry 4624 (class 1259 OID 668886)
-- Dependencies: 473
-- Name: idx_repeter_jour_annee_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_repeter_jour_annee_evenement_id ON repeter_jour_annee USING btree (evenement_id);


--
-- TOC entry 4627 (class 1259 OID 668887)
-- Dependencies: 475
-- Name: idx_repeter_jour_mois_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_repeter_jour_mois_evenement_id ON repeter_jour_mois USING btree (evenement_id);


--
-- TOC entry 4630 (class 1259 OID 668888)
-- Dependencies: 477
-- Name: idx_repeter_jour_semaine_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_repeter_jour_semaine_evenement_id ON repeter_jour_semaine USING btree (evenement_id);


--
-- TOC entry 4633 (class 1259 OID 668889)
-- Dependencies: 479
-- Name: idx_repeter_mois_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_repeter_mois_evenement_id ON repeter_mois USING btree (evenement_id);


--
-- TOC entry 4636 (class 1259 OID 668890)
-- Dependencies: 481
-- Name: idx_repeter_semaine_annee_evenement_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_repeter_semaine_annee_evenement_id ON repeter_semaine_annee USING btree (evenement_id);


--
-- TOC entry 4639 (class 1259 OID 668891)
-- Dependencies: 483
-- Name: idx_sanction_eleve_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sanction_eleve_id ON sanction USING btree (eleve_id);


--
-- TOC entry 4640 (class 1259 OID 668892)
-- Dependencies: 483
-- Name: idx_sanction_type_sanction_id; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sanction_type_sanction_id ON sanction USING btree (type_sanction_id);


--
-- TOC entry 4573 (class 1259 OID 668893)
-- Dependencies: 451 451
-- Name: inx_lieu_incident_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_lieu_incident_case_sensitive ON lieu_incident USING btree (preference_etablissement_absences_id, lower((libelle)::text));


--
-- TOC entry 4582 (class 1259 OID 668894)
-- Dependencies: 455 455
-- Name: inx_partenaire_a_prevenir_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_partenaire_a_prevenir_case_sensitive ON partenaire_a_prevenir USING btree (preference_etablissement_absences_id, lower((libelle)::text));


--
-- TOC entry 4614 (class 1259 OID 668895)
-- Dependencies: 469 469
-- Name: inx_qualite_protagoniste_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_qualite_protagoniste_case_sensitive ON qualite_protagoniste USING btree (preference_etablissement_absences_id, lower((libelle)::text));


--
-- TOC entry 4651 (class 1259 OID 668896)
-- Dependencies: 489 489
-- Name: inx_type_incident_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_type_incident_case_sensitive ON type_incident USING btree (preference_etablissement_absences_id, lower((libelle)::text));


--
-- TOC entry 4656 (class 1259 OID 668897)
-- Dependencies: 491 491
-- Name: inx_type_punition_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_type_punition_case_sensitive ON type_punition USING btree (preference_etablissement_absences_id, lower((libelle)::text));


--
-- TOC entry 4661 (class 1259 OID 668898)
-- Dependencies: 493 493
-- Name: inx_type_sanction_case_sensitive; Type: INDEX; Schema: enttemps; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX inx_type_sanction_case_sensitive ON type_sanction USING btree (preference_etablissement_absences_id, lower((libelle)::text));


SET search_path = forum, pg_catalog;

--
-- TOC entry 4744 (class 1259 OID 668899)
-- Dependencies: 518
-- Name: idx_commentaire_id_discussion; Type: INDEX; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_commentaire_id_discussion ON commentaire USING btree (discussion_id);


--
-- TOC entry 4749 (class 1259 OID 668900)
-- Dependencies: 521
-- Name: idx_discussion_id_item_cible; Type: INDEX; Schema: forum; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_discussion_id_item_cible ON discussion USING btree (item_cible_id);


SET search_path = impression, pg_catalog;

--
-- TOC entry 4758 (class 1259 OID 668901)
-- Dependencies: 526
-- Name: idx_publipostage_suivi_classe_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_publipostage_suivi_classe_id ON publipostage_suivi USING btree (classe_id);


--
-- TOC entry 4759 (class 1259 OID 668902)
-- Dependencies: 526
-- Name: idx_publipostage_suivi_personne_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_publipostage_suivi_personne_id ON publipostage_suivi USING btree (personne_id);


--
-- TOC entry 4760 (class 1259 OID 668903)
-- Dependencies: 526
-- Name: idx_publipostage_suivi_template_doc_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_publipostage_suivi_template_doc_id ON publipostage_suivi USING btree (template_document_id);


--
-- TOC entry 4780 (class 1259 OID 668904)
-- Dependencies: 536
-- Name: idx_template_doc_sous_template_eliot_template_eliot_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_doc_sous_template_eliot_template_eliot_id ON template_document_sous_template_eliot USING btree (template_eliot_id);


--
-- TOC entry 4774 (class 1259 OID 668905)
-- Dependencies: 534
-- Name: idx_template_document_etablissement_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_document_etablissement_id ON template_document USING btree (etablissement_id);


--
-- TOC entry 4775 (class 1259 OID 668906)
-- Dependencies: 534
-- Name: idx_template_document_template_eliot_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_document_template_eliot_id ON template_document USING btree (template_eliot_id);


--
-- TOC entry 4785 (class 1259 OID 668907)
-- Dependencies: 538
-- Name: idx_template_eliot_template_jasper_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_eliot_template_jasper_id ON template_eliot USING btree (template_jasper_id);


--
-- TOC entry 4786 (class 1259 OID 668908)
-- Dependencies: 538
-- Name: idx_template_eliot_type_donnees_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_eliot_type_donnees_id ON template_eliot USING btree (type_donnees_id);


--
-- TOC entry 4787 (class 1259 OID 668909)
-- Dependencies: 538
-- Name: idx_template_eliot_type_fonctionnalite_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_eliot_type_fonctionnalite_id ON template_eliot USING btree (type_fonctionnalite_id);


--
-- TOC entry 4792 (class 1259 OID 668910)
-- Dependencies: 540
-- Name: idx_template_jasper_sous_template_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_jasper_sous_template_id ON template_jasper USING btree (sous_template_id);


--
-- TOC entry 4799 (class 1259 OID 668911)
-- Dependencies: 544
-- Name: idx_template_type_fonctionnalite_code; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_type_fonctionnalite_code ON template_type_fonctionnalite USING btree (code);


--
-- TOC entry 4800 (class 1259 OID 668912)
-- Dependencies: 544
-- Name: idx_template_type_fonctionnalite_parent_id; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_template_type_fonctionnalite_parent_id ON template_type_fonctionnalite USING btree (parent_id);


--
-- TOC entry 4769 (class 1259 OID 668913)
-- Dependencies: 529 529 529
-- Name: ux_fournisseur_etablissement_actif; Type: INDEX; Schema: impression; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_fournisseur_etablissement_actif ON sms_fournisseur_etablissement USING btree (actif, etablissement_id) WHERE (actif = true);


SET search_path = securite, pg_catalog;

--
-- TOC entry 4825 (class 1259 OID 668914)
-- Dependencies: 562
-- Name: idx_autorisation_autorite_id; Type: INDEX; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_autorisation_autorite_id ON autorisation USING btree (autorite_id);


--
-- TOC entry 4826 (class 1259 OID 668915)
-- Dependencies: 562
-- Name: idx_autorisation_item_id; Type: INDEX; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_autorisation_item_id ON autorisation USING btree (item_id);


--
-- TOC entry 4832 (class 1259 OID 668916)
-- Dependencies: 565
-- Name: idx_item_item_parent_id; Type: INDEX; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_item_item_parent_id ON item USING btree (item_parent_id);


--
-- TOC entry 4055 (class 1259 OID 668917)
-- Dependencies: 233
-- Name: idx_securite_autorite_id_sts; Type: INDEX; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_securite_autorite_id_sts ON autorite USING btree (id_sts);


--
-- TOC entry 4831 (class 1259 OID 668918)
-- Dependencies: 562 562
-- Name: ux_autorisation_item_proprietaire_true; Type: INDEX; Schema: securite; Owner: eliot_scolarite; Tablespace: 
--

CREATE UNIQUE INDEX ux_autorisation_item_proprietaire_true ON autorisation USING btree (item_id) WHERE (proprietaire = true);


SET search_path = td, pg_catalog;

--
-- TOC entry 4839 (class 1259 OID 668919)
-- Dependencies: 569
-- Name: idx_copie_correcteur_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_copie_correcteur_id ON copie USING btree (correcteur_id);


--
-- TOC entry 4840 (class 1259 OID 668920)
-- Dependencies: 569
-- Name: idx_copie_eleve_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_copie_eleve_id ON copie USING btree (eleve_id);


--
-- TOC entry 4841 (class 1259 OID 668921)
-- Dependencies: 569
-- Name: idx_copie_modalite_activite_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_copie_modalite_activite_id ON copie USING btree (modalite_activite_id);


--
-- TOC entry 4842 (class 1259 OID 668922)
-- Dependencies: 569
-- Name: idx_copie_sujet_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_copie_sujet_id ON copie USING btree (sujet_id);


--
-- TOC entry 4847 (class 1259 OID 668923)
-- Dependencies: 571
-- Name: idx_modalite_activite_activite_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_activite_id ON modalite_activite USING btree (activite_id);


--
-- TOC entry 4848 (class 1259 OID 668924)
-- Dependencies: 571
-- Name: idx_modalite_activite_enseignant_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_enseignant_id ON modalite_activite USING btree (enseignant_id);


--
-- TOC entry 4849 (class 1259 OID 668925)
-- Dependencies: 571
-- Name: idx_modalite_activite_etablissement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_etablissement_id ON modalite_activite USING btree (etablissement_id);


--
-- TOC entry 4850 (class 1259 OID 668926)
-- Dependencies: 571
-- Name: idx_modalite_activite_evaluation_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_evaluation_id ON modalite_activite USING btree (evaluation_id);


--
-- TOC entry 4851 (class 1259 OID 668928)
-- Dependencies: 571
-- Name: idx_modalite_activite_matiere_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_matiere_id ON modalite_activite USING btree (matiere_id);


--
-- TOC entry 4852 (class 1259 OID 668929)
-- Dependencies: 571
-- Name: idx_modalite_activite_responsable_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_responsable_id ON modalite_activite USING btree (responsable_id);


--
-- TOC entry 4853 (class 1259 OID 668930)
-- Dependencies: 571
-- Name: idx_modalite_activite_structure_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_structure_id ON modalite_activite USING btree (structure_enseignement_id);


--
-- TOC entry 4854 (class 1259 OID 668931)
-- Dependencies: 571
-- Name: idx_modalite_activite_sujet_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_modalite_activite_sujet_id ON modalite_activite USING btree (sujet_id);


--
-- TOC entry 4868 (class 1259 OID 668932)
-- Dependencies: 574
-- Name: idx_question_attachement_attachement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_attachement_attachement_id ON question_attachement USING btree (attachement_id);


--
-- TOC entry 4857 (class 1259 OID 668933)
-- Dependencies: 573
-- Name: idx_question_attachement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_attachement_id ON question USING btree (attachement_id);


--
-- TOC entry 4869 (class 1259 OID 668934)
-- Dependencies: 574
-- Name: idx_question_attachement_question_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_attachement_question_id ON question_attachement USING btree (question_id);


--
-- TOC entry 4858 (class 1259 OID 668935)
-- Dependencies: 573
-- Name: idx_question_copyrights_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_copyrights_id ON question USING btree (copyrights_type_id);


--
-- TOC entry 4859 (class 1259 OID 668936)
-- Dependencies: 573
-- Name: idx_question_etablissement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_etablissement_id ON question USING btree (etablissement_id);


--
-- TOC entry 4860 (class 1259 OID 668937)
-- Dependencies: 573
-- Name: idx_question_exercice_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_exercice_id ON question USING btree (exercice_id);


--
-- TOC entry 4872 (class 1259 OID 668938)
-- Dependencies: 576
-- Name: idx_question_export_format_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_export_format_id ON question_export USING btree (format_id);


--
-- TOC entry 4873 (class 1259 OID 668939)
-- Dependencies: 576
-- Name: idx_question_export_question_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_export_question_id ON question_export USING btree (question_id);


--
-- TOC entry 4861 (class 1259 OID 668940)
-- Dependencies: 573
-- Name: idx_question_matiere_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_matiere_id ON question USING btree (matiere_id);


--
-- TOC entry 4862 (class 1259 OID 668941)
-- Dependencies: 573
-- Name: idx_question_niveau_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_niveau_id ON question USING btree (niveau_id);


--
-- TOC entry 4863 (class 1259 OID 668942)
-- Dependencies: 573
-- Name: idx_question_proprietaire_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_proprietaire_id ON question USING btree (proprietaire_id);


--
-- TOC entry 4864 (class 1259 OID 668943)
-- Dependencies: 573
-- Name: idx_question_publication_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_publication_id ON question USING btree (publication_id);


--
-- TOC entry 4865 (class 1259 OID 668944)
-- Dependencies: 573
-- Name: idx_question_type_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_question_type_id ON question USING btree (type_id);


--
-- TOC entry 4886 (class 1259 OID 668945)
-- Dependencies: 582
-- Name: idx_reponse_attachement_attachement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_attachement_attachement_id ON reponse_attachement USING btree (attachement_id);


--
-- TOC entry 4887 (class 1259 OID 668946)
-- Dependencies: 582
-- Name: idx_reponse_attachement_reponse_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_attachement_reponse_id ON reponse_attachement USING btree (reponse_id);


--
-- TOC entry 4878 (class 1259 OID 668947)
-- Dependencies: 581
-- Name: idx_reponse_copie_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_copie_id ON reponse USING btree (copie_id);


--
-- TOC entry 4879 (class 1259 OID 668948)
-- Dependencies: 581
-- Name: idx_reponse_correcteur_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_correcteur_id ON reponse USING btree (correcteur_id);


--
-- TOC entry 4880 (class 1259 OID 668949)
-- Dependencies: 581
-- Name: idx_reponse_eleve_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_eleve_id ON reponse USING btree (eleve_id);


--
-- TOC entry 4881 (class 1259 OID 668950)
-- Dependencies: 581
-- Name: idx_reponse_sujet_question_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_reponse_sujet_question_id ON reponse USING btree (sujet_question_id);


--
-- TOC entry 4890 (class 1259 OID 668951)
-- Dependencies: 585
-- Name: idx_sujet_copyrights_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_copyrights_id ON sujet USING btree (copyrights_type_id);


--
-- TOC entry 4891 (class 1259 OID 668952)
-- Dependencies: 585
-- Name: idx_sujet_etablissement_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_etablissement_id ON sujet USING btree (etablissement_id);


--
-- TOC entry 4892 (class 1259 OID 668953)
-- Dependencies: 585
-- Name: idx_sujet_matiere_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_matiere_id ON sujet USING btree (matiere_id);


--
-- TOC entry 4893 (class 1259 OID 668954)
-- Dependencies: 585
-- Name: idx_sujet_niveau_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_niveau_id ON sujet USING btree (niveau_id);


--
-- TOC entry 4894 (class 1259 OID 668955)
-- Dependencies: 585
-- Name: idx_sujet_proprietaire_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_proprietaire_id ON sujet USING btree (proprietaire_id);


--
-- TOC entry 4895 (class 1259 OID 668956)
-- Dependencies: 585
-- Name: idx_sujet_publication_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_publication_id ON sujet USING btree (publication_id);


--
-- TOC entry 4899 (class 1259 OID 668957)
-- Dependencies: 587
-- Name: idx_sujet_sequence_questions_question_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_sequence_questions_question_id ON sujet_sequence_questions USING btree (question_id);


--
-- TOC entry 4900 (class 1259 OID 668958)
-- Dependencies: 587
-- Name: idx_sujet_sequence_questions_sujet_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_sequence_questions_sujet_id ON sujet_sequence_questions USING btree (sujet_id);


--
-- TOC entry 4896 (class 1259 OID 668959)
-- Dependencies: 585
-- Name: idx_sujet_sujet_type_id; Type: INDEX; Schema: td; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_sujet_sujet_type_id ON sujet USING btree (sujet_type_id);


SET search_path = tice, pg_catalog;

--
-- TOC entry 4905 (class 1259 OID 668960)
-- Dependencies: 591
-- Name: idx_attachement_chemin; Type: INDEX; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_attachement_chemin ON attachement USING btree (chemin);


--
-- TOC entry 4908 (class 1259 OID 668961)
-- Dependencies: 593
-- Name: idx_compte_utilisateur_login; Type: INDEX; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_compte_utilisateur_login ON compte_utilisateur USING btree (login);


--
-- TOC entry 4909 (class 1259 OID 668962)
-- Dependencies: 593
-- Name: idx_compte_utilisateur_login_alias; Type: INDEX; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_compte_utilisateur_login_alias ON compte_utilisateur USING btree (login_alias);


--
-- TOC entry 4910 (class 1259 OID 668963)
-- Dependencies: 593
-- Name: idx_compte_utilisateur_personne_id; Type: INDEX; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_compte_utilisateur_personne_id ON compte_utilisateur USING btree (personne_id);


--
-- TOC entry 4921 (class 1259 OID 668964)
-- Dependencies: 599
-- Name: idx_publication_copyrights_type_id; Type: INDEX; Schema: tice; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_publication_copyrights_type_id ON publication USING btree (copyrights_type_id);


SET search_path = udt, pg_catalog;

--
-- TOC entry 4926 (class 1259 OID 671966)
-- Dependencies: 603 603 603 603
-- Name: idx_evenement_udt_import_id_semaine_index_annee_etat; Type: INDEX; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_evenement_udt_import_id_semaine_index_annee_etat ON evenement USING btree (udt_import_id, semaine_index, annee) WHERE ((etat)::text = 'EN_ATTENTE'::text);


--
-- TOC entry 4927 (class 1259 OID 668965)
-- Dependencies: 603 603 603 603 603 603
-- Name: idx_import_semaine_annee_structure_prof_matiere; Type: INDEX; Schema: udt; Owner: eliot_scolarite; Tablespace: 
--

CREATE INDEX idx_import_semaine_annee_structure_prof_matiere ON evenement USING btree (udt_import_id, semaine_index, annee, structure_enseignement_id, professeur_id, matiere_id);


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 5551 (class 2620 OID 668966)
-- Dependencies: 188 656
-- Name: annuaire_interface_entite_insertion_interdite; Type: TRIGGER; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE TRIGGER annuaire_interface_entite_insertion_interdite BEFORE INSERT ON entite FOR EACH STATEMENT EXECUTE PROCEDURE insertion_interdite();


--
-- TOC entry 5552 (class 2620 OID 668967)
-- Dependencies: 195 656
-- Name: annuaire_interface_personne_insertion_interdite; Type: TRIGGER; Schema: annuaire_interface; Owner: eliot_scolarite
--

CREATE TRIGGER annuaire_interface_personne_insertion_interdite BEFORE INSERT ON personne FOR EACH STATEMENT EXECUTE PROCEDURE insertion_interdite();


SET search_path = enttemps, pg_catalog;

--
-- TOC entry 5553 (class 2620 OID 668968)
-- Dependencies: 435 658
-- Name: agenda_before_insert; Type: TRIGGER; Schema: enttemps; Owner: eliot_scolarite
--

CREATE TRIGGER agenda_before_insert BEFORE INSERT ON agenda FOR EACH ROW EXECUTE PROCEDURE agenda_before_insert();


SET search_path = aaf, pg_catalog;

--
-- TOC entry 4983 (class 2606 OID 668969)
-- Dependencies: 4001 193 185
-- Name: fk_import_demande_import; Type: FK CONSTRAINT; Schema: aaf; Owner: eliot_scolarite
--

ALTER TABLE ONLY import
    ADD CONSTRAINT fk_import_demande_import FOREIGN KEY (demande_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 4984 (class 2606 OID 668974)
-- Dependencies: 3989 185 187
-- Name: fk_import_verrou_import; Type: FK CONSTRAINT; Schema: aaf; Owner: eliot_scolarite
--

ALTER TABLE ONLY import_verrou
    ADD CONSTRAINT fk_import_verrou_import FOREIGN KEY (import_id) REFERENCES import(id);


SET search_path = annuaire_interface, pg_catalog;

--
-- TOC entry 4987 (class 2606 OID 668979)
-- Dependencies: 4001 193 189
-- Name: fk_admin_local_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY admin_local
    ADD CONSTRAINT fk_admin_local_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4986 (class 2606 OID 668984)
-- Dependencies: 4010 202 189
-- Name: fk_admin_local_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY admin_local
    ADD CONSTRAINT fk_admin_local_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 4985 (class 2606 OID 668989)
-- Dependencies: 4028 221 189
-- Name: fk_admin_local_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY admin_local
    ADD CONSTRAINT fk_admin_local_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 4989 (class 2606 OID 668994)
-- Dependencies: 4001 193 191
-- Name: fk_alerte_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY alerte
    ADD CONSTRAINT fk_alerte_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4988 (class 2606 OID 668999)
-- Dependencies: 4026 219 191
-- Name: fk_alerte_type_alerte; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY alerte
    ADD CONSTRAINT fk_alerte_type_alerte FOREIGN KEY (type_alerte_id) REFERENCES type_alerte(id);


--
-- TOC entry 4990 (class 2606 OID 669004)
-- Dependencies: 4001 193 193
-- Name: fk_correctif_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY demande_import
    ADD CONSTRAINT fk_correctif_demande_import FOREIGN KEY (correctif_demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4993 (class 2606 OID 669009)
-- Dependencies: 4001 193 196
-- Name: fk_eleve_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve
    ADD CONSTRAINT fk_eleve_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4992 (class 2606 OID 669014)
-- Dependencies: 4010 202 196
-- Name: fk_eleve_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve
    ADD CONSTRAINT fk_eleve_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 4995 (class 2606 OID 669019)
-- Dependencies: 4001 193 198
-- Name: fk_eleve_repartition_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_repartition
    ADD CONSTRAINT fk_eleve_repartition_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4994 (class 2606 OID 669024)
-- Dependencies: 4028 221 198
-- Name: fk_eleve_repartition_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_repartition
    ADD CONSTRAINT fk_eleve_repartition_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 4991 (class 2606 OID 669029)
-- Dependencies: 4028 221 196
-- Name: fk_eleve_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve
    ADD CONSTRAINT fk_eleve_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 4998 (class 2606 OID 669034)
-- Dependencies: 4001 193 200
-- Name: fk_etablissement_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 4997 (class 2606 OID 669039)
-- Dependencies: 4010 202 200
-- Name: fk_etablissement_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 4996 (class 2606 OID 669044)
-- Dependencies: 4028 221 200
-- Name: fk_etablissement_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 4999 (class 2606 OID 669049)
-- Dependencies: 4001 193 202
-- Name: fk_execution_import_id; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY execution
    ADD CONSTRAINT fk_execution_import_id FOREIGN KEY (import_id) REFERENCES demande_import(id);


--
-- TOC entry 5002 (class 2606 OID 669054)
-- Dependencies: 4001 193 204
-- Name: fk_hors_aaf_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY hors_aaf
    ADD CONSTRAINT fk_hors_aaf_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5001 (class 2606 OID 669059)
-- Dependencies: 4010 202 204
-- Name: fk_hors_aaf_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY hors_aaf
    ADD CONSTRAINT fk_hors_aaf_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 5004 (class 2606 OID 669064)
-- Dependencies: 4001 193 205
-- Name: fk_hors_aaf_fonction_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY hors_aaf_fonction
    ADD CONSTRAINT fk_hors_aaf_fonction_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5003 (class 2606 OID 669069)
-- Dependencies: 4028 221 205
-- Name: fk_hors_aaf_fonction_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY hors_aaf_fonction
    ADD CONSTRAINT fk_hors_aaf_fonction_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5000 (class 2606 OID 669074)
-- Dependencies: 4028 221 204
-- Name: fk_hors_aaf_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY hors_aaf
    ADD CONSTRAINT fk_hors_aaf_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5007 (class 2606 OID 669079)
-- Dependencies: 4001 193 209
-- Name: fk_pers_educ_nat_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY pers_educ_nat
    ADD CONSTRAINT fk_pers_educ_nat_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5006 (class 2606 OID 669084)
-- Dependencies: 4010 202 209
-- Name: fk_pers_educ_nat_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY pers_educ_nat
    ADD CONSTRAINT fk_pers_educ_nat_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 5009 (class 2606 OID 669089)
-- Dependencies: 4001 193 210
-- Name: fk_pers_educ_nat_fonction_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY pers_educ_nat_fonction
    ADD CONSTRAINT fk_pers_educ_nat_fonction_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5008 (class 2606 OID 669094)
-- Dependencies: 4028 221 210
-- Name: fk_pers_educ_nat_fonction_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY pers_educ_nat_fonction
    ADD CONSTRAINT fk_pers_educ_nat_fonction_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5005 (class 2606 OID 669099)
-- Dependencies: 4028 221 209
-- Name: fk_pers_educ_nat_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY pers_educ_nat
    ADD CONSTRAINT fk_pers_educ_nat_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5012 (class 2606 OID 669104)
-- Dependencies: 4001 193 213
-- Name: fk_porteur_ent_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT fk_porteur_ent_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5011 (class 2606 OID 669109)
-- Dependencies: 4010 202 213
-- Name: fk_porteur_ent_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT fk_porteur_ent_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 5010 (class 2606 OID 669114)
-- Dependencies: 4028 221 213
-- Name: fk_porteur_ent_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT fk_porteur_ent_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5015 (class 2606 OID 669119)
-- Dependencies: 4001 193 215
-- Name: fk_responsable_eleve_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5014 (class 2606 OID 669124)
-- Dependencies: 4010 202 215
-- Name: fk_responsable_eleve_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 5013 (class 2606 OID 669129)
-- Dependencies: 4028 221 215
-- Name: fk_responsable_eleve_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5018 (class 2606 OID 669134)
-- Dependencies: 4001 193 217
-- Name: fk_structure_enseignement_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


--
-- TOC entry 5017 (class 2606 OID 669139)
-- Dependencies: 4010 202 217
-- Name: fk_structure_enseignement_execution; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_execution FOREIGN KEY (execution_id) REFERENCES execution(id);


--
-- TOC entry 5016 (class 2606 OID 669144)
-- Dependencies: 4028 221 217
-- Name: fk_structure_enseignement_type_erreur; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_type_erreur FOREIGN KEY (type_erreur_id) REFERENCES type_erreur(id);


--
-- TOC entry 5019 (class 2606 OID 671839)
-- Dependencies: 4001 193 223
-- Name: fk_verrou_demande_import_id_demande_import; Type: FK CONSTRAINT; Schema: annuaire_interface; Owner: eliot_scolarite
--

ALTER TABLE ONLY verrou
    ADD CONSTRAINT fk_verrou_demande_import_id_demande_import FOREIGN KEY (demande_import_id) REFERENCES demande_import(id);


SET search_path = backoffice, pg_catalog;

--
-- TOC entry 5020 (class 2606 OID 669149)
-- Dependencies: 4038 226 224
-- Name: fk_backoffice_config_base_eleve; Type: FK CONSTRAINT; Schema: backoffice; Owner: eliot_scolarite
--

ALTER TABLE ONLY backoffice_config
    ADD CONSTRAINT fk_backoffice_config_base_eleve FOREIGN KEY (base_eleve_id) REFERENCES base_eleve(id);


SET search_path = ent, pg_catalog;

--
-- TOC entry 5029 (class 2606 OID 669174)
-- Dependencies: 4062 235 238
-- Name: fk_calendrier_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT fk_calendrier_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id) ON DELETE CASCADE;


--
-- TOC entry 5028 (class 2606 OID 669179)
-- Dependencies: 4081 243 238
-- Name: fk_calendrier_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT fk_calendrier_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5548 (class 2606 OID 672107)
-- Dependencies: 4062 235 635
-- Name: fk_eleve_proprietes_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT fk_eleve_proprietes_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5547 (class 2606 OID 672115)
-- Dependencies: 4001 193 635
-- Name: fk_eleve_proprietes_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT fk_eleve_proprietes_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5549 (class 2606 OID 672102)
-- Dependencies: 4109 257 635
-- Name: fk_eleve_proprietes_mef; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT fk_eleve_proprietes_mef FOREIGN KEY (mef_id) REFERENCES mef(id);


--
-- TOC entry 5550 (class 2606 OID 672097)
-- Dependencies: 4051 232 635
-- Name: fk_eleve_proprietes_personne; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY eleve_proprietes
    ADD CONSTRAINT fk_eleve_proprietes_personne FOREIGN KEY (personne_id) REFERENCES personne(id);


--
-- TOC entry 5031 (class 2606 OID 669184)
-- Dependencies: 4056 233 241
-- Name: fk_enseignement_autorite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_autorite FOREIGN KEY (enseignant_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5030 (class 2606 OID 669189)
-- Dependencies: 4174 286 241
-- Name: fk_enseignement_service; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_service FOREIGN KEY (service_id) REFERENCES service(id) ON DELETE CASCADE;


--
-- TOC entry 5035 (class 2606 OID 669194)
-- Dependencies: 4001 193 243
-- Name: fk_etablissement_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5034 (class 2606 OID 669199)
-- Dependencies: 4081 243 243
-- Name: fk_etablissement_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_etablissement FOREIGN KEY (etablissement_rattachement_id) REFERENCES etablissement(id);


--
-- TOC entry 5033 (class 2606 OID 669204)
-- Dependencies: 3989 185 243
-- Name: fk_etablissement_import_id; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_import_id FOREIGN KEY (import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5032 (class 2606 OID 669209)
-- Dependencies: 4136 272 243
-- Name: fk_etablissement_porteur_ent; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement
    ADD CONSTRAINT fk_etablissement_porteur_ent FOREIGN KEY (porteur_ent_id) REFERENCES porteur_ent(id);


--
-- TOC entry 5036 (class 2606 OID 669214)
-- Dependencies: 4081 243 245
-- Name: fk_etablissement_sts_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement_sts
    ADD CONSTRAINT fk_etablissement_sts_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id) ON DELETE CASCADE;


--
-- TOC entry 5037 (class 2606 OID 669219)
-- Dependencies: 4051 232 247
-- Name: fk_fiche_eleve_commentaire_personne; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY fiche_eleve_commentaire
    ADD CONSTRAINT fk_fiche_eleve_commentaire_personne FOREIGN KEY (personne_id) REFERENCES personne(id);


--
-- TOC entry 5039 (class 2606 OID 669239)
-- Dependencies: 4062 235 255
-- Name: fk_matiere_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT fk_matiere_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5038 (class 2606 OID 669244)
-- Dependencies: 4081 243 255
-- Name: fk_matiere_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT fk_matiere_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5040 (class 2606 OID 669249)
-- Dependencies: 4001 193 257
-- Name: fk_mef_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY mef
    ADD CONSTRAINT fk_mef_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5042 (class 2606 OID 669254)
-- Dependencies: 4062 235 261
-- Name: fk_modalite_matiere_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT fk_modalite_matiere_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5041 (class 2606 OID 669259)
-- Dependencies: 4081 243 261
-- Name: fk_modalite_matiere_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT fk_modalite_matiere_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5043 (class 2606 OID 669264)
-- Dependencies: 4001 193 263
-- Name: fk_niveau_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY niveau
    ADD CONSTRAINT fk_niveau_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5044 (class 2606 OID 669269)
-- Dependencies: 4081 243 264
-- Name: fk_niveau_general_etablissement_id; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY niveau_general
    ADD CONSTRAINT fk_niveau_general_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5046 (class 2606 OID 669274)
-- Dependencies: 4188 293 267
-- Name: fk_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT fk_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5045 (class 2606 OID 669279)
-- Dependencies: 4206 301 267
-- Name: fk_periode_type_periode; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT fk_periode_type_periode FOREIGN KEY (type_periode_id) REFERENCES type_periode(id);


--
-- TOC entry 5025 (class 2606 OID 669284)
-- Dependencies: 4056 233 232
-- Name: fk_personne_autorite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT fk_personne_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5024 (class 2606 OID 669289)
-- Dependencies: 4071 239 232
-- Name: fk_personne_civilite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT fk_personne_civilite FOREIGN KEY (civilite_id) REFERENCES civilite(id);


--
-- TOC entry 5023 (class 2606 OID 669294)
-- Dependencies: 4081 243 232
-- Name: fk_personne_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT fk_personne_etablissement FOREIGN KEY (etablissement_rattachement_id) REFERENCES etablissement(id);


--
-- TOC entry 5022 (class 2606 OID 669299)
-- Dependencies: 4136 272 232
-- Name: fk_personne_porteur_ent; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT fk_personne_porteur_ent FOREIGN KEY (porteur_ent_id) REFERENCES porteur_ent(id);


--
-- TOC entry 5051 (class 2606 OID 669304)
-- Dependencies: 3989 185 270
-- Name: fk_personne_propriete_scolarite_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_import FOREIGN KEY (aaf_import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5050 (class 2606 OID 669309)
-- Dependencies: 4051 232 270
-- Name: fk_personne_propriete_scolarite_personne; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_personne FOREIGN KEY (personne_id) REFERENCES personne(id);


--
-- TOC entry 5049 (class 2606 OID 669314)
-- Dependencies: 4150 276 270
-- Name: fk_personne_propriete_scolarite_propriete_scolarite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_propriete_scolarite FOREIGN KEY (propriete_scolarite_id) REFERENCES propriete_scolarite(id);


--
-- TOC entry 5048 (class 2606 OID 669319)
-- Dependencies: 4930 605 270
-- Name: fk_personne_propriete_scolarite_udt_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_udt_import FOREIGN KEY (udt_import_id) REFERENCES udt.import(id);


--
-- TOC entry 5021 (class 2606 OID 669324)
-- Dependencies: 4152 278 232
-- Name: fk_personne_regime; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne
    ADD CONSTRAINT fk_personne_regime FOREIGN KEY (regime_id) REFERENCES regime(id);


--
-- TOC entry 5053 (class 2606 OID 669329)
-- Dependencies: 4001 193 272
-- Name: fk_porteur_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT fk_porteur_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5052 (class 2606 OID 669334)
-- Dependencies: 3989 185 272
-- Name: fk_porteur_ent_import_id; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY porteur_ent
    ADD CONSTRAINT fk_porteur_ent_import_id FOREIGN KEY (import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5047 (class 2606 OID 669339)
-- Dependencies: 4001 193 270
-- Name: fk_pps_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_pps_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5055 (class 2606 OID 669344)
-- Dependencies: 4062 235 274
-- Name: fk_preference_etablissement_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT fk_preference_etablissement_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5054 (class 2606 OID 669349)
-- Dependencies: 4081 243 274
-- Name: fk_preference_etablissement_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT fk_preference_etablissement_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5056 (class 2606 OID 669354)
-- Dependencies: 4062 235 276
-- Name: fk_propriete_scolarite_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5057 (class 2606 OID 669359)
-- Dependencies: 4001 193 276
-- Name: fk_propriete_scolarite_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5063 (class 2606 OID 672080)
-- Dependencies: 4056 233 276
-- Name: fk_propriete_scolarite_autorite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5058 (class 2606 OID 669364)
-- Dependencies: 4081 243 276
-- Name: fk_propriete_scolarite_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5059 (class 2606 OID 669369)
-- Dependencies: 4097 251 276
-- Name: fk_propriete_scolarite_fonction; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_fonction FOREIGN KEY (fonction_id) REFERENCES fonction(id);


--
-- TOC entry 5060 (class 2606 OID 669374)
-- Dependencies: 4103 255 276
-- Name: fk_propriete_scolarite_matiere; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_matiere FOREIGN KEY (matiere_id) REFERENCES matiere(id);


--
-- TOC entry 5061 (class 2606 OID 669389)
-- Dependencies: 4136 272 276
-- Name: fk_propriete_scolarite_porteur_ent; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_porteur_ent FOREIGN KEY (porteur_ent_id) REFERENCES porteur_ent(id);


--
-- TOC entry 5062 (class 2606 OID 669394)
-- Dependencies: 4188 293 276
-- Name: fk_propriete_scolarite_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5065 (class 2606 OID 669399)
-- Dependencies: 4095 249 280
-- Name: fk_rel_classe_filiere_filiere; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT fk_rel_classe_filiere_filiere FOREIGN KEY (filiere_id) REFERENCES filiere(id);


--
-- TOC entry 5064 (class 2606 OID 669404)
-- Dependencies: 4188 293 280
-- Name: fk_rel_classe_filiere_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT fk_rel_classe_filiere_structure_enseignement FOREIGN KEY (classe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5067 (class 2606 OID 669409)
-- Dependencies: 4188 293 281
-- Name: fk_rel_classe_groupe_structure_enseignement_classe; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT fk_rel_classe_groupe_structure_enseignement_classe FOREIGN KEY (classe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5066 (class 2606 OID 669414)
-- Dependencies: 4188 293 281
-- Name: fk_rel_classe_groupe_structure_enseignement_groupe; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT fk_rel_classe_groupe_structure_enseignement_groupe FOREIGN KEY (groupe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5069 (class 2606 OID 669419)
-- Dependencies: 4127 267 282
-- Name: fk_rel_periode_service_periode; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT fk_rel_periode_service_periode FOREIGN KEY (periode_id) REFERENCES periode(id);


--
-- TOC entry 5068 (class 2606 OID 669424)
-- Dependencies: 4174 286 282
-- Name: fk_rel_periode_service_service; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT fk_rel_periode_service_service FOREIGN KEY (service_id) REFERENCES service(id);


--
-- TOC entry 5073 (class 2606 OID 669429)
-- Dependencies: 4001 193 284
-- Name: fk_responsable_eleve_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5072 (class 2606 OID 669434)
-- Dependencies: 3989 185 284
-- Name: fk_responsable_eleve_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_import FOREIGN KEY (import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5071 (class 2606 OID 669439)
-- Dependencies: 4051 232 284
-- Name: fk_responsable_eleve_personne_eleve; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_personne_eleve FOREIGN KEY (eleve_id) REFERENCES personne(id);


--
-- TOC entry 5070 (class 2606 OID 669444)
-- Dependencies: 4051 232 284
-- Name: fk_responsable_eleve_personne_personne; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY responsable_eleve
    ADD CONSTRAINT fk_responsable_eleve_personne_personne FOREIGN KEY (personne_id) REFERENCES personne(id);


--
-- TOC entry 5076 (class 2606 OID 669449)
-- Dependencies: 4103 255 286
-- Name: fk_service_matiere; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_matiere FOREIGN KEY (matiere_id) REFERENCES matiere(id);


--
-- TOC entry 5075 (class 2606 OID 669454)
-- Dependencies: 4113 259 286
-- Name: fk_service_modalite_cours; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_modalite_cours FOREIGN KEY (modalite_cours_id) REFERENCES modalite_cours(id);


--
-- TOC entry 5074 (class 2606 OID 669459)
-- Dependencies: 4188 293 286
-- Name: fk_service_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5077 (class 2606 OID 669464)
-- Dependencies: 4056 233 288
-- Name: fk_signature_autorite; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY signature
    ADD CONSTRAINT fk_signature_autorite FOREIGN KEY (proprietaire_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5080 (class 2606 OID 669469)
-- Dependencies: 4117 261 291
-- Name: fk_sous_service_modalite_matiere; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_modalite_matiere FOREIGN KEY (modalite_matiere_id) REFERENCES modalite_matiere(id);


--
-- TOC entry 5079 (class 2606 OID 669474)
-- Dependencies: 4174 286 291
-- Name: fk_sous_service_service; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_service FOREIGN KEY (service_id) REFERENCES service(id);


--
-- TOC entry 5078 (class 2606 OID 669479)
-- Dependencies: 4206 301 291
-- Name: fk_sous_service_type_periode; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_type_periode FOREIGN KEY (type_periode_id) REFERENCES type_periode(id);


--
-- TOC entry 5084 (class 2606 OID 669484)
-- Dependencies: 4062 235 293
-- Name: fk_structure_enseignement_annee_scolaire; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES annee_scolaire(id);


--
-- TOC entry 5083 (class 2606 OID 669489)
-- Dependencies: 4001 193 293
-- Name: fk_structure_enseignement_annuaire_import; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5082 (class 2606 OID 669494)
-- Dependencies: 4081 243 293
-- Name: fk_structure_enseignement_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5081 (class 2606 OID 669499)
-- Dependencies: 4121 263 293
-- Name: fk_structure_enseignement_niveau; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_niveau FOREIGN KEY (niveau_id) REFERENCES niveau(id);


--
-- TOC entry 5086 (class 2606 OID 669504)
-- Dependencies: 4125 264 295
-- Name: fk_structure_enseignement_preferences_niveau_general; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement_preferences
    ADD CONSTRAINT fk_structure_enseignement_preferences_niveau_general FOREIGN KEY (niveau_general_id) REFERENCES niveau_general(id);


--
-- TOC entry 5085 (class 2606 OID 669509)
-- Dependencies: 4188 293 295
-- Name: fk_structure_enseignement_preferences_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement_preferences
    ADD CONSTRAINT fk_structure_enseignement_preferences_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5087 (class 2606 OID 669514)
-- Dependencies: 4188 293 297
-- Name: fk_structure_enseignement_sts_structure_enseignement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement_sts
    ADD CONSTRAINT fk_structure_enseignement_sts_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5088 (class 2606 OID 669519)
-- Dependencies: 4081 243 299
-- Name: fk_type_activite_etablissement_id; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_activite
    ADD CONSTRAINT fk_type_activite_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


--
-- TOC entry 5089 (class 2606 OID 669524)
-- Dependencies: 4081 243 301
-- Name: fk_type_periode_etablissement; Type: FK CONSTRAINT; Schema: ent; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_periode
    ADD CONSTRAINT fk_type_periode_etablissement FOREIGN KEY (etablissement_id) REFERENCES etablissement(id);


SET search_path = ent_2011_2012, pg_catalog;

--
-- TOC entry 5091 (class 2606 OID 669529)
-- Dependencies: 4062 235 303
-- Name: fk_calendrier_annee_scolaire; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT fk_calendrier_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id) ON DELETE CASCADE;


--
-- TOC entry 5090 (class 2606 OID 669534)
-- Dependencies: 4081 243 303
-- Name: fk_calendrier_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY calendrier
    ADD CONSTRAINT fk_calendrier_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5093 (class 2606 OID 669539)
-- Dependencies: 4056 233 304
-- Name: fk_enseignement_autorite; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_autorite FOREIGN KEY (enseignant_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5092 (class 2606 OID 669544)
-- Dependencies: 4250 314 304
-- Name: fk_enseignement_service; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_service FOREIGN KEY (service_id) REFERENCES service(id) ON DELETE CASCADE;


--
-- TOC entry 5094 (class 2606 OID 669549)
-- Dependencies: 4081 243 305
-- Name: fk_matiere_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY matiere
    ADD CONSTRAINT fk_matiere_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5095 (class 2606 OID 669554)
-- Dependencies: 4081 243 306
-- Name: fk_modalite_matiere_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_matiere
    ADD CONSTRAINT fk_modalite_matiere_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5097 (class 2606 OID 669559)
-- Dependencies: 4256 316 307
-- Name: fk_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT fk_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5096 (class 2606 OID 669564)
-- Dependencies: 4206 301 307
-- Name: fk_periode_type_periode; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY periode
    ADD CONSTRAINT fk_periode_type_periode FOREIGN KEY (type_periode_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5100 (class 2606 OID 669569)
-- Dependencies: 3989 185 308
-- Name: fk_personne_propriete_scolarite_import; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_import FOREIGN KEY (aaf_import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5099 (class 2606 OID 669574)
-- Dependencies: 4051 232 308
-- Name: fk_personne_propriete_scolarite_personne; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_personne FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5098 (class 2606 OID 669584)
-- Dependencies: 4930 605 308
-- Name: fk_personne_propriete_scolarite_udt_import; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY personne_propriete_scolarite
    ADD CONSTRAINT fk_personne_propriete_scolarite_udt_import FOREIGN KEY (udt_import_id) REFERENCES udt.import(id);


--
-- TOC entry 5102 (class 2606 OID 669589)
-- Dependencies: 4081 243 309
-- Name: fk_preference_etablissement_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT fk_preference_etablissement_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5101 (class 2606 OID 669594)
-- Dependencies: 4765 529 309
-- Name: fk_preference_etablissement_sms_fournisseur_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement
    ADD CONSTRAINT fk_preference_etablissement_sms_fournisseur_etablissement FOREIGN KEY (sms_fournisseur_etablissement_id) REFERENCES impression.sms_fournisseur_etablissement(id);


--
-- TOC entry 5103 (class 2606 OID 669599)
-- Dependencies: 4062 235 310
-- Name: fk_propriete_scolarite_annee_scolaire; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5104 (class 2606 OID 669604)
-- Dependencies: 4081 243 310
-- Name: fk_propriete_scolarite_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5105 (class 2606 OID 669609)
-- Dependencies: 4097 251 310
-- Name: fk_propriete_scolarite_fonction; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_fonction FOREIGN KEY (fonction_id) REFERENCES ent.fonction(id);


--
-- TOC entry 5106 (class 2606 OID 669614)
-- Dependencies: 4220 305 310
-- Name: fk_propriete_scolarite_matiere; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_matiere FOREIGN KEY (matiere_id) REFERENCES matiere(id);


--
-- TOC entry 5107 (class 2606 OID 669619)
-- Dependencies: 4109 257 310
-- Name: fk_propriete_scolarite_mef; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_mef FOREIGN KEY (mef_id) REFERENCES ent.mef(id);


--
-- TOC entry 5108 (class 2606 OID 669624)
-- Dependencies: 4121 263 310
-- Name: fk_propriete_scolarite_niveau; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_niveau FOREIGN KEY (niveau_id) REFERENCES ent.niveau(id);


--
-- TOC entry 5109 (class 2606 OID 669629)
-- Dependencies: 4136 272 310
-- Name: fk_propriete_scolarite_porteur_ent; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_porteur_ent FOREIGN KEY (porteur_ent_id) REFERENCES ent.porteur_ent(id);


--
-- TOC entry 5110 (class 2606 OID 669634)
-- Dependencies: 4256 316 310
-- Name: fk_propriete_scolarite_structure_enseignement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY propriete_scolarite
    ADD CONSTRAINT fk_propriete_scolarite_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5112 (class 2606 OID 669639)
-- Dependencies: 4095 249 311
-- Name: fk_rel_classe_filiere_filiere; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT fk_rel_classe_filiere_filiere FOREIGN KEY (filiere_id) REFERENCES ent.filiere(id);


--
-- TOC entry 5111 (class 2606 OID 669644)
-- Dependencies: 4256 316 311
-- Name: fk_rel_classe_filiere_structure_enseignement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_filiere
    ADD CONSTRAINT fk_rel_classe_filiere_structure_enseignement FOREIGN KEY (classe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5114 (class 2606 OID 669649)
-- Dependencies: 4256 316 312
-- Name: fk_rel_classe_groupe_structure_enseignement_classe; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT fk_rel_classe_groupe_structure_enseignement_classe FOREIGN KEY (classe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5113 (class 2606 OID 669654)
-- Dependencies: 4256 316 312
-- Name: fk_rel_classe_groupe_structure_enseignement_groupe; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_classe_groupe
    ADD CONSTRAINT fk_rel_classe_groupe_structure_enseignement_groupe FOREIGN KEY (groupe_id) REFERENCES structure_enseignement(id);


--
-- TOC entry 5116 (class 2606 OID 669659)
-- Dependencies: 4230 307 313
-- Name: fk_rel_periode_service_periode; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT fk_rel_periode_service_periode FOREIGN KEY (periode_id) REFERENCES periode(id);


--
-- TOC entry 5115 (class 2606 OID 669664)
-- Dependencies: 4250 314 313
-- Name: fk_rel_periode_service_service; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_periode_service
    ADD CONSTRAINT fk_rel_periode_service_service FOREIGN KEY (service_id) REFERENCES service(id);


--
-- TOC entry 5119 (class 2606 OID 669684)
-- Dependencies: 4220 305 314
-- Name: fk_service_matiere; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_matiere FOREIGN KEY (matiere_id) REFERENCES matiere(id);


--
-- TOC entry 5118 (class 2606 OID 669689)
-- Dependencies: 4113 259 314
-- Name: fk_service_modalite_cours; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_modalite_cours FOREIGN KEY (modalite_cours_id) REFERENCES ent.modalite_cours(id);


--
-- TOC entry 5117 (class 2606 OID 669694)
-- Dependencies: 4256 316 314
-- Name: fk_service_structure_enseignement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY service
    ADD CONSTRAINT fk_service_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5122 (class 2606 OID 669699)
-- Dependencies: 4226 306 315
-- Name: fk_sous_service_modalite_matiere; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_modalite_matiere FOREIGN KEY (modalite_matiere_id) REFERENCES modalite_matiere(id);


--
-- TOC entry 5121 (class 2606 OID 669704)
-- Dependencies: 4250 314 315
-- Name: fk_sous_service_service; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_service FOREIGN KEY (service_id) REFERENCES service(id);


--
-- TOC entry 5120 (class 2606 OID 669709)
-- Dependencies: 4206 301 315
-- Name: fk_sous_service_type_periode; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sous_service
    ADD CONSTRAINT fk_sous_service_type_periode FOREIGN KEY (type_periode_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5126 (class 2606 OID 669714)
-- Dependencies: 4062 235 316
-- Name: fk_structure_enseignement_annee_scolaire; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5125 (class 2606 OID 669719)
-- Dependencies: 4483 419 316
-- Name: fk_structure_enseignement_brevet_serie; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_brevet_serie FOREIGN KEY (brevet_serie_id) REFERENCES entnotes_2011_2012.brevet_serie(id);


--
-- TOC entry 5124 (class 2606 OID 669724)
-- Dependencies: 4081 243 316
-- Name: fk_structure_enseignement_etablissement; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5123 (class 2606 OID 669729)
-- Dependencies: 4121 263 316
-- Name: fk_structure_enseignement_niveau; Type: FK CONSTRAINT; Schema: ent_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement
    ADD CONSTRAINT fk_structure_enseignement_niveau FOREIGN KEY (niveau_id) REFERENCES ent.niveau(id);


SET search_path = entcdt, pg_catalog;

--
-- TOC entry 5127 (class 2606 OID 669734)
-- Dependencies: 4056 233 317
-- Name: fk_activite_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_autorite FOREIGN KEY (auteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5128 (class 2606 OID 669739)
-- Dependencies: 4267 319 317
-- Name: fk_activite_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_cahier_de_textes FOREIGN KEY (cahier_de_textes_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5129 (class 2606 OID 669744)
-- Dependencies: 4271 321 317
-- Name: fk_activite_chapitre; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_chapitre FOREIGN KEY (chapitre_id) REFERENCES chapitre(id);


--
-- TOC entry 5130 (class 2606 OID 669749)
-- Dependencies: 4273 323 317
-- Name: fk_activite_contexte_activite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_contexte_activite FOREIGN KEY (contexte_activite_id) REFERENCES contexte_activite(id);


--
-- TOC entry 5131 (class 2606 OID 669754)
-- Dependencies: 4288 331 317
-- Name: fk_activite_import; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_import FOREIGN KEY (import_id) REFERENCES import(id);


--
-- TOC entry 5132 (class 2606 OID 669759)
-- Dependencies: 4833 565 317
-- Name: fk_activite_item; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_item FOREIGN KEY (item_id) REFERENCES securite.item(id);


--
-- TOC entry 5133 (class 2606 OID 669764)
-- Dependencies: 4200 299 317
-- Name: fk_activite_type_activite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY activite
    ADD CONSTRAINT fk_activite_type_activite FOREIGN KEY (type_activite_id) REFERENCES ent.type_activite(id);


--
-- TOC entry 5139 (class 2606 OID 669769)
-- Dependencies: 4062 235 319
-- Name: fk_cahier_de_textes_annee_scolaire; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5138 (class 2606 OID 669774)
-- Dependencies: 4267 319 319
-- Name: fk_cahier_de_textes_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_cahier_de_textes FOREIGN KEY (parent_incorporation_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5137 (class 2606 OID 669779)
-- Dependencies: 4286 329 319
-- Name: fk_cahier_de_textes_fichier; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_fichier FOREIGN KEY (fichier_id) REFERENCES fichier(id);


--
-- TOC entry 5136 (class 2606 OID 669784)
-- Dependencies: 4288 331 319
-- Name: fk_cahier_de_textes_import; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_import FOREIGN KEY (import_id) REFERENCES import(id);


--
-- TOC entry 5135 (class 2606 OID 669789)
-- Dependencies: 4833 565 319
-- Name: fk_cahier_de_textes_item; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_item FOREIGN KEY (item_id) REFERENCES securite.item(id);


--
-- TOC entry 5134 (class 2606 OID 669794)
-- Dependencies: 4174 286 319
-- Name: fk_cahier_de_textes_service; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY cahier_de_textes
    ADD CONSTRAINT fk_cahier_de_textes_service FOREIGN KEY (service_id) REFERENCES ent.service(id);


--
-- TOC entry 5143 (class 2606 OID 669799)
-- Dependencies: 4056 233 321
-- Name: fk_chapitre_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY chapitre
    ADD CONSTRAINT fk_chapitre_autorite FOREIGN KEY (auteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5142 (class 2606 OID 669804)
-- Dependencies: 4267 319 321
-- Name: fk_chapitre_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY chapitre
    ADD CONSTRAINT fk_chapitre_cahier_de_textes FOREIGN KEY (cahier_de_textes_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5141 (class 2606 OID 669809)
-- Dependencies: 4271 321 321
-- Name: fk_chapitre_chapitre; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY chapitre
    ADD CONSTRAINT fk_chapitre_chapitre FOREIGN KEY (chapitre_parent_id) REFERENCES chapitre(id);


--
-- TOC entry 5140 (class 2606 OID 669814)
-- Dependencies: 4288 331 321
-- Name: fk_chapitre_import; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY chapitre
    ADD CONSTRAINT fk_chapitre_import FOREIGN KEY (import_id) REFERENCES import(id);


--
-- TOC entry 5145 (class 2606 OID 669819)
-- Dependencies: 4263 317 325
-- Name: fk_date_activite_activite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY date_activite
    ADD CONSTRAINT fk_date_activite_activite FOREIGN KEY (activite_id) REFERENCES activite(id);


--
-- TOC entry 5144 (class 2606 OID 669824)
-- Dependencies: 4563 445 325
-- Name: fk_date_activite_evenement; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY date_activite
    ADD CONSTRAINT fk_date_activite_evenement FOREIGN KEY (evenement_id) REFERENCES enttemps.evenement(id) ON UPDATE SET NULL;


--
-- TOC entry 5146 (class 2606 OID 669829)
-- Dependencies: 4056 233 327
-- Name: fk_dossier_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY dossier
    ADD CONSTRAINT fk_dossier_autorite FOREIGN KEY (acteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5148 (class 2606 OID 669834)
-- Dependencies: 4263 317 333
-- Name: fk_rel_activite_acteur_activite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_activite_acteur
    ADD CONSTRAINT fk_rel_activite_acteur_activite FOREIGN KEY (activite_id) REFERENCES activite(id);


--
-- TOC entry 5147 (class 2606 OID 669839)
-- Dependencies: 4056 233 333
-- Name: fk_rel_activite_acteur_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_activite_acteur
    ADD CONSTRAINT fk_rel_activite_acteur_autorite FOREIGN KEY (acteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5150 (class 2606 OID 669844)
-- Dependencies: 4056 233 335
-- Name: fk_rel_cahier_acteur_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_cahier_acteur
    ADD CONSTRAINT fk_rel_cahier_acteur_autorite FOREIGN KEY (acteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5149 (class 2606 OID 669849)
-- Dependencies: 4267 319 335
-- Name: fk_rel_cahier_acteur_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_cahier_acteur
    ADD CONSTRAINT fk_rel_cahier_acteur_cahier_de_textes FOREIGN KEY (cahier_de_textes_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5152 (class 2606 OID 669854)
-- Dependencies: 4056 233 337
-- Name: fk_rel_cahier_groupe_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_cahier_groupe
    ADD CONSTRAINT fk_rel_cahier_groupe_autorite FOREIGN KEY (groupe_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5151 (class 2606 OID 669859)
-- Dependencies: 4267 319 337
-- Name: fk_rel_cahier_groupe_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_cahier_groupe
    ADD CONSTRAINT fk_rel_cahier_groupe_cahier_de_textes FOREIGN KEY (cahier_de_textes_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5154 (class 2606 OID 669864)
-- Dependencies: 4827 562 339
-- Name: fk_rel_dossier_autorisation_cahier_autorisation; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_dossier_autorisation_cahier
    ADD CONSTRAINT fk_rel_dossier_autorisation_cahier_autorisation FOREIGN KEY (autorisation_id) REFERENCES securite.autorisation(id) ON DELETE CASCADE;


--
-- TOC entry 5153 (class 2606 OID 669869)
-- Dependencies: 4284 327 339
-- Name: fk_rel_dossier_autorisation_cahier_dossier; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_dossier_autorisation_cahier
    ADD CONSTRAINT fk_rel_dossier_autorisation_cahier_dossier FOREIGN KEY (dossier_id) REFERENCES dossier(id);


--
-- TOC entry 5156 (class 2606 OID 669874)
-- Dependencies: 4263 317 341
-- Name: fk_ressource_activite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY ressource
    ADD CONSTRAINT fk_ressource_activite FOREIGN KEY (activite_id) REFERENCES activite(id);


--
-- TOC entry 5155 (class 2606 OID 669879)
-- Dependencies: 4286 329 341
-- Name: fk_ressource_fichier; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY ressource
    ADD CONSTRAINT fk_ressource_fichier FOREIGN KEY (fichier_id) REFERENCES fichier(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 5157 (class 2606 OID 669884)
-- Dependencies: 4056 233 343
-- Name: fk_textes_preferences_utilisateur_autorite; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY textes_preferences_utilisateur
    ADD CONSTRAINT fk_textes_preferences_utilisateur_autorite FOREIGN KEY (utilisateur_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5160 (class 2606 OID 669889)
-- Dependencies: 4267 319 346
-- Name: fk_visa_cahier_de_textes; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY visa
    ADD CONSTRAINT fk_visa_cahier_de_textes FOREIGN KEY (cahier_vise_id) REFERENCES cahier_de_textes(id);


--
-- TOC entry 5159 (class 2606 OID 669894)
-- Dependencies: 4085 243 346
-- Name: fk_visa_etablissement; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY visa
    ADD CONSTRAINT fk_visa_etablissement FOREIGN KEY (etablissement_uai) REFERENCES ent.etablissement(uai);


--
-- TOC entry 5158 (class 2606 OID 669899)
-- Dependencies: 4051 232 346
-- Name: fk_visa_personne; Type: FK CONSTRAINT; Schema: entcdt; Owner: eliot_scolarite
--

ALTER TABLE ONLY visa
    ADD CONSTRAINT fk_visa_personne FOREIGN KEY (auteur_personne_id) REFERENCES ent.personne(id);


SET search_path = entdemon, pg_catalog;

--
-- TOC entry 5163 (class 2606 OID 669904)
-- Dependencies: 4062 235 348
-- Name: fk_demande_traitement_annee_scolaire; Type: FK CONSTRAINT; Schema: entdemon; Owner: eliot_scolarite
--

ALTER TABLE ONLY demande_traitement
    ADD CONSTRAINT fk_demande_traitement_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5162 (class 2606 OID 669909)
-- Dependencies: 4056 233 348
-- Name: fk_demande_traitement_autorite; Type: FK CONSTRAINT; Schema: entdemon; Owner: eliot_scolarite
--

ALTER TABLE ONLY demande_traitement
    ADD CONSTRAINT fk_demande_traitement_autorite FOREIGN KEY (demandeur_autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5161 (class 2606 OID 669914)
-- Dependencies: 4081 243 348
-- Name: fk_demande_traitement_etablissement; Type: FK CONSTRAINT; Schema: entdemon; Owner: eliot_scolarite
--

ALTER TABLE ONLY demande_traitement
    ADD CONSTRAINT fk_demande_traitement_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


SET search_path = entnotes, pg_catalog;

--
-- TOC entry 5166 (class 2606 OID 669919)
-- Dependencies: 4076 241 350
-- Name: fk_appreciation_classe_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5165 (class 2606 OID 669924)
-- Dependencies: 4127 267 350
-- Name: fk_appreciation_classe_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id);


--
-- TOC entry 5164 (class 2606 OID 669929)
-- Dependencies: 4188 293 350
-- Name: fk_appreciation_classe_enseignement_periode_structure_enseignem; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_structure_enseignem FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5169 (class 2606 OID 669934)
-- Dependencies: 4056 233 352
-- Name: fk_appreciation_eleve_enseignement_periode_eleve; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_eleve FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5168 (class 2606 OID 669939)
-- Dependencies: 4076 241 352
-- Name: fk_appreciation_eleve_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5167 (class 2606 OID 669944)
-- Dependencies: 4127 267 352
-- Name: fk_appreciation_eleve_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id);


--
-- TOC entry 5171 (class 2606 OID 669949)
-- Dependencies: 4056 233 354
-- Name: fk_appreciation_eleve_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT fk_appreciation_eleve_periode_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5170 (class 2606 OID 669954)
-- Dependencies: 4127 267 354
-- Name: fk_appreciation_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT fk_appreciation_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id);


--
-- TOC entry 5176 (class 2606 OID 669959)
-- Dependencies: 4336 356 357
-- Name: fk_avis_eleve_periode_avis; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_avis FOREIGN KEY (avis_id) REFERENCES avis(id);


--
-- TOC entry 5175 (class 2606 OID 669964)
-- Dependencies: 4056 233 357
-- Name: fk_avis_eleve_periode_eleve; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_eleve FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5174 (class 2606 OID 669969)
-- Dependencies: 4127 267 357
-- Name: fk_avis_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id);


--
-- TOC entry 5173 (class 2606 OID 669974)
-- Dependencies: 4444 408 357
-- Name: fk_avis_eleve_periode_type_avis; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_type_avis FOREIGN KEY (type_avis_id) REFERENCES type_avis(id);


--
-- TOC entry 5172 (class 2606 OID 669979)
-- Dependencies: 4444 408 356
-- Name: fk_avis_type; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis
    ADD CONSTRAINT fk_avis_type FOREIGN KEY (type_id) REFERENCES type_avis(id);


--
-- TOC entry 5179 (class 2606 OID 669984)
-- Dependencies: 4365 371 360
-- Name: fk_brevet_epreuve_brevet_serie; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_brevet_epreuve_brevet_serie FOREIGN KEY (serie_id) REFERENCES brevet_serie(id);


--
-- TOC entry 5178 (class 2606 OID 669989)
-- Dependencies: 4345 360 360
-- Name: fk_brevet_epreuve_exclusive; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_brevet_epreuve_exclusive FOREIGN KEY (epreuve_exclusive_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5181 (class 2606 OID 669994)
-- Dependencies: 4062 235 362
-- Name: fk_brevet_fiche_annee_scolaire; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT fk_brevet_fiche_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5180 (class 2606 OID 669999)
-- Dependencies: 4051 232 362
-- Name: fk_brevet_fiche_personne; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT fk_brevet_fiche_personne FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5185 (class 2606 OID 670004)
-- Dependencies: 4345 360 364
-- Name: fk_brevet_note_brevet_epreuve; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_epreuve FOREIGN KEY (epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5184 (class 2606 OID 670009)
-- Dependencies: 4347 362 364
-- Name: fk_brevet_note_brevet_fiche; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_fiche FOREIGN KEY (fiche_id) REFERENCES brevet_fiche(id);


--
-- TOC entry 5183 (class 2606 OID 670014)
-- Dependencies: 4355 366 364
-- Name: fk_brevet_note_brevet_note_valeur_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_note_valeur_textuelle FOREIGN KEY (valeur_textuelle_id) REFERENCES brevet_note_valeur_textuelle(id);


--
-- TOC entry 5182 (class 2606 OID 670019)
-- Dependencies: 4103 255 364
-- Name: fk_brevet_note_matiere; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_matiere FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5187 (class 2606 OID 670024)
-- Dependencies: 4345 360 367
-- Name: fk_brevet_rel_epreuve_matiere_brevet_epreuve; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT fk_brevet_rel_epreuve_matiere_brevet_epreuve FOREIGN KEY (epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5186 (class 2606 OID 670029)
-- Dependencies: 4103 255 367
-- Name: fk_brevet_rel_epreuve_matiere_matiere; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT fk_brevet_rel_epreuve_matiere_matiere FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5189 (class 2606 OID 670034)
-- Dependencies: 4345 360 369
-- Name: fk_brevet_rel_epreuve_note_valeur_textuelle_epreuve; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT fk_brevet_rel_epreuve_note_valeur_textuelle_epreuve FOREIGN KEY (brevet_epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5188 (class 2606 OID 670039)
-- Dependencies: 4355 366 369
-- Name: fk_brevet_rel_epreuve_note_valeur_textuelle_valeur_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT fk_brevet_rel_epreuve_note_valeur_textuelle_valeur_textuelle FOREIGN KEY (valeur_textuelle_id) REFERENCES brevet_note_valeur_textuelle(id);


--
-- TOC entry 5190 (class 2606 OID 670044)
-- Dependencies: 4062 235 371
-- Name: fk_brevet_serie_annee_scolaire_id; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_serie
    ADD CONSTRAINT fk_brevet_serie_annee_scolaire_id FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5196 (class 2606 OID 670049)
-- Dependencies: 4076 241 374
-- Name: fk_dirty_moyenne_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5195 (class 2606 OID 670054)
-- Dependencies: 4127 267 374
-- Name: fk_dirty_moyenne_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5194 (class 2606 OID 670059)
-- Dependencies: 4174 286 374
-- Name: fk_dirty_moyenne_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_service FOREIGN KEY (service_id) REFERENCES ent.service(id) ON DELETE CASCADE;


--
-- TOC entry 5193 (class 2606 OID 670064)
-- Dependencies: 4184 291 374
-- Name: fk_dirty_moyenne_sous_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_sous_service FOREIGN KEY (sous_service_id) REFERENCES ent.sous_service(id) ON DELETE CASCADE;


--
-- TOC entry 5192 (class 2606 OID 670069)
-- Dependencies: 4056 233 374
-- Name: fk_dirty_moyenne_structure_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_structure_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5191 (class 2606 OID 670074)
-- Dependencies: 4188 293 374
-- Name: fk_dirty_moyenne_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY dirty_moyenne
    ADD CONSTRAINT fk_dirty_moyenne_structure_enseignement FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5177 (class 2606 OID 670079)
-- Dependencies: 4345 360 360
-- Name: fk_epreuve_matieres_a_heriter; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_epreuve_matieres_a_heriter FOREIGN KEY (epreuve_matieres_a_heriter_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5198 (class 2606 OID 670084)
-- Dependencies: 4001 193 376
-- Name: fk_etablissement_notes_annuaire_import; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement_notes
    ADD CONSTRAINT fk_etablissement_notes_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5197 (class 2606 OID 670089)
-- Dependencies: 4081 243 376
-- Name: fk_etablissement_notes_etablissement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY etablissement_notes
    ADD CONSTRAINT fk_etablissement_notes_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id) ON DELETE CASCADE;


--
-- TOC entry 5201 (class 2606 OID 670099)
-- Dependencies: 4076 241 378
-- Name: fk_evaluation_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT fk_evaluation_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5200 (class 2606 OID 670104)
-- Dependencies: 4117 261 378
-- Name: fk_evaluation_modalite_matiere; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT fk_evaluation_modalite_matiere FOREIGN KEY (modalite_matiere_id) REFERENCES ent.modalite_matiere(id);


--
-- TOC entry 5199 (class 2606 OID 670109)
-- Dependencies: 4200 299 378
-- Name: fk_evaluation_type_activite_id; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT fk_evaluation_type_activite_id FOREIGN KEY (type_activite_id) REFERENCES ent.type_activite(id);


--
-- TOC entry 5202 (class 2606 OID 670114)
-- Dependencies: 4188 293 380
-- Name: fk_info_calcul_moyennes_classe_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT fk_info_calcul_moyennes_classe_structure_enseignement FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5203 (class 2606 OID 670119)
-- Dependencies: 4056 233 383
-- Name: fk_modele_appreciation_professeur_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY modele_appreciation_professeur
    ADD CONSTRAINT fk_modele_appreciation_professeur_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5206 (class 2606 OID 670124)
-- Dependencies: 4056 233 385
-- Name: fk_note_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5205 (class 2606 OID 670129)
-- Dependencies: 4382 378 385
-- Name: fk_note_evaluation; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_evaluation FOREIGN KEY (evaluation_id) REFERENCES evaluation(id) ON DELETE CASCADE;


--
-- TOC entry 5204 (class 2606 OID 670134)
-- Dependencies: 4398 387 385
-- Name: fk_note_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5208 (class 2606 OID 670139)
-- Dependencies: 4062 235 387
-- Name: fk_note_textuelle_annee_scolaire; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT fk_note_textuelle_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5207 (class 2606 OID 670144)
-- Dependencies: 4081 243 387
-- Name: fk_note_textuelle_etablissement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT fk_note_textuelle_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5528 (class 2606 OID 671809)
-- Dependencies: 4051 232 617
-- Name: fk_preference_utilisateur_notes_personne_id; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur_notes
    ADD CONSTRAINT fk_preference_utilisateur_notes_personne_id FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5210 (class 2606 OID 670149)
-- Dependencies: 4382 378 389
-- Name: fk_rel_evaluation_periode_evaluation; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT fk_rel_evaluation_periode_evaluation FOREIGN KEY (evaluation_id) REFERENCES evaluation(id) ON DELETE CASCADE;


--
-- TOC entry 5209 (class 2606 OID 670154)
-- Dependencies: 4127 267 389
-- Name: fk_rel_evaluation_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT fk_rel_evaluation_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5212 (class 2606 OID 670159)
-- Dependencies: 4127 267 390
-- Name: fk_resultat_classe_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT fk_resultat_classe_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5211 (class 2606 OID 670164)
-- Dependencies: 4188 293 390
-- Name: fk_resultat_classe_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT fk_resultat_classe_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5215 (class 2606 OID 670169)
-- Dependencies: 4127 267 392
-- Name: fk_resultat_classe_service_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5214 (class 2606 OID 670174)
-- Dependencies: 4174 286 392
-- Name: fk_resultat_classe_service_periode_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_service FOREIGN KEY (service_id) REFERENCES ent.service(id);


--
-- TOC entry 5213 (class 2606 OID 670179)
-- Dependencies: 4188 293 392
-- Name: fk_resultat_classe_service_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5217 (class 2606 OID 670184)
-- Dependencies: 4410 392 394
-- Name: fk_resultat_classe_sous_service_periode_resultat_classe_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT fk_resultat_classe_sous_service_periode_resultat_classe_service FOREIGN KEY (resultat_classe_service_periode_id) REFERENCES resultat_classe_service_periode(id) ON DELETE CASCADE;


--
-- TOC entry 5216 (class 2606 OID 670189)
-- Dependencies: 4184 291 394
-- Name: fk_resultat_classe_sous_service_periode_sous_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT fk_resultat_classe_sous_service_periode_sous_service FOREIGN KEY (sous_service_id) REFERENCES ent.sous_service(id) ON DELETE CASCADE;


--
-- TOC entry 5221 (class 2606 OID 670194)
-- Dependencies: 4056 233 396
-- Name: fk_resultat_eleve_enseignement_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5220 (class 2606 OID 670199)
-- Dependencies: 4076 241 396
-- Name: fk_resultat_eleve_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5219 (class 2606 OID 670204)
-- Dependencies: 4398 387 396
-- Name: fk_resultat_eleve_enseignement_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5218 (class 2606 OID 670209)
-- Dependencies: 4127 267 396
-- Name: fk_resultat_eleve_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5224 (class 2606 OID 670214)
-- Dependencies: 4056 233 398
-- Name: fk_resultat_eleve_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_autorite FOREIGN KEY (autorite_eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5223 (class 2606 OID 670219)
-- Dependencies: 4398 387 398
-- Name: fk_resultat_eleve_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5222 (class 2606 OID 670224)
-- Dependencies: 4127 267 398
-- Name: fk_resultat_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5228 (class 2606 OID 670229)
-- Dependencies: 4056 233 400
-- Name: fk_resultat_eleve_service_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_autorite FOREIGN KEY (autorite_eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5227 (class 2606 OID 670234)
-- Dependencies: 4398 387 400
-- Name: fk_resultat_eleve_service_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5226 (class 2606 OID 670239)
-- Dependencies: 4127 267 400
-- Name: fk_resultat_eleve_service_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5225 (class 2606 OID 670244)
-- Dependencies: 4174 286 400
-- Name: fk_resultat_eleve_service_periode_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_service FOREIGN KEY (service_id) REFERENCES ent.service(id);


--
-- TOC entry 5231 (class 2606 OID 670249)
-- Dependencies: 4398 387 402
-- Name: fk_resultat_eleve_sous_service_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5230 (class 2606 OID 670254)
-- Dependencies: 4427 400 402
-- Name: fk_resultat_eleve_sous_service_periode_resultat_eleve_service_p; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_resultat_eleve_service_p FOREIGN KEY (resultat_eleve_service_periode_id) REFERENCES resultat_eleve_service_periode(id) ON DELETE CASCADE;


--
-- TOC entry 5229 (class 2606 OID 670259)
-- Dependencies: 4184 291 402
-- Name: fk_resultat_eleve_sous_service_periode_sous_service; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_sous_service FOREIGN KEY (sous_service_id) REFERENCES ent.sous_service(id) ON DELETE CASCADE;


--
-- TOC entry 5233 (class 2606 OID 670264)
-- Dependencies: 4076 241 404
-- Name: fk_resultat_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_enseignement_periode
    ADD CONSTRAINT fk_resultat_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5232 (class 2606 OID 670269)
-- Dependencies: 4127 267 404
-- Name: fk_resultat_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_enseignement_periode
    ADD CONSTRAINT fk_resultat_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5235 (class 2606 OID 670274)
-- Dependencies: 4365 371 406
-- Name: fk_structure_enseignement_notes_brevet_serie; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement_notes
    ADD CONSTRAINT fk_structure_enseignement_notes_brevet_serie FOREIGN KEY (brevet_serie_id) REFERENCES brevet_serie(id);


--
-- TOC entry 5234 (class 2606 OID 670279)
-- Dependencies: 4188 293 406
-- Name: fk_structure_enseignement_notes_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY structure_enseignement_notes
    ADD CONSTRAINT fk_structure_enseignement_notes_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5236 (class 2606 OID 670284)
-- Dependencies: 4081 243 408
-- Name: fk_type_avis_etablissement; Type: FK CONSTRAINT; Schema: entnotes; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_avis
    ADD CONSTRAINT fk_type_avis_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


SET search_path = entnotes_2011_2012, pg_catalog;

--
-- TOC entry 5239 (class 2606 OID 670289)
-- Dependencies: 4216 304 410
-- Name: fk_appreciation_classe_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent_2011_2012.enseignement(id);


--
-- TOC entry 5238 (class 2606 OID 670294)
-- Dependencies: 4230 307 410
-- Name: fk_appreciation_classe_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id);


--
-- TOC entry 5237 (class 2606 OID 670299)
-- Dependencies: 4256 316 410
-- Name: fk_appreciation_classe_enseignement_periode_structure_enseignem; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_classe_enseignement_periode
    ADD CONSTRAINT fk_appreciation_classe_enseignement_periode_structure_enseignem FOREIGN KEY (classe_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5242 (class 2606 OID 670304)
-- Dependencies: 4056 233 411
-- Name: fk_appreciation_eleve_enseignement_periode_eleve; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_eleve FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5241 (class 2606 OID 670309)
-- Dependencies: 4216 304 411
-- Name: fk_appreciation_eleve_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent_2011_2012.enseignement(id);


--
-- TOC entry 5240 (class 2606 OID 670314)
-- Dependencies: 4230 307 411
-- Name: fk_appreciation_eleve_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_enseignement_periode
    ADD CONSTRAINT fk_appreciation_eleve_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id);


--
-- TOC entry 5244 (class 2606 OID 670319)
-- Dependencies: 4056 233 412
-- Name: fk_appreciation_eleve_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT fk_appreciation_eleve_periode_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5243 (class 2606 OID 670324)
-- Dependencies: 4230 307 412
-- Name: fk_appreciation_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appreciation_eleve_periode
    ADD CONSTRAINT fk_appreciation_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id);


--
-- TOC entry 5248 (class 2606 OID 670329)
-- Dependencies: 4336 356 413
-- Name: fk_avis_eleve_periode_avis; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_avis FOREIGN KEY (avis_id) REFERENCES entnotes.avis(id);


--
-- TOC entry 5247 (class 2606 OID 670334)
-- Dependencies: 4056 233 413
-- Name: fk_avis_eleve_periode_eleve; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_eleve FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5246 (class 2606 OID 670339)
-- Dependencies: 4230 307 413
-- Name: fk_avis_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id);


--
-- TOC entry 5245 (class 2606 OID 670344)
-- Dependencies: 4444 408 413
-- Name: fk_avis_eleve_periode_type_avis; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY avis_eleve_periode
    ADD CONSTRAINT fk_avis_eleve_periode_type_avis FOREIGN KEY (type_avis_id) REFERENCES entnotes.type_avis(id);


--
-- TOC entry 5251 (class 2606 OID 670349)
-- Dependencies: 4483 419 414
-- Name: fk_brevet_epreuve_brevet_serie; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_brevet_epreuve_brevet_serie FOREIGN KEY (serie_id) REFERENCES brevet_serie(id);


--
-- TOC entry 5250 (class 2606 OID 670354)
-- Dependencies: 4467 414 414
-- Name: fk_brevet_epreuve_exclusive; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_brevet_epreuve_exclusive FOREIGN KEY (epreuve_exclusive_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5253 (class 2606 OID 670359)
-- Dependencies: 4062 235 415
-- Name: fk_brevet_fiche_annee_scolaire; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT fk_brevet_fiche_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5252 (class 2606 OID 670364)
-- Dependencies: 4051 232 415
-- Name: fk_brevet_fiche_personne; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_fiche
    ADD CONSTRAINT fk_brevet_fiche_personne FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5257 (class 2606 OID 670369)
-- Dependencies: 4467 414 416
-- Name: fk_brevet_note_brevet_epreuve; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_epreuve FOREIGN KEY (epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5256 (class 2606 OID 670374)
-- Dependencies: 4469 415 416
-- Name: fk_brevet_note_brevet_fiche; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_fiche FOREIGN KEY (fiche_id) REFERENCES brevet_fiche(id);


--
-- TOC entry 5255 (class 2606 OID 670379)
-- Dependencies: 4355 366 416
-- Name: fk_brevet_note_brevet_note_valeur_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_brevet_note_valeur_textuelle FOREIGN KEY (valeur_textuelle_id) REFERENCES entnotes.brevet_note_valeur_textuelle(id);


--
-- TOC entry 5254 (class 2606 OID 670384)
-- Dependencies: 4220 305 416
-- Name: fk_brevet_note_matiere; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_note
    ADD CONSTRAINT fk_brevet_note_matiere FOREIGN KEY (matiere_id) REFERENCES ent_2011_2012.matiere(id);


--
-- TOC entry 5259 (class 2606 OID 670389)
-- Dependencies: 4467 414 417
-- Name: fk_brevet_rel_epreuve_matiere_brevet_epreuve; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT fk_brevet_rel_epreuve_matiere_brevet_epreuve FOREIGN KEY (epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5258 (class 2606 OID 670394)
-- Dependencies: 4220 305 417
-- Name: fk_brevet_rel_epreuve_matiere_matiere; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_matiere
    ADD CONSTRAINT fk_brevet_rel_epreuve_matiere_matiere FOREIGN KEY (matiere_id) REFERENCES ent_2011_2012.matiere(id);


--
-- TOC entry 5261 (class 2606 OID 670399)
-- Dependencies: 4467 414 418
-- Name: fk_brevet_rel_epreuve_note_valeur_textuelle_epreuve; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT fk_brevet_rel_epreuve_note_valeur_textuelle_epreuve FOREIGN KEY (brevet_epreuve_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5260 (class 2606 OID 670404)
-- Dependencies: 4355 366 418
-- Name: fk_brevet_rel_epreuve_note_valeur_textuelle_valeur_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_rel_epreuve_note_valeur_textuelle
    ADD CONSTRAINT fk_brevet_rel_epreuve_note_valeur_textuelle_valeur_textuelle FOREIGN KEY (valeur_textuelle_id) REFERENCES entnotes.brevet_note_valeur_textuelle(id);


--
-- TOC entry 5262 (class 2606 OID 670409)
-- Dependencies: 4062 235 419
-- Name: fk_brevet_serie_annee_scolaire_id; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_serie
    ADD CONSTRAINT fk_brevet_serie_annee_scolaire_id FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5249 (class 2606 OID 670414)
-- Dependencies: 4467 414 414
-- Name: fk_epreuve_matieres_a_heriter; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY brevet_epreuve
    ADD CONSTRAINT fk_epreuve_matieres_a_heriter FOREIGN KEY (epreuve_matieres_a_heriter_id) REFERENCES brevet_epreuve(id);


--
-- TOC entry 5264 (class 2606 OID 670424)
-- Dependencies: 4216 304 420
-- Name: fk_evaluation_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT fk_evaluation_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent_2011_2012.enseignement(id);


--
-- TOC entry 5263 (class 2606 OID 670429)
-- Dependencies: 4226 306 420
-- Name: fk_evaluation_modalite_matiere; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evaluation
    ADD CONSTRAINT fk_evaluation_modalite_matiere FOREIGN KEY (modalite_matiere_id) REFERENCES ent_2011_2012.modalite_matiere(id);


--
-- TOC entry 5265 (class 2606 OID 670434)
-- Dependencies: 4256 316 421
-- Name: fk_info_calcul_moyennes_classe_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY info_calcul_moyennes_classe
    ADD CONSTRAINT fk_info_calcul_moyennes_classe_structure_enseignement FOREIGN KEY (classe_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5268 (class 2606 OID 670439)
-- Dependencies: 4056 233 422
-- Name: fk_note_autorite; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5267 (class 2606 OID 670444)
-- Dependencies: 4485 420 422
-- Name: fk_note_evaluation; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_evaluation FOREIGN KEY (evaluation_id) REFERENCES evaluation(id) ON DELETE CASCADE;


--
-- TOC entry 5266 (class 2606 OID 670449)
-- Dependencies: 4495 423 422
-- Name: fk_note_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY note
    ADD CONSTRAINT fk_note_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5270 (class 2606 OID 670454)
-- Dependencies: 4062 235 423
-- Name: fk_note_textuelle_annee_scolaire; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT fk_note_textuelle_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5269 (class 2606 OID 670459)
-- Dependencies: 4081 243 423
-- Name: fk_note_textuelle_etablissement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY note_textuelle
    ADD CONSTRAINT fk_note_textuelle_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5272 (class 2606 OID 670464)
-- Dependencies: 4485 420 424
-- Name: fk_rel_evaluation_periode_evaluation; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT fk_rel_evaluation_periode_evaluation FOREIGN KEY (evaluation_id) REFERENCES evaluation(id) ON DELETE CASCADE;


--
-- TOC entry 5271 (class 2606 OID 670469)
-- Dependencies: 4230 307 424
-- Name: fk_rel_evaluation_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_evaluation_periode
    ADD CONSTRAINT fk_rel_evaluation_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5275 (class 2606 OID 670474)
-- Dependencies: 4076 241 425
-- Name: fk_resultat_classe_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_enseignement_periode
    ADD CONSTRAINT fk_resultat_classe_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5274 (class 2606 OID 670479)
-- Dependencies: 4230 307 425
-- Name: fk_resultat_classe_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_enseignement_periode
    ADD CONSTRAINT fk_resultat_classe_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5273 (class 2606 OID 670484)
-- Dependencies: 4256 316 425
-- Name: fk_resultat_classe_enseignement_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_enseignement_periode
    ADD CONSTRAINT fk_resultat_classe_enseignement_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5277 (class 2606 OID 670489)
-- Dependencies: 4230 307 426
-- Name: fk_resultat_classe_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT fk_resultat_classe_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5276 (class 2606 OID 670494)
-- Dependencies: 4256 316 426
-- Name: fk_resultat_classe_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_periode
    ADD CONSTRAINT fk_resultat_classe_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5280 (class 2606 OID 670499)
-- Dependencies: 4230 307 427
-- Name: fk_resultat_classe_service_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5279 (class 2606 OID 670504)
-- Dependencies: 4250 314 427
-- Name: fk_resultat_classe_service_periode_service; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_service FOREIGN KEY (service_id) REFERENCES ent_2011_2012.service(id);


--
-- TOC entry 5278 (class 2606 OID 670509)
-- Dependencies: 4256 316 427
-- Name: fk_resultat_classe_service_periode_structure_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_service_periode
    ADD CONSTRAINT fk_resultat_classe_service_periode_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5282 (class 2606 OID 670514)
-- Dependencies: 4507 427 428
-- Name: fk_resultat_classe_sous_service_periode_resultat_classe_service; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT fk_resultat_classe_sous_service_periode_resultat_classe_service FOREIGN KEY (resultat_classe_service_periode_id) REFERENCES resultat_classe_service_periode(id) ON DELETE CASCADE;


--
-- TOC entry 5281 (class 2606 OID 670519)
-- Dependencies: 4252 315 428
-- Name: fk_resultat_classe_sous_service_periode_sous_service; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_classe_sous_service_periode
    ADD CONSTRAINT fk_resultat_classe_sous_service_periode_sous_service FOREIGN KEY (sous_service_id) REFERENCES ent_2011_2012.sous_service(id) ON DELETE CASCADE;


--
-- TOC entry 5286 (class 2606 OID 670524)
-- Dependencies: 4056 233 429
-- Name: fk_resultat_eleve_enseignement_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_autorite FOREIGN KEY (eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5285 (class 2606 OID 670529)
-- Dependencies: 4216 304 429
-- Name: fk_resultat_eleve_enseignement_periode_enseignement; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent_2011_2012.enseignement(id);


--
-- TOC entry 5284 (class 2606 OID 670534)
-- Dependencies: 4495 423 429
-- Name: fk_resultat_eleve_enseignement_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5283 (class 2606 OID 670539)
-- Dependencies: 4230 307 429
-- Name: fk_resultat_eleve_enseignement_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_enseignement_periode
    ADD CONSTRAINT fk_resultat_eleve_enseignement_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5289 (class 2606 OID 670544)
-- Dependencies: 4056 233 430
-- Name: fk_resultat_eleve_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_autorite FOREIGN KEY (autorite_eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5288 (class 2606 OID 670549)
-- Dependencies: 4495 423 430
-- Name: fk_resultat_eleve_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5287 (class 2606 OID 670554)
-- Dependencies: 4230 307 430
-- Name: fk_resultat_eleve_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_periode
    ADD CONSTRAINT fk_resultat_eleve_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5293 (class 2606 OID 670559)
-- Dependencies: 4056 233 431
-- Name: fk_resultat_eleve_service_periode_autorite; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_autorite FOREIGN KEY (autorite_eleve_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5292 (class 2606 OID 670564)
-- Dependencies: 4495 423 431
-- Name: fk_resultat_eleve_service_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5291 (class 2606 OID 670569)
-- Dependencies: 4230 307 431
-- Name: fk_resultat_eleve_service_periode_periode; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_periode FOREIGN KEY (periode_id) REFERENCES ent_2011_2012.periode(id) ON DELETE CASCADE;


--
-- TOC entry 5290 (class 2606 OID 670574)
-- Dependencies: 4250 314 431
-- Name: fk_resultat_eleve_service_periode_service; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_service_periode
    ADD CONSTRAINT fk_resultat_eleve_service_periode_service FOREIGN KEY (service_id) REFERENCES ent_2011_2012.service(id);


--
-- TOC entry 5296 (class 2606 OID 670579)
-- Dependencies: 4495 423 432
-- Name: fk_resultat_eleve_sous_service_periode_note_textuelle; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_note_textuelle FOREIGN KEY (note_textuelle_id) REFERENCES note_textuelle(id);


--
-- TOC entry 5295 (class 2606 OID 670584)
-- Dependencies: 4523 431 432
-- Name: fk_resultat_eleve_sous_service_periode_resultat_eleve_service_p; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_resultat_eleve_service_p FOREIGN KEY (resultat_eleve_service_periode_id) REFERENCES resultat_eleve_service_periode(id) ON DELETE CASCADE;


--
-- TOC entry 5294 (class 2606 OID 670589)
-- Dependencies: 4252 315 432
-- Name: fk_resultat_eleve_sous_service_periode_sous_service; Type: FK CONSTRAINT; Schema: entnotes_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY resultat_eleve_sous_service_periode
    ADD CONSTRAINT fk_resultat_eleve_sous_service_periode_sous_service FOREIGN KEY (sous_service_id) REFERENCES ent_2011_2012.sous_service(id) ON DELETE CASCADE;


SET search_path = enttemps, pg_catalog;

--
-- TOC entry 5298 (class 2606 OID 670594)
-- Dependencies: 4081 243 433
-- Name: fk_absence_journee_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT fk_absence_journee_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5297 (class 2606 OID 670599)
-- Dependencies: 4595 461 433
-- Name: fk_absence_journee_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT fk_absence_journee_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5303 (class 2606 OID 670604)
-- Dependencies: 4056 233 435
-- Name: fk_agenda_autorite; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_autorite FOREIGN KEY (enseignant_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5302 (class 2606 OID 670609)
-- Dependencies: 4081 243 435
-- Name: fk_agenda_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id) ON DELETE CASCADE;


--
-- TOC entry 5301 (class 2606 OID 670614)
-- Dependencies: 4833 565 435
-- Name: fk_agenda_item; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_item FOREIGN KEY (item_id) REFERENCES securite.item(id);


--
-- TOC entry 5300 (class 2606 OID 670619)
-- Dependencies: 4188 293 435
-- Name: fk_agenda_structure_enseignement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5299 (class 2606 OID 670624)
-- Dependencies: 4643 485 435
-- Name: fk_agenda_type_agenda; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_type_agenda FOREIGN KEY (type_agenda_id) REFERENCES type_agenda(id);


--
-- TOC entry 5307 (class 2606 OID 670629)
-- Dependencies: 4056 233 437
-- Name: fk_appel_autorite_appelant; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_autorite_appelant FOREIGN KEY (appelant_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5306 (class 2606 OID 670634)
-- Dependencies: 4056 233 437
-- Name: fk_appel_autorite_operateur_saisie; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_autorite_operateur_saisie FOREIGN KEY (operateur_saisie_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5305 (class 2606 OID 670639)
-- Dependencies: 4563 445 437
-- Name: fk_appel_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id);


--
-- TOC entry 5308 (class 2606 OID 670644)
-- Dependencies: 4531 433 439
-- Name: fk_appel_ligne_absence_journee; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_absence_journee FOREIGN KEY (absence_journee_id) REFERENCES absence_journee(id) ON DELETE CASCADE;


--
-- TOC entry 5309 (class 2606 OID 670649)
-- Dependencies: 4543 437 439
-- Name: fk_appel_ligne_appel; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_appel FOREIGN KEY (appel_id) REFERENCES appel(id) ON DELETE CASCADE;


--
-- TOC entry 5310 (class 2606 OID 670654)
-- Dependencies: 4056 233 439
-- Name: fk_appel_ligne_autorite_eleve; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_autorite_eleve FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5311 (class 2606 OID 670659)
-- Dependencies: 4056 233 439
-- Name: fk_appel_ligne_autorite_operateur_saisie; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_autorite_operateur_saisie FOREIGN KEY (operateur_saisie_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5314 (class 2606 OID 671828)
-- Dependencies: 4103 255 439
-- Name: fk_appel_ligne_matiere; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_matiere FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5312 (class 2606 OID 670664)
-- Dependencies: 4578 453 439
-- Name: fk_appel_ligne_motif; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_motif FOREIGN KEY (motif_id) REFERENCES motif(id);


--
-- TOC entry 5313 (class 2606 OID 670669)
-- Dependencies: 4641 483 439
-- Name: fk_appel_ligne_sanction; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_sanction FOREIGN KEY (sanction_id) REFERENCES sanction(id);


--
-- TOC entry 5316 (class 2606 OID 670674)
-- Dependencies: 4543 437 441
-- Name: fk_appel_plage_horaire_appel; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT fk_appel_plage_horaire_appel FOREIGN KEY (appel_id) REFERENCES appel(id) ON DELETE CASCADE;


--
-- TOC entry 5315 (class 2606 OID 670679)
-- Dependencies: 4593 459 441
-- Name: fk_appel_plage_horaire_plage_horaire; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT fk_appel_plage_horaire_plage_horaire FOREIGN KEY (plage_horaire_id) REFERENCES plage_horaire(id) ON DELETE CASCADE;


--
-- TOC entry 5304 (class 2606 OID 670684)
-- Dependencies: 4595 461 437
-- Name: fk_appel_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5317 (class 2606 OID 670689)
-- Dependencies: 4563 445 442
-- Name: fk_date_exclue_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY date_exclue
    ADD CONSTRAINT fk_date_exclue_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5321 (class 2606 OID 670694)
-- Dependencies: 4539 435 445
-- Name: fk_evenement_agenda; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_agenda FOREIGN KEY (agenda_maitre_id) REFERENCES agenda(id) ON DELETE CASCADE;


--
-- TOC entry 5320 (class 2606 OID 670699)
-- Dependencies: 4056 233 445
-- Name: fk_evenement_autorite; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_autorite FOREIGN KEY (auteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5319 (class 2606 OID 670704)
-- Dependencies: 4076 241 445
-- Name: fk_evenement_enseignement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent.enseignement(id);


--
-- TOC entry 5318 (class 2606 OID 670709)
-- Dependencies: 4647 487 445
-- Name: fk_evenement_type_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_type_evenement FOREIGN KEY (type_id) REFERENCES type_evenement(id);


--
-- TOC entry 5322 (class 2606 OID 670714)
-- Dependencies: 4595 461 447
-- Name: fk_groupe_motif_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT fk_groupe_motif_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5326 (class 2606 OID 670719)
-- Dependencies: 4081 243 449
-- Name: fk_incident_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5325 (class 2606 OID 670724)
-- Dependencies: 4574 451 449
-- Name: fk_incident_lieu_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_lieu_incident FOREIGN KEY (lieu_id) REFERENCES lieu_incident(id);


--
-- TOC entry 5324 (class 2606 OID 670729)
-- Dependencies: 4595 461 449
-- Name: fk_incident_preference_etablissement_abscences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_preference_etablissement_abscences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5323 (class 2606 OID 670734)
-- Dependencies: 4652 489 449
-- Name: fk_incident_type_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_type_incident FOREIGN KEY (type_id) REFERENCES type_incident(id);


--
-- TOC entry 5327 (class 2606 OID 670739)
-- Dependencies: 4595 461 451
-- Name: fk_lieu_incident_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT fk_lieu_incident_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5328 (class 2606 OID 670744)
-- Dependencies: 4565 447 453
-- Name: fk_motif_groupe_motif; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT fk_motif_groupe_motif FOREIGN KEY (groupe_motif_id) REFERENCES groupe_motif(id) ON DELETE CASCADE;


--
-- TOC entry 5331 (class 2606 OID 670749)
-- Dependencies: 4571 449 456
-- Name: fk_partenaire_a_prevenir_incident_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT fk_partenaire_a_prevenir_incident_incident FOREIGN KEY (incident_id) REFERENCES incident(id) ON DELETE CASCADE;


--
-- TOC entry 5330 (class 2606 OID 670754)
-- Dependencies: 4583 455 456
-- Name: fk_partenaire_a_prevenir_incident_partenaire_a_prevenir; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT fk_partenaire_a_prevenir_incident_partenaire_a_prevenir FOREIGN KEY (partenaire_a_prevenir_id) REFERENCES partenaire_a_prevenir(id);


--
-- TOC entry 5329 (class 2606 OID 670759)
-- Dependencies: 4595 461 455
-- Name: fk_partenaire_a_prevenir_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT fk_partenaire_a_prevenir_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5332 (class 2606 OID 670764)
-- Dependencies: 4595 461 459
-- Name: fk_plage_horaire_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY plage_horaire
    ADD CONSTRAINT fk_plage_horaire_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id) ON DELETE CASCADE;


--
-- TOC entry 5335 (class 2606 OID 670769)
-- Dependencies: 4062 235 461
-- Name: fk_preference_etablissement_absences_annee_scolaire; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5334 (class 2606 OID 670774)
-- Dependencies: 4081 243 461
-- Name: fk_preference_etablissement_absences_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5333 (class 2606 OID 670779)
-- Dependencies: 4833 565 461
-- Name: fk_preference_etablissement_absences_item; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_item FOREIGN KEY (param_item_id) REFERENCES securite.item(id);


--
-- TOC entry 5337 (class 2606 OID 670784)
-- Dependencies: 4539 435 463
-- Name: fk_preference_utilisateur_agenda_agenda; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur_agenda
    ADD CONSTRAINT fk_preference_utilisateur_agenda_agenda FOREIGN KEY (agenda_id) REFERENCES agenda(id) ON DELETE CASCADE;


--
-- TOC entry 5336 (class 2606 OID 670789)
-- Dependencies: 4056 233 463
-- Name: fk_preference_utilisateur_agenda_autorite; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur_agenda
    ADD CONSTRAINT fk_preference_utilisateur_agenda_autorite FOREIGN KEY (utilisateur_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5340 (class 2606 OID 670794)
-- Dependencies: 4056 233 465
-- Name: fk_protagoniste_incident_autorite; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5339 (class 2606 OID 670799)
-- Dependencies: 4571 449 465
-- Name: fk_protagoniste_incident_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_incident FOREIGN KEY (incident_id) REFERENCES incident(id) ON DELETE CASCADE;


--
-- TOC entry 5338 (class 2606 OID 670804)
-- Dependencies: 4615 469 465
-- Name: fk_protagoniste_incident_qualite_protagoniste; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_qualite_protagoniste FOREIGN KEY (qualite_id) REFERENCES qualite_protagoniste(id);


--
-- TOC entry 5346 (class 2606 OID 670809)
-- Dependencies: 4081 243 467
-- Name: fk_punition_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5345 (class 2606 OID 670814)
-- Dependencies: 4571 449 467
-- Name: fk_punition_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_incident FOREIGN KEY (incident_id) REFERENCES incident(id);


--
-- TOC entry 5344 (class 2606 OID 670819)
-- Dependencies: 4051 232 467
-- Name: fk_punition_personne_censeur; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_personne_censeur FOREIGN KEY (censeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5343 (class 2606 OID 670824)
-- Dependencies: 4051 232 467
-- Name: fk_punition_personne_eleve; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_personne_eleve FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5342 (class 2606 OID 670829)
-- Dependencies: 4595 461 467
-- Name: fk_punition_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5341 (class 2606 OID 670834)
-- Dependencies: 4657 491 467
-- Name: fk_punition_type_punition; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_type_punition FOREIGN KEY (type_punition_id) REFERENCES type_punition(id);


--
-- TOC entry 5347 (class 2606 OID 670839)
-- Dependencies: 4595 461 469
-- Name: fk_qualite_protagoniste_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT fk_qualite_protagoniste_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5349 (class 2606 OID 670844)
-- Dependencies: 4539 435 471
-- Name: fk_rel_agenda_evenement_agenda; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT fk_rel_agenda_evenement_agenda FOREIGN KEY (agenda_id) REFERENCES agenda(id) ON DELETE CASCADE;


--
-- TOC entry 5348 (class 2606 OID 670849)
-- Dependencies: 4563 445 471
-- Name: fk_rel_agenda_evenement_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT fk_rel_agenda_evenement_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5350 (class 2606 OID 670854)
-- Dependencies: 4563 445 473
-- Name: fk_repeter_jour_annee_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY repeter_jour_annee
    ADD CONSTRAINT fk_repeter_jour_annee_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5351 (class 2606 OID 670859)
-- Dependencies: 4563 445 475
-- Name: fk_repeter_jour_mois_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY repeter_jour_mois
    ADD CONSTRAINT fk_repeter_jour_mois_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5352 (class 2606 OID 670864)
-- Dependencies: 4563 445 477
-- Name: fk_repeter_jour_semaine_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY repeter_jour_semaine
    ADD CONSTRAINT fk_repeter_jour_semaine_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5353 (class 2606 OID 670869)
-- Dependencies: 4563 445 479
-- Name: fk_repeter_mois_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY repeter_mois
    ADD CONSTRAINT fk_repeter_mois_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5354 (class 2606 OID 670874)
-- Dependencies: 4563 445 481
-- Name: fk_repeter_semaine_annee_evenement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY repeter_semaine_annee
    ADD CONSTRAINT fk_repeter_semaine_annee_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5361 (class 2606 OID 670879)
-- Dependencies: 4081 243 483
-- Name: fk_sanction_etablissement; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5360 (class 2606 OID 670884)
-- Dependencies: 4571 449 483
-- Name: fk_sanction_incident; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_incident FOREIGN KEY (incident_id) REFERENCES incident(id);


--
-- TOC entry 5359 (class 2606 OID 670889)
-- Dependencies: 4578 453 483
-- Name: fk_sanction_motif; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_motif FOREIGN KEY (motif_id) REFERENCES motif(id);


--
-- TOC entry 5358 (class 2606 OID 670894)
-- Dependencies: 4051 232 483
-- Name: fk_sanction_personne_censeur; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_personne_censeur FOREIGN KEY (censeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5357 (class 2606 OID 670899)
-- Dependencies: 4051 232 483
-- Name: fk_sanction_personne_eleve; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_personne_eleve FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5356 (class 2606 OID 670904)
-- Dependencies: 4595 461 483
-- Name: fk_sanction_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5355 (class 2606 OID 670909)
-- Dependencies: 4662 493 483
-- Name: fk_sanction_type_sanction; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_type_sanction FOREIGN KEY (type_sanction_id) REFERENCES type_sanction(id);


--
-- TOC entry 5362 (class 2606 OID 670914)
-- Dependencies: 4595 461 489
-- Name: fk_type_incident_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT fk_type_incident_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5363 (class 2606 OID 670919)
-- Dependencies: 4595 461 491
-- Name: fk_type_punition_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT fk_type_punition_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5364 (class 2606 OID 670924)
-- Dependencies: 4595 461 493
-- Name: fk_type_sanction_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT fk_type_sanction_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


SET search_path = enttemps_2011_2012, pg_catalog;

--
-- TOC entry 5366 (class 2606 OID 670929)
-- Dependencies: 4081 243 495
-- Name: fk_absence_journee_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT fk_absence_journee_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5365 (class 2606 OID 670934)
-- Dependencies: 4714 509 495
-- Name: fk_absence_journee_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY absence_journee
    ADD CONSTRAINT fk_absence_journee_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5371 (class 2606 OID 670939)
-- Dependencies: 4056 233 496
-- Name: fk_agenda_autorite; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_autorite FOREIGN KEY (enseignant_id) REFERENCES securite.autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5370 (class 2606 OID 670944)
-- Dependencies: 4081 243 496
-- Name: fk_agenda_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id) ON DELETE CASCADE;


--
-- TOC entry 5369 (class 2606 OID 670949)
-- Dependencies: 4833 565 496
-- Name: fk_agenda_item; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_item FOREIGN KEY (item_id) REFERENCES securite.item(id);


--
-- TOC entry 5368 (class 2606 OID 670954)
-- Dependencies: 4256 316 496
-- Name: fk_agenda_structure_enseignement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent_2011_2012.structure_enseignement(id);


--
-- TOC entry 5367 (class 2606 OID 670959)
-- Dependencies: 4643 485 496
-- Name: fk_agenda_type_agenda; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY agenda
    ADD CONSTRAINT fk_agenda_type_agenda FOREIGN KEY (type_agenda_id) REFERENCES enttemps.type_agenda(id);


--
-- TOC entry 5375 (class 2606 OID 670964)
-- Dependencies: 4056 233 497
-- Name: fk_appel_autorite_appelant; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_autorite_appelant FOREIGN KEY (appelant_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5374 (class 2606 OID 670969)
-- Dependencies: 4056 233 497
-- Name: fk_appel_autorite_operateur_saisie; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_autorite_operateur_saisie FOREIGN KEY (operateur_saisie_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5373 (class 2606 OID 670974)
-- Dependencies: 4686 501 497
-- Name: fk_appel_evenement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id);


--
-- TOC entry 5376 (class 2606 OID 670979)
-- Dependencies: 4666 495 498
-- Name: fk_appel_ligne_absence_journee; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_absence_journee FOREIGN KEY (absence_journee_id) REFERENCES absence_journee(id) ON DELETE CASCADE;


--
-- TOC entry 5377 (class 2606 OID 670984)
-- Dependencies: 4672 497 498
-- Name: fk_appel_ligne_appel; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_appel FOREIGN KEY (appel_id) REFERENCES appel(id) ON DELETE CASCADE;


--
-- TOC entry 5378 (class 2606 OID 670989)
-- Dependencies: 4056 233 498
-- Name: fk_appel_ligne_autorite_eleve; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_autorite_eleve FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5379 (class 2606 OID 670994)
-- Dependencies: 4056 233 498
-- Name: fk_appel_ligne_autorite_operateur_saisie; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_autorite_operateur_saisie FOREIGN KEY (operateur_saisie_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5380 (class 2606 OID 670999)
-- Dependencies: 4700 505 498
-- Name: fk_appel_ligne_motif; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_motif FOREIGN KEY (motif_id) REFERENCES motif(id);


--
-- TOC entry 5381 (class 2606 OID 671004)
-- Dependencies: 4730 514 498
-- Name: fk_appel_ligne_sanction; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_ligne
    ADD CONSTRAINT fk_appel_ligne_sanction FOREIGN KEY (sanction_id) REFERENCES sanction(id);


--
-- TOC entry 5383 (class 2606 OID 671009)
-- Dependencies: 4672 497 499
-- Name: fk_appel_plage_horaire_appel; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT fk_appel_plage_horaire_appel FOREIGN KEY (appel_id) REFERENCES appel(id) ON DELETE CASCADE;


--
-- TOC entry 5382 (class 2606 OID 671014)
-- Dependencies: 4712 508 499
-- Name: fk_appel_plage_horaire_plage_horaire; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel_plage_horaire
    ADD CONSTRAINT fk_appel_plage_horaire_plage_horaire FOREIGN KEY (plage_horaire_id) REFERENCES plage_horaire(id) ON DELETE CASCADE;


--
-- TOC entry 5372 (class 2606 OID 671019)
-- Dependencies: 4714 509 497
-- Name: fk_appel_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY appel
    ADD CONSTRAINT fk_appel_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5387 (class 2606 OID 671024)
-- Dependencies: 4670 496 501
-- Name: fk_evenement_agenda; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_agenda FOREIGN KEY (agenda_maitre_id) REFERENCES agenda(id) ON DELETE CASCADE;


--
-- TOC entry 5386 (class 2606 OID 671029)
-- Dependencies: 4056 233 501
-- Name: fk_evenement_autorite; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_autorite FOREIGN KEY (auteur_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5385 (class 2606 OID 671034)
-- Dependencies: 4216 304 501
-- Name: fk_evenement_enseignement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_enseignement FOREIGN KEY (enseignement_id) REFERENCES ent_2011_2012.enseignement(id);


--
-- TOC entry 5384 (class 2606 OID 671039)
-- Dependencies: 4647 487 501
-- Name: fk_evenement_type_evenement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_type_evenement FOREIGN KEY (type_id) REFERENCES enttemps.type_evenement(id);


--
-- TOC entry 5388 (class 2606 OID 671044)
-- Dependencies: 4714 509 502
-- Name: fk_groupe_motif_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY groupe_motif
    ADD CONSTRAINT fk_groupe_motif_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5392 (class 2606 OID 671049)
-- Dependencies: 4081 243 503
-- Name: fk_incident_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5391 (class 2606 OID 671054)
-- Dependencies: 4696 504 503
-- Name: fk_incident_lieu_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_lieu_incident FOREIGN KEY (lieu_id) REFERENCES lieu_incident(id);


--
-- TOC entry 5390 (class 2606 OID 671059)
-- Dependencies: 4714 509 503
-- Name: fk_incident_preference_etablissement_abscences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_preference_etablissement_abscences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5389 (class 2606 OID 671064)
-- Dependencies: 4732 515 503
-- Name: fk_incident_type_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY incident
    ADD CONSTRAINT fk_incident_type_incident FOREIGN KEY (type_id) REFERENCES type_incident(id);


--
-- TOC entry 5393 (class 2606 OID 671069)
-- Dependencies: 4714 509 504
-- Name: fk_lieu_incident_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY lieu_incident
    ADD CONSTRAINT fk_lieu_incident_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5394 (class 2606 OID 671074)
-- Dependencies: 4688 502 505
-- Name: fk_motif_groupe_motif; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY motif
    ADD CONSTRAINT fk_motif_groupe_motif FOREIGN KEY (groupe_motif_id) REFERENCES groupe_motif(id) ON DELETE CASCADE;


--
-- TOC entry 5397 (class 2606 OID 671079)
-- Dependencies: 4694 503 507
-- Name: fk_partenaire_a_prevenir_incident_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT fk_partenaire_a_prevenir_incident_incident FOREIGN KEY (incident_id) REFERENCES incident(id) ON DELETE CASCADE;


--
-- TOC entry 5396 (class 2606 OID 671084)
-- Dependencies: 4704 506 507
-- Name: fk_partenaire_a_prevenir_incident_partenaire_a_prevenir; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir_incident
    ADD CONSTRAINT fk_partenaire_a_prevenir_incident_partenaire_a_prevenir FOREIGN KEY (partenaire_a_prevenir_id) REFERENCES partenaire_a_prevenir(id);


--
-- TOC entry 5395 (class 2606 OID 671089)
-- Dependencies: 4714 509 506
-- Name: fk_partenaire_a_prevenir_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY partenaire_a_prevenir
    ADD CONSTRAINT fk_partenaire_a_prevenir_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5398 (class 2606 OID 671094)
-- Dependencies: 4714 509 508
-- Name: fk_plage_horaire_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY plage_horaire
    ADD CONSTRAINT fk_plage_horaire_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id) ON DELETE CASCADE;


--
-- TOC entry 5401 (class 2606 OID 671099)
-- Dependencies: 4062 235 509
-- Name: fk_preference_etablissement_absences_annee_scolaire; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_annee_scolaire FOREIGN KEY (annee_scolaire_id) REFERENCES ent.annee_scolaire(id);


--
-- TOC entry 5400 (class 2606 OID 671104)
-- Dependencies: 4081 243 509
-- Name: fk_preference_etablissement_absences_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5399 (class 2606 OID 671109)
-- Dependencies: 4833 565 509
-- Name: fk_preference_etablissement_absences_item; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_etablissement_absences
    ADD CONSTRAINT fk_preference_etablissement_absences_item FOREIGN KEY (param_item_id) REFERENCES securite.item(id);


--
-- TOC entry 5404 (class 2606 OID 671114)
-- Dependencies: 4056 233 510
-- Name: fk_protagoniste_incident_autorite; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5403 (class 2606 OID 671119)
-- Dependencies: 4694 503 510
-- Name: fk_protagoniste_incident_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_incident FOREIGN KEY (incident_id) REFERENCES incident(id) ON DELETE CASCADE;


--
-- TOC entry 5402 (class 2606 OID 671124)
-- Dependencies: 4722 512 510
-- Name: fk_protagoniste_incident_qualite_protagoniste; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY protagoniste_incident
    ADD CONSTRAINT fk_protagoniste_incident_qualite_protagoniste FOREIGN KEY (qualite_id) REFERENCES qualite_protagoniste(id);


--
-- TOC entry 5410 (class 2606 OID 671129)
-- Dependencies: 4081 243 511
-- Name: fk_punition_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5409 (class 2606 OID 671134)
-- Dependencies: 4694 503 511
-- Name: fk_punition_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_incident FOREIGN KEY (incident_id) REFERENCES incident(id);


--
-- TOC entry 5408 (class 2606 OID 671139)
-- Dependencies: 4051 232 511
-- Name: fk_punition_personne_censeur; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_personne_censeur FOREIGN KEY (censeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5407 (class 2606 OID 671144)
-- Dependencies: 4051 232 511
-- Name: fk_punition_personne_eleve; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_personne_eleve FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5406 (class 2606 OID 671149)
-- Dependencies: 4714 509 511
-- Name: fk_punition_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5405 (class 2606 OID 671154)
-- Dependencies: 4736 516 511
-- Name: fk_punition_type_punition; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY punition
    ADD CONSTRAINT fk_punition_type_punition FOREIGN KEY (type_punition_id) REFERENCES type_punition(id);


--
-- TOC entry 5411 (class 2606 OID 671159)
-- Dependencies: 4714 509 512
-- Name: fk_qualite_protagoniste_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY qualite_protagoniste
    ADD CONSTRAINT fk_qualite_protagoniste_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5413 (class 2606 OID 671164)
-- Dependencies: 4670 496 513
-- Name: fk_rel_agenda_evenement_agenda; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT fk_rel_agenda_evenement_agenda FOREIGN KEY (agenda_id) REFERENCES agenda(id) ON DELETE CASCADE;


--
-- TOC entry 5412 (class 2606 OID 671169)
-- Dependencies: 4686 501 513
-- Name: fk_rel_agenda_evenement_evenement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY rel_agenda_evenement
    ADD CONSTRAINT fk_rel_agenda_evenement_evenement FOREIGN KEY (evenement_id) REFERENCES evenement(id) ON DELETE CASCADE;


--
-- TOC entry 5420 (class 2606 OID 671174)
-- Dependencies: 4081 243 514
-- Name: fk_sanction_etablissement; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5419 (class 2606 OID 671179)
-- Dependencies: 4694 503 514
-- Name: fk_sanction_incident; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_incident FOREIGN KEY (incident_id) REFERENCES incident(id);


--
-- TOC entry 5418 (class 2606 OID 671184)
-- Dependencies: 4700 505 514
-- Name: fk_sanction_motif; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_motif FOREIGN KEY (motif_id) REFERENCES motif(id);


--
-- TOC entry 5417 (class 2606 OID 671189)
-- Dependencies: 4051 232 514
-- Name: fk_sanction_personne_censeur; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_personne_censeur FOREIGN KEY (censeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5416 (class 2606 OID 671194)
-- Dependencies: 4051 232 514
-- Name: fk_sanction_personne_eleve; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_personne_eleve FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5415 (class 2606 OID 671199)
-- Dependencies: 4714 509 514
-- Name: fk_sanction_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5414 (class 2606 OID 671204)
-- Dependencies: 4740 517 514
-- Name: fk_sanction_type_sanction; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY sanction
    ADD CONSTRAINT fk_sanction_type_sanction FOREIGN KEY (type_sanction_id) REFERENCES type_sanction(id);


--
-- TOC entry 5421 (class 2606 OID 671209)
-- Dependencies: 4714 509 515
-- Name: fk_type_incident_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_incident
    ADD CONSTRAINT fk_type_incident_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5422 (class 2606 OID 671214)
-- Dependencies: 4714 509 516
-- Name: fk_type_punition_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_punition
    ADD CONSTRAINT fk_type_punition_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


--
-- TOC entry 5423 (class 2606 OID 671219)
-- Dependencies: 4714 509 517
-- Name: fk_type_sanction_preference_etablissement_absences; Type: FK CONSTRAINT; Schema: enttemps_2011_2012; Owner: eliot_scolarite
--

ALTER TABLE ONLY type_sanction
    ADD CONSTRAINT fk_type_sanction_preference_etablissement_absences FOREIGN KEY (preference_etablissement_absences_id) REFERENCES preference_etablissement_absences(id);


SET search_path = forum, pg_catalog;

--
-- TOC entry 5426 (class 2606 OID 671224)
-- Dependencies: 4056 233 518
-- Name: fk_commentaire_autorite; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire
    ADD CONSTRAINT fk_commentaire_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5425 (class 2606 OID 671229)
-- Dependencies: 4750 521 518
-- Name: fk_commentaire_discussion; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire
    ADD CONSTRAINT fk_commentaire_discussion FOREIGN KEY (discussion_id) REFERENCES discussion(id) ON DELETE CASCADE;


--
-- TOC entry 5424 (class 2606 OID 671234)
-- Dependencies: 4752 523 518
-- Name: fk_commentaire_etat_commentaire; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire
    ADD CONSTRAINT fk_commentaire_etat_commentaire FOREIGN KEY (code_etat_commentaire) REFERENCES etat_commentaire(code);


--
-- TOC entry 5428 (class 2606 OID 671239)
-- Dependencies: 4056 233 520
-- Name: fk_commentaire_lu_autorite; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire_lu
    ADD CONSTRAINT fk_commentaire_lu_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5427 (class 2606 OID 671244)
-- Dependencies: 4745 518 520
-- Name: fk_commentaire_lu_commentaire; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY commentaire_lu
    ADD CONSTRAINT fk_commentaire_lu_commentaire FOREIGN KEY (commentaire_id) REFERENCES commentaire(id) ON DELETE CASCADE;


--
-- TOC entry 5432 (class 2606 OID 671249)
-- Dependencies: 4056 233 521
-- Name: fk_discussion_autorite; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY discussion
    ADD CONSTRAINT fk_discussion_autorite FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5431 (class 2606 OID 671254)
-- Dependencies: 4754 524 521
-- Name: fk_discussion_etat_discussion; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY discussion
    ADD CONSTRAINT fk_discussion_etat_discussion FOREIGN KEY (code_etat_discussion) REFERENCES etat_discussion(code);


--
-- TOC entry 5430 (class 2606 OID 671259)
-- Dependencies: 4833 565 521
-- Name: fk_discussion_item; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY discussion
    ADD CONSTRAINT fk_discussion_item FOREIGN KEY (item_cible_id) REFERENCES securite.item(id) ON DELETE CASCADE;


--
-- TOC entry 5429 (class 2606 OID 671264)
-- Dependencies: 4756 525 521
-- Name: fk_discussion_type_moderation; Type: FK CONSTRAINT; Schema: forum; Owner: eliot_scolarite
--

ALTER TABLE ONLY discussion
    ADD CONSTRAINT fk_discussion_type_moderation FOREIGN KEY (code_type_moderation) REFERENCES type_moderation(code);


SET search_path = impression, pg_catalog;

--
-- TOC entry 5520 (class 2606 OID 671741)
-- Dependencies: 4188 293 611
-- Name: fk_bulletin_options_classe_id; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY bulletin_options
    ADD CONSTRAINT fk_bulletin_options_classe_id FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5521 (class 2606 OID 671730)
-- Dependencies: 4776 534 611
-- Name: fk_bulletin_options_template_document_id; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY bulletin_options
    ADD CONSTRAINT fk_bulletin_options_template_document_id FOREIGN KEY (template_document_id) REFERENCES template_document(id);


--
-- TOC entry 5433 (class 2606 OID 671269)
-- Dependencies: 4081 243 526
-- Name: fk_publipostage_suivi_etablissement; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5434 (class 2606 OID 671274)
-- Dependencies: 4051 232 526
-- Name: fk_publipostage_suivi_personne_operateur; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_personne_operateur FOREIGN KEY (operateur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5435 (class 2606 OID 671279)
-- Dependencies: 4051 232 526
-- Name: fk_publipostage_suivi_personne_personne; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_personne_personne FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5436 (class 2606 OID 671284)
-- Dependencies: 4051 232 526
-- Name: fk_publipostage_suivi_responsable; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_responsable FOREIGN KEY (responsable_id) REFERENCES ent.personne(id);


--
-- TOC entry 5437 (class 2606 OID 671289)
-- Dependencies: 4765 529 526
-- Name: fk_publipostage_suivi_sms_fournisseur_etablissement; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_sms_fournisseur_etablissement FOREIGN KEY (sms_fournisseur_etablissement_id) REFERENCES sms_fournisseur_etablissement(id);


--
-- TOC entry 5438 (class 2606 OID 671294)
-- Dependencies: 4188 293 526
-- Name: fk_publipostage_suivi_structure_enseignement; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_structure_enseignement FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5439 (class 2606 OID 671299)
-- Dependencies: 4776 534 526
-- Name: fk_publipostage_suivi_template_document; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_template_document FOREIGN KEY (template_document_id) REFERENCES template_document(id) ON DELETE SET NULL;


--
-- TOC entry 5440 (class 2606 OID 671304)
-- Dependencies: 4801 544 526
-- Name: fk_publipostage_suivi_template_type_fonctionnalite; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY publipostage_suivi
    ADD CONSTRAINT fk_publipostage_suivi_template_type_fonctionnalite FOREIGN KEY (type_fonctionnalite_id) REFERENCES template_type_fonctionnalite(id);


--
-- TOC entry 5442 (class 2606 OID 671309)
-- Dependencies: 4081 243 529
-- Name: fk_sms_fournisseur_etablissement_etablissement; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY sms_fournisseur_etablissement
    ADD CONSTRAINT fk_sms_fournisseur_etablissement_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5441 (class 2606 OID 671314)
-- Dependencies: 4763 528 529
-- Name: fk_sms_fournisseur_etablissement_sms_fournisseur; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY sms_fournisseur_etablissement
    ADD CONSTRAINT fk_sms_fournisseur_etablissement_sms_fournisseur FOREIGN KEY (sms_fournisseur_id) REFERENCES sms_fournisseur(id);


--
-- TOC entry 5443 (class 2606 OID 671319)
-- Dependencies: 4776 534 532
-- Name: fk_template_champ_memo_template_document; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_champ_memo
    ADD CONSTRAINT fk_template_champ_memo_template_document FOREIGN KEY (template_document_id) REFERENCES template_document(id);


--
-- TOC entry 5445 (class 2606 OID 671324)
-- Dependencies: 4081 243 534
-- Name: fk_template_document_etablissement; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_document
    ADD CONSTRAINT fk_template_document_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5447 (class 2606 OID 671329)
-- Dependencies: 4776 534 536
-- Name: fk_template_document_sous_template_eliot_template_document; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_document_sous_template_eliot
    ADD CONSTRAINT fk_template_document_sous_template_eliot_template_document FOREIGN KEY (template_document_id) REFERENCES template_document(id);


--
-- TOC entry 5446 (class 2606 OID 671334)
-- Dependencies: 4788 538 536
-- Name: fk_template_document_sous_template_eliot_template_eliot; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_document_sous_template_eliot
    ADD CONSTRAINT fk_template_document_sous_template_eliot_template_eliot FOREIGN KEY (template_eliot_id) REFERENCES template_eliot(id);


--
-- TOC entry 5444 (class 2606 OID 671339)
-- Dependencies: 4788 538 534
-- Name: fk_template_document_template_eliot; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_document
    ADD CONSTRAINT fk_template_document_template_eliot FOREIGN KEY (template_eliot_id) REFERENCES template_eliot(id);


--
-- TOC entry 5450 (class 2606 OID 671344)
-- Dependencies: 4793 540 538
-- Name: fk_template_eliot_template_jasper; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_eliot
    ADD CONSTRAINT fk_template_eliot_template_jasper FOREIGN KEY (template_jasper_id) REFERENCES template_jasper(id);


--
-- TOC entry 5449 (class 2606 OID 671349)
-- Dependencies: 4795 542 538
-- Name: fk_template_eliot_template_type_donnees; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_eliot
    ADD CONSTRAINT fk_template_eliot_template_type_donnees FOREIGN KEY (type_donnees_id) REFERENCES template_type_donnees(id);


--
-- TOC entry 5448 (class 2606 OID 671354)
-- Dependencies: 4801 544 538
-- Name: fk_template_eliot_template_type_fonctionnalite; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_eliot
    ADD CONSTRAINT fk_template_eliot_template_type_fonctionnalite FOREIGN KEY (type_fonctionnalite_id) REFERENCES template_type_fonctionnalite(id);


--
-- TOC entry 5451 (class 2606 OID 671359)
-- Dependencies: 4793 540 540
-- Name: fk_template_jasper_template_jasper; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_jasper
    ADD CONSTRAINT fk_template_jasper_template_jasper FOREIGN KEY (sous_template_id) REFERENCES template_jasper(id);


--
-- TOC entry 5452 (class 2606 OID 671364)
-- Dependencies: 4801 544 544
-- Name: fk_template_type_fonctionnalite_template_type_fonctionnalite; Type: FK CONSTRAINT; Schema: impression; Owner: eliot_scolarite
--

ALTER TABLE ONLY template_type_fonctionnalite
    ADD CONSTRAINT fk_template_type_fonctionnalite_template_type_fonctionnalite FOREIGN KEY (parent_id) REFERENCES template_type_fonctionnalite(id);


SET search_path = notification, pg_catalog;

--
-- TOC entry 5454 (class 2606 OID 671369)
-- Dependencies: 4097 251 546
-- Name: fk_droit_fonction_fonction_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY droit_fonction
    ADD CONSTRAINT fk_droit_fonction_fonction_id FOREIGN KEY (fonction_id) REFERENCES ent.fonction(id);


--
-- TOC entry 5453 (class 2606 OID 671374)
-- Dependencies: 4809 550 546
-- Name: fk_droit_fonction_notification_type_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY droit_fonction
    ADD CONSTRAINT fk_droit_fonction_notification_type_id FOREIGN KEY (notification_type_id) REFERENCES notification_type(id);


--
-- TOC entry 5455 (class 2606 OID 671379)
-- Dependencies: 4056 233 548
-- Name: fk_email_notification_autorite_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY email_notification
    ADD CONSTRAINT fk_email_notification_autorite_id FOREIGN KEY (autorite_id) REFERENCES securite.autorite(id);


--
-- TOC entry 5461 (class 2606 OID 671384)
-- Dependencies: 4051 232 554
-- Name: fk_parametrage_desactivation_utilisateur_personne_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur
    ADD CONSTRAINT fk_parametrage_desactivation_utilisateur_personne_id FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5458 (class 2606 OID 671389)
-- Dependencies: 4081 243 552
-- Name: fk_parametrage_etablissement_etablissement_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY parametrage_etablissement
    ADD CONSTRAINT fk_parametrage_etablissement_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5457 (class 2606 OID 671394)
-- Dependencies: 4097 251 552
-- Name: fk_parametrage_etablissement_fonction_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY parametrage_etablissement
    ADD CONSTRAINT fk_parametrage_etablissement_fonction_id FOREIGN KEY (fonction_id) REFERENCES ent.fonction(id);


--
-- TOC entry 5456 (class 2606 OID 671399)
-- Dependencies: 4809 550 552
-- Name: fk_parametrage_etablissement_notification_type_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY parametrage_etablissement
    ADD CONSTRAINT fk_parametrage_etablissement_notification_type_id FOREIGN KEY (notification_type_id) REFERENCES notification_type(id);


--
-- TOC entry 5460 (class 2606 OID 671404)
-- Dependencies: 4081 243 554
-- Name: fk_preference_utilisateur_etablissement_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur
    ADD CONSTRAINT fk_preference_utilisateur_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5459 (class 2606 OID 671409)
-- Dependencies: 4809 550 554
-- Name: fk_preference_utilisateur_notification_type_id; Type: FK CONSTRAINT; Schema: notification; Owner: eliot_scolarite
--

ALTER TABLE ONLY preference_utilisateur
    ADD CONSTRAINT fk_preference_utilisateur_notification_type_id FOREIGN KEY (notification_type_id) REFERENCES notification_type(id);


SET search_path = parametrage_classe, pg_catalog;

--
-- TOC entry 5537 (class 2606 OID 671956)
-- Dependencies: 4953 622 623
-- Name: fk_creation_sous_services_etat_creation_sous_services_sous_mati; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services_etat
    ADD CONSTRAINT fk_creation_sous_services_etat_creation_sous_services_sous_mati FOREIGN KEY (creation_sous_services_sous_matiere_id) REFERENCES creation_sous_services_sous_matiere(id) ON DELETE CASCADE;


--
-- TOC entry 5538 (class 2606 OID 671949)
-- Dependencies: 4174 286 623
-- Name: fk_creation_sous_services_etat_service; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services_etat
    ADD CONSTRAINT fk_creation_sous_services_etat_service FOREIGN KEY (service_id) REFERENCES ent.service(id);


--
-- TOC entry 5535 (class 2606 OID 671961)
-- Dependencies: 4951 620 622
-- Name: fk_creation_sous_services_sous_matiere_creation_sous_services; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services_sous_matiere
    ADD CONSTRAINT fk_creation_sous_services_sous_matiere_creation_sous_services FOREIGN KEY (creation_sous_services_id) REFERENCES creation_sous_services(id) ON DELETE CASCADE;


--
-- TOC entry 5536 (class 2606 OID 671900)
-- Dependencies: 4117 261 622
-- Name: fk_creation_sous_services_sous_matiere_modalite_matiere; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services_sous_matiere
    ADD CONSTRAINT fk_creation_sous_services_sous_matiere_modalite_matiere FOREIGN KEY (modalite_matiere_id) REFERENCES ent.modalite_matiere(id) ON DELETE CASCADE;


--
-- TOC entry 5534 (class 2606 OID 671852)
-- Dependencies: 4188 293 620
-- Name: fk_creation_sous_services_structure_enseignement; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_structure_enseignement FOREIGN KEY (classe_id) REFERENCES ent.structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5533 (class 2606 OID 671857)
-- Dependencies: 4206 301 620
-- Name: fk_creation_sous_services_type_periode; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_type_periode FOREIGN KEY (type_periode_id) REFERENCES ent.type_periode(id) ON DELETE CASCADE;


--
-- TOC entry 5532 (class 2606 OID 671927)
-- Dependencies: 4206 301 620
-- Name: fk_creation_sous_services_type_periode_coefficient1; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_type_periode_coefficient1 FOREIGN KEY (type_periode_coefficient1_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5531 (class 2606 OID 671932)
-- Dependencies: 4206 301 620
-- Name: fk_creation_sous_services_type_periode_coefficient2; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_type_periode_coefficient2 FOREIGN KEY (type_periode_coefficient2_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5530 (class 2606 OID 671937)
-- Dependencies: 4206 301 620
-- Name: fk_creation_sous_services_type_periode_coefficient3; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_type_periode_coefficient3 FOREIGN KEY (type_periode_coefficient3_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5529 (class 2606 OID 671942)
-- Dependencies: 4206 301 620
-- Name: fk_creation_sous_services_type_periode_coefficient4; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY creation_sous_services
    ADD CONSTRAINT fk_creation_sous_services_type_periode_coefficient4 FOREIGN KEY (type_periode_coefficient4_id) REFERENCES ent.type_periode(id);


--
-- TOC entry 5524 (class 2606 OID 671795)
-- Dependencies: 4081 243 614
-- Name: fk_report_etablissement; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report
    ADD CONSTRAINT fk_report_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id) ON DELETE CASCADE;


--
-- TOC entry 5522 (class 2606 OID 671758)
-- Dependencies: 4188 293 614
-- Name: fk_report_structure_enseignement; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report
    ADD CONSTRAINT fk_report_structure_enseignement FOREIGN KEY (classe_source_id) REFERENCES ent.structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5525 (class 2606 OID 671779)
-- Dependencies: 4942 614 616
-- Name: fk_report_traitement_report; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report_traitement
    ADD CONSTRAINT fk_report_traitement_report FOREIGN KEY (report_id) REFERENCES report(id) ON DELETE CASCADE;


--
-- TOC entry 5526 (class 2606 OID 671784)
-- Dependencies: 4174 286 616
-- Name: fk_report_traitement_service; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report_traitement
    ADD CONSTRAINT fk_report_traitement_service FOREIGN KEY (service_cible_id) REFERENCES ent.service(id) ON DELETE CASCADE;


--
-- TOC entry 5527 (class 2606 OID 671789)
-- Dependencies: 4188 293 616
-- Name: fk_report_traitement_structure_enseignememt; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report_traitement
    ADD CONSTRAINT fk_report_traitement_structure_enseignememt FOREIGN KEY (classe_cible_id) REFERENCES ent.structure_enseignement(id) ON DELETE CASCADE;


--
-- TOC entry 5523 (class 2606 OID 671763)
-- Dependencies: 4206 301 614
-- Name: fk_report_type_periode; Type: FK CONSTRAINT; Schema: parametrage_classe; Owner: eliot_scolarite
--

ALTER TABLE ONLY report
    ADD CONSTRAINT fk_report_type_periode FOREIGN KEY (type_periode_id) REFERENCES ent.type_periode(id) ON DELETE CASCADE;


SET search_path = securite, pg_catalog;

--
-- TOC entry 5545 (class 2606 OID 672055)
-- Dependencies: 4097 251 632
-- Name: fk_acces_fonctionnalite_fonction_defaut_fonction; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_fonction_defaut
    ADD CONSTRAINT fk_acces_fonctionnalite_fonction_defaut_fonction FOREIGN KEY (fonction_id) REFERENCES ent.fonction(id);


--
-- TOC entry 5546 (class 2606 OID 672050)
-- Dependencies: 4957 626 632
-- Name: fk_acces_fonctionnalite_fonction_defaut_fonctionnalite; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_fonction_defaut
    ADD CONSTRAINT fk_acces_fonctionnalite_fonction_defaut_fonctionnalite FOREIGN KEY (fonctionnalite_id) REFERENCES fonctionnalite(id);


--
-- TOC entry 5544 (class 2606 OID 672022)
-- Dependencies: 4081 243 630
-- Name: fk_acces_fonctionnalite_fonction_etablissement; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_fonction
    ADD CONSTRAINT fk_acces_fonctionnalite_fonction_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5542 (class 2606 OID 672032)
-- Dependencies: 4097 251 630
-- Name: fk_acces_fonctionnalite_fonction_fonction; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_fonction
    ADD CONSTRAINT fk_acces_fonctionnalite_fonction_fonction FOREIGN KEY (fonction_id) REFERENCES ent.fonction(id);


--
-- TOC entry 5543 (class 2606 OID 672027)
-- Dependencies: 4957 626 630
-- Name: fk_acces_fonctionnalite_fonction_fonctionnalite; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_fonction
    ADD CONSTRAINT fk_acces_fonctionnalite_fonction_fonctionnalite FOREIGN KEY (fonctionnalite_id) REFERENCES fonctionnalite(id);


--
-- TOC entry 5541 (class 2606 OID 671998)
-- Dependencies: 4081 243 628
-- Name: fk_acces_fonctionnalite_personne_etablissement; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_personne
    ADD CONSTRAINT fk_acces_fonctionnalite_personne_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5540 (class 2606 OID 672003)
-- Dependencies: 4957 626 628
-- Name: fk_acces_fonctionnalite_personne_fonctionnalite; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_personne
    ADD CONSTRAINT fk_acces_fonctionnalite_personne_fonctionnalite FOREIGN KEY (fonctionnalite_id) REFERENCES fonctionnalite(id);


--
-- TOC entry 5539 (class 2606 OID 672008)
-- Dependencies: 4051 232 628
-- Name: fk_acces_fonctionnalite_personne_personne; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY acces_fonctionnalite_personne
    ADD CONSTRAINT fk_acces_fonctionnalite_personne_personne FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5464 (class 2606 OID 671414)
-- Dependencies: 4827 562 562
-- Name: fk_autorisation_autorisation; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY autorisation
    ADD CONSTRAINT fk_autorisation_autorisation FOREIGN KEY (autorisation_heritee_id) REFERENCES autorisation(id) ON DELETE CASCADE;


--
-- TOC entry 5463 (class 2606 OID 671419)
-- Dependencies: 4056 233 562
-- Name: fk_autorisation_autorite; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY autorisation
    ADD CONSTRAINT fk_autorisation_autorite FOREIGN KEY (autorite_id) REFERENCES autorite(id) ON DELETE CASCADE;


--
-- TOC entry 5462 (class 2606 OID 671424)
-- Dependencies: 4833 565 562
-- Name: fk_autorisation_item; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY autorisation
    ADD CONSTRAINT fk_autorisation_item FOREIGN KEY (item_id) REFERENCES item(id);


--
-- TOC entry 5026 (class 2606 OID 671429)
-- Dependencies: 4001 193 233
-- Name: fk_autorite_annuaire_import; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY autorite
    ADD CONSTRAINT fk_autorite_annuaire_import FOREIGN KEY (annuaire_import_id) REFERENCES annuaire_interface.demande_import(id);


--
-- TOC entry 5027 (class 2606 OID 671434)
-- Dependencies: 3989 185 233
-- Name: fk_autorite_import; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY autorite
    ADD CONSTRAINT fk_autorite_import FOREIGN KEY (import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5466 (class 2606 OID 671439)
-- Dependencies: 3989 185 565
-- Name: fk_item_import; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY item
    ADD CONSTRAINT fk_item_import FOREIGN KEY (import_id) REFERENCES aaf.import(id);


--
-- TOC entry 5465 (class 2606 OID 671444)
-- Dependencies: 4833 565 565
-- Name: fk_item_item; Type: FK CONSTRAINT; Schema: securite; Owner: eliot_scolarite
--

ALTER TABLE ONLY item
    ADD CONSTRAINT fk_item_item FOREIGN KEY (item_parent_id) REFERENCES item(id);


SET search_path = td, pg_catalog;

--
-- TOC entry 5470 (class 2606 OID 671449)
-- Dependencies: 4051 232 569
-- Name: fk_copie_correcteur_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT fk_copie_correcteur_id FOREIGN KEY (correcteur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5469 (class 2606 OID 671454)
-- Dependencies: 4051 232 569
-- Name: fk_copie_eleve_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT fk_copie_eleve_id FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5468 (class 2606 OID 671459)
-- Dependencies: 4855 571 569
-- Name: fk_copie_modalite_activite_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT fk_copie_modalite_activite_id FOREIGN KEY (modalite_activite_id) REFERENCES modalite_activite(id);


--
-- TOC entry 5467 (class 2606 OID 671464)
-- Dependencies: 4897 585 569
-- Name: fk_copie_sujet_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY copie
    ADD CONSTRAINT fk_copie_sujet_id FOREIGN KEY (sujet_id) REFERENCES sujet(id);


--
-- TOC entry 5476 (class 2606 OID 671469)
-- Dependencies: 4051 232 571
-- Name: fk_modalite_activite_enseignant_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_enseignant_id FOREIGN KEY (enseignant_id) REFERENCES ent.personne(id);


--
-- TOC entry 5475 (class 2606 OID 671474)
-- Dependencies: 4081 243 571
-- Name: fk_modalite_activite_etablissement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5474 (class 2606 OID 671484)
-- Dependencies: 4103 255 571
-- Name: fk_modalite_activite_matiere_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_matiere_id FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5473 (class 2606 OID 671489)
-- Dependencies: 4051 232 571
-- Name: fk_modalite_activite_responsable_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_responsable_id FOREIGN KEY (responsable_id) REFERENCES ent.personne(id);


--
-- TOC entry 5472 (class 2606 OID 671494)
-- Dependencies: 4188 293 571
-- Name: fk_modalite_activite_structure_enseignement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_structure_enseignement_id FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5471 (class 2606 OID 671499)
-- Dependencies: 4897 585 571
-- Name: fk_modalite_activite_sujet_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY modalite_activite
    ADD CONSTRAINT fk_modalite_activite_sujet_id FOREIGN KEY (sujet_id) REFERENCES sujet(id);


--
-- TOC entry 5487 (class 2606 OID 671504)
-- Dependencies: 4906 591 574
-- Name: fk_question_attachement_attachement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question_attachement
    ADD CONSTRAINT fk_question_attachement_attachement_id FOREIGN KEY (attachement_id) REFERENCES tice.attachement(id);


--
-- TOC entry 5477 (class 2606 OID 671509)
-- Dependencies: 4906 591 573
-- Name: fk_question_attachement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_attachement_id FOREIGN KEY (attachement_id) REFERENCES tice.attachement(id);


--
-- TOC entry 5486 (class 2606 OID 671514)
-- Dependencies: 4866 573 574
-- Name: fk_question_attachement_question_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question_attachement
    ADD CONSTRAINT fk_question_attachement_question_id FOREIGN KEY (question_id) REFERENCES question(id);


--
-- TOC entry 5478 (class 2606 OID 671519)
-- Dependencies: 4917 595 573
-- Name: fk_question_copyrights_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_copyrights_id FOREIGN KEY (copyrights_type_id) REFERENCES tice.copyrights_type(id);


--
-- TOC entry 5479 (class 2606 OID 671524)
-- Dependencies: 4081 243 573
-- Name: fk_question_etablissement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5480 (class 2606 OID 671529)
-- Dependencies: 4897 585 573
-- Name: fk_question_exercice_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_exercice_id FOREIGN KEY (exercice_id) REFERENCES sujet(id);


--
-- TOC entry 5489 (class 2606 OID 671534)
-- Dependencies: 4919 597 576
-- Name: fk_question_export_format_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question_export
    ADD CONSTRAINT fk_question_export_format_id FOREIGN KEY (format_id) REFERENCES tice.export_format(id);


--
-- TOC entry 5488 (class 2606 OID 671539)
-- Dependencies: 4866 573 576
-- Name: fk_question_export_question_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question_export
    ADD CONSTRAINT fk_question_export_question_id FOREIGN KEY (question_id) REFERENCES question(id);


--
-- TOC entry 5481 (class 2606 OID 671544)
-- Dependencies: 4103 255 573
-- Name: fk_question_matiere_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_matiere_id FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5482 (class 2606 OID 671549)
-- Dependencies: 4121 263 573
-- Name: fk_question_niveau_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_niveau_id FOREIGN KEY (niveau_id) REFERENCES ent.niveau(id);


--
-- TOC entry 5483 (class 2606 OID 671554)
-- Dependencies: 4051 232 573
-- Name: fk_question_proprietaire_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_proprietaire_id FOREIGN KEY (proprietaire_id) REFERENCES ent.personne(id);


--
-- TOC entry 5484 (class 2606 OID 671559)
-- Dependencies: 4922 599 573
-- Name: fk_question_publication_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_publication_id FOREIGN KEY (publication_id) REFERENCES tice.publication(id);


--
-- TOC entry 5485 (class 2606 OID 671564)
-- Dependencies: 4876 579 573
-- Name: fk_question_type_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY question
    ADD CONSTRAINT fk_question_type_id FOREIGN KEY (type_id) REFERENCES question_type(id);


--
-- TOC entry 5495 (class 2606 OID 671569)
-- Dependencies: 4906 591 582
-- Name: fk_reponse_attachement_attachement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse_attachement
    ADD CONSTRAINT fk_reponse_attachement_attachement_id FOREIGN KEY (attachement_id) REFERENCES tice.attachement(id);


--
-- TOC entry 5494 (class 2606 OID 671574)
-- Dependencies: 4882 581 582
-- Name: fk_reponse_attachement_reponse_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse_attachement
    ADD CONSTRAINT fk_reponse_attachement_reponse_id FOREIGN KEY (reponse_id) REFERENCES reponse(id);


--
-- TOC entry 5493 (class 2606 OID 671579)
-- Dependencies: 4843 569 581
-- Name: fk_reponse_copie_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT fk_reponse_copie_id FOREIGN KEY (copie_id) REFERENCES copie(id);


--
-- TOC entry 5492 (class 2606 OID 671584)
-- Dependencies: 4051 232 581
-- Name: fk_reponse_correcteur_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT fk_reponse_correcteur_id FOREIGN KEY (correcteur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5491 (class 2606 OID 671589)
-- Dependencies: 4051 232 581
-- Name: fk_reponse_eleve_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT fk_reponse_eleve_id FOREIGN KEY (eleve_id) REFERENCES ent.personne(id);


--
-- TOC entry 5490 (class 2606 OID 671594)
-- Dependencies: 4901 587 581
-- Name: fk_reponse_sujet_question_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY reponse
    ADD CONSTRAINT fk_reponse_sujet_question_id FOREIGN KEY (sujet_question_id) REFERENCES sujet_sequence_questions(id);


--
-- TOC entry 5502 (class 2606 OID 671599)
-- Dependencies: 4917 595 585
-- Name: fk_sujet_copyrights_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_copyrights_id FOREIGN KEY (copyrights_type_id) REFERENCES tice.copyrights_type(id);


--
-- TOC entry 5501 (class 2606 OID 671604)
-- Dependencies: 4081 243 585
-- Name: fk_sujet_etablissement_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_etablissement_id FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5500 (class 2606 OID 671609)
-- Dependencies: 4103 255 585
-- Name: fk_sujet_matiere_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_matiere_id FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5499 (class 2606 OID 671614)
-- Dependencies: 4121 263 585
-- Name: fk_sujet_niveau_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_niveau_id FOREIGN KEY (niveau_id) REFERENCES ent.niveau(id);


--
-- TOC entry 5498 (class 2606 OID 671619)
-- Dependencies: 4051 232 585
-- Name: fk_sujet_proprietaire_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_proprietaire_id FOREIGN KEY (proprietaire_id) REFERENCES ent.personne(id);


--
-- TOC entry 5497 (class 2606 OID 671624)
-- Dependencies: 4922 599 585
-- Name: fk_sujet_publication_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_publication_id FOREIGN KEY (publication_id) REFERENCES tice.publication(id);


--
-- TOC entry 5504 (class 2606 OID 671629)
-- Dependencies: 4866 573 587
-- Name: fk_sujet_sequence_questions_question_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet_sequence_questions
    ADD CONSTRAINT fk_sujet_sequence_questions_question_id FOREIGN KEY (question_id) REFERENCES question(id);


--
-- TOC entry 5503 (class 2606 OID 671634)
-- Dependencies: 4897 585 587
-- Name: fk_sujet_sequence_questions_sujet_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet_sequence_questions
    ADD CONSTRAINT fk_sujet_sequence_questions_sujet_id FOREIGN KEY (sujet_id) REFERENCES sujet(id);


--
-- TOC entry 5496 (class 2606 OID 671639)
-- Dependencies: 4903 589 585
-- Name: fk_sujet_sujet_type_id; Type: FK CONSTRAINT; Schema: td; Owner: eliot_scolarite
--

ALTER TABLE ONLY sujet
    ADD CONSTRAINT fk_sujet_sujet_type_id FOREIGN KEY (sujet_type_id) REFERENCES sujet_type(id);


SET search_path = tice, pg_catalog;

--
-- TOC entry 5505 (class 2606 OID 671644)
-- Dependencies: 4051 232 593
-- Name: fk_compte_utilisateur_personne_id; Type: FK CONSTRAINT; Schema: tice; Owner: eliot_scolarite
--

ALTER TABLE ONLY compte_utilisateur
    ADD CONSTRAINT fk_compte_utilisateur_personne_id FOREIGN KEY (personne_id) REFERENCES ent.personne(id);


--
-- TOC entry 5506 (class 2606 OID 671649)
-- Dependencies: 4917 595 599
-- Name: fk_publication_copyrights_type_id; Type: FK CONSTRAINT; Schema: tice; Owner: eliot_scolarite
--

ALTER TABLE ONLY publication
    ADD CONSTRAINT fk_publication_copyrights_type_id FOREIGN KEY (copyrights_type_id) REFERENCES copyrights_type(id);


SET search_path = udt, pg_catalog;

--
-- TOC entry 5510 (class 2606 OID 671654)
-- Dependencies: 4930 605 601
-- Name: fk_enseignement_import; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_import FOREIGN KEY (udt_import_id) REFERENCES import(id);


--
-- TOC entry 5509 (class 2606 OID 671659)
-- Dependencies: 4103 255 601
-- Name: fk_enseignement_matiere; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_matiere FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5508 (class 2606 OID 671664)
-- Dependencies: 4051 232 601
-- Name: fk_enseignement_personne; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_personne FOREIGN KEY (professeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5507 (class 2606 OID 671669)
-- Dependencies: 4188 293 601
-- Name: fk_enseignement_structure_enseignement; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY enseignement
    ADD CONSTRAINT fk_enseignement_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5514 (class 2606 OID 671674)
-- Dependencies: 4930 605 603
-- Name: fk_evenement_import; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_import FOREIGN KEY (udt_import_id) REFERENCES import(id);


--
-- TOC entry 5513 (class 2606 OID 671679)
-- Dependencies: 4103 255 603
-- Name: fk_evenement_matiere; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_matiere FOREIGN KEY (matiere_id) REFERENCES ent.matiere(id);


--
-- TOC entry 5512 (class 2606 OID 671684)
-- Dependencies: 4051 232 603
-- Name: fk_evenement_personne; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_personne FOREIGN KEY (professeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5511 (class 2606 OID 671689)
-- Dependencies: 4188 293 603
-- Name: fk_evenement_structure_enseignement; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY evenement
    ADD CONSTRAINT fk_evenement_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5515 (class 2606 OID 671694)
-- Dependencies: 4081 243 605
-- Name: fk_import_etablissement; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY import
    ADD CONSTRAINT fk_import_etablissement FOREIGN KEY (etablissement_id) REFERENCES ent.etablissement(id);


--
-- TOC entry 5518 (class 2606 OID 671699)
-- Dependencies: 4930 605 607
-- Name: fk_professeur_principal_import; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY professeur_principal
    ADD CONSTRAINT fk_professeur_principal_import FOREIGN KEY (udt_import_id) REFERENCES import(id);


--
-- TOC entry 5517 (class 2606 OID 671704)
-- Dependencies: 4051 232 607
-- Name: fk_professeur_principal_personne; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY professeur_principal
    ADD CONSTRAINT fk_professeur_principal_personne FOREIGN KEY (professeur_id) REFERENCES ent.personne(id);


--
-- TOC entry 5516 (class 2606 OID 671709)
-- Dependencies: 4188 293 607
-- Name: fk_professeur_principal_structure_enseignement; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY professeur_principal
    ADD CONSTRAINT fk_professeur_principal_structure_enseignement FOREIGN KEY (structure_enseignement_id) REFERENCES ent.structure_enseignement(id);


--
-- TOC entry 5519 (class 2606 OID 671714)
-- Dependencies: 4930 605 609
-- Name: pk_semaine_importee_udt_import_id; Type: FK CONSTRAINT; Schema: udt; Owner: eliot_scolarite
--

ALTER TABLE ONLY semaine_importee
    ADD CONSTRAINT pk_semaine_importee_udt_import_id FOREIGN KEY (udt_import_id) REFERENCES import(id);


--
-- TOC entry 5820 (class 0 OID 0)
-- Dependencies: 27
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2013-09-26 14:41:16 CEST

--
-- PostgreSQL database dump complete
--

